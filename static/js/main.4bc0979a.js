/*! For license information please see main.4bc0979a.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,I=60107,S=60108,_=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,M=60128,L=60129,F=60130,V=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),_=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),V=U("react.legacy_hidden")}var j,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Oe,Fe=!1,Ve=!1;function Ue(){null===Ce&&null===Ae||(Me(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,$e={onError:function(e){We=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,Ke=null,qe.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)yt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},_t={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return St[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Vt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Lt):0!==(u&=a)&&(r=Ft(u),i=Lt)}else 0!==(a=n&~o)?(r=Ft(a),i=Lt):0!==u&&(r=Ft(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Me();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Xt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},dn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Dn),Ln=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Vn=null;f&&"documentMode"in document&&(Vn=document.documentMode);var Un=f&&"TextEvent"in window&&!Vn,jn=f&&(!Fn||Vn&&8<Vn&&11>=Vn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if($n(t,Yn,e,_e(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Ot.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ve)return e(t,n);Ve=!0;try{Le(e,t,n)}finally{Ve=!1,Ue()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=je(p,d))&&l.push(Lr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ii(s),h=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,ni(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Vr(h))p++;for(h=0,v=d;v;v=Vr(v))h++;for(;0<p-h;)l=Vr(l),p--;for(;0<h-p;)d=Vr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Vr(l),d=Vr(d)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?$n(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=je(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),vi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(hi)}function ki(e,t,n){if(hi.current!==di)throw Error(o(168));fi(hi,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,vi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),fi(hi,e)):li(pi),fi(pi,n)}var Ei=null,Ii=null,Si=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},Vi=void 0!==Ai?Ai:function(){},Ui=null,ji=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Si(e,t)}function Gi(e,t,n){return e=Ki(e),_i(e,t,n)}function $i(){if(null!==ji){var e=ji;ji=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),_i(Pi,$i),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=a.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=i({},d,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=d),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=d}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=hs(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,a))}function ka(e,t,n){var r=!1,i=di,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:hi.current,i.context=mi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$s(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=$s(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=h(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=$s(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var _a=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function Ma(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function La(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,ja=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=$r(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,ja=$r(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!za)return Ka(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=ja;t;)Ba(e,t),t=$r(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Ua=null,za=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Mo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Za;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=hs(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hs(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=ds(),i=hs(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:_o,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:_o,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Fo=!1;function Vo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):_a(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Vo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:hi.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var d=t.memoizedState;o.state=d,ha(t,r,o,i),s=t.memoizedState,u!==r||d!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&ba(t,o,r,s),ua=!1,d=t.memoizedState,o.state=d,ha(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||pi.current||ua?("function"===typeof h&&(ma(t,n,h,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Vo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var $o,Qo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=$s(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=$s(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Vo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(hi),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Nr(_r[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Nr(_r[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Vu&&(Vu=3):(0!==Vu&&3!==Vu||(Vu=4),null===Ou||0===(134217727&zu)&&0===(134217727&Bu)||gs(Ou,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Vu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Va(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Va(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(hi),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function hu(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):Iu(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Pu=0,Ou=null,Du=null,Mu=0,Lu=0,Fu=ci(0),Vu=0,Uu=null,ju=0,zu=0,Bu=0,qu=0,Wu=null,Ku=0,Hu=1/0;function Gu(){Hu=qi()+500}var $u,Qu=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function ds(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function hs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Pu)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ou&&(Bu|=t,4===Vu&&gs(e,Mu));var r=Wi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Gu(),$i())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Vt(e,e===Ou?Mu:0),t=Lt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],ji=_i(Pi,Qi)):Ui.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=Vt(e,e===Ou?Mu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=_s();for(Ou===e&&Mu===r||(Gu(),Is(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ou=null,Mu=0,r=Vu),0!==(ju&Bu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-qi())){if(0!==Vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Kr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ms(),e===Ou&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Ts(e,t);0!==(ju&Bu)&&(n=Ts(e,t=Vt(e,t)))}else n=Ts(e,t=Vt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}}function xs(e,t){fi(Fu,Lu),Lu|=t,ju|=t}function Es(){Lu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(hi),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Ou=e,Du=Hs(e.current,null),Mu=Lu=ju=t,Vu=0,Uu=null,qu=Bu=zu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Vu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var y=new Set;y.add(c),d.updateQueue=y}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vu&&(Vu=2),s=cu(s,u),d=o;do{switch(d.tag){case 3:a=s,d.flags|=4096,t&=-t,d.lanes|=t,da(d,du(0,a,t));break e;case 1:a=s;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,da(d,hu(d,a,t));break e}}d=d.return}while(null!==d)}Rs(n)}catch(E){t=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function _s(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=_s();for(Ou===e&&Mu===t||Is(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ou=null,Mu=0,Vu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=$u(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Vu&&(Vu=5)}function Ps(e){var t=Wi();return Hi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ms()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Du=Ou=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ru.current=null,zr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(_){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(d=f+a),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(d=f),y===c&&++v===l&&(h=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(_){if(null===Qu)throw Error(o(330));js(Qu,_),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,_u(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,_u(Qu.alternate,Qu);break;case 4:_u(Qu.alternate,Qu);break;case 8:Su(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(_){if(null===Qu)throw Error(o(330));js(Qu,_),Qu=Qu.nextEffect}}while(null!==Qu);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!zr,Br=zr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var E=Qu.flags;if(36&E&&yu(k,Qu.alternate,Qu),128&E){b=void 0;var I=Qu.ref;if(null!==I){var S=Qu.stateNode;Qu.tag,b=S,"function"===typeof I?I(b):I.current=b}}Qu=Qu.nextEffect}}catch(_){if(null===Qu)throw Error(o(330));js(Qu,_),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Vi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((E=Qu).sibling=null,E.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(_){}if(ms(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||$i(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ms(),null}))),Qu=Qu.nextEffect}}function Ms(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Vs)}return!1}function Ls(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ms(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ms(),null})))}function Vs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,$i(),!0}function Us(e,t,n){fa(e,t=du(0,t=cu(n,t),1)),t=ds(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=hu(n,e=cu(t,e),1);if(fa(n,i),i=ds(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Mu&n)===n&&(4===Vu||3===Vu&&(62914560&Mu)===Mu&&500>qi()-Ku?Is(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=ju),0===(t=zt(62914560&~ss))&&(t=4194304))),n=ds(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return $s(n.children,i,a,t);case L:u=8,i|=16;break;case S:u=8,i|=1;break;case _:return(e=Ws(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Qs(n,i,a,t);case V:return(e=Ws(24,n,t,i)).elementType=V,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $s(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=ds(),u=hs(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}$u=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ma(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Vo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vo(e,t,r,n),Ga();t=t.child}return t;case 5:return Ma(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Vo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Vo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),jo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,ds()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,ds()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=ds(),n=hs(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),$i())}},Me=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}$i()}(),Ms())},Le=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}};var sc={Events:[ri,ii,ai,Re,Pe,Ms,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),d=k("react.memo"),h=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+_(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+_(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+_(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(h(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){h(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=E(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(_,t)}t=E(T)}}function M(e){if(O=!1,D(e),!P)if(null!==E(_))P=!0,n(L);else{var t=E(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=E(_);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===E(_)&&I(_),D(n)}else I(_);A=E(_)}if(null!==A)var s=!0;else{var c=E(T);null!==c&&r(M,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(_)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(_)&&e===E(T)&&(O?i():O=!0,r(M,o-u))):(e.sortIndex=s,x(_,e),P||R||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return lo},SDK_VERSION:function(){return su},_DEFAULT_ENTRY_NAME:function(){return Qo},_addComponent:function(){return Zo},_addOrOverwriteComponent:function(){return eu},_apps:function(){return Xo},_clearComponents:function(){return iu},_components:function(){return Jo},_getProvider:function(){return nu},_registerComponent:function(){return tu},_removeServiceInstance:function(){return ru},deleteApp:function(){return du},getApp:function(){return lu},getApps:function(){return fu},initializeApp:function(){return cu},onLog:function(){return vu},registerVersion:function(){return pu},setLogLevel:function(){return mu}});var t,r=n(791),i=n.t(r,2),a=n(164);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var d=function(e){return e};var h="beforeunload",p="popstate";function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(e,t){if(!e)throw new Error(t)}var w=(0,r.createContext)(null);var x=(0,r.createContext)(null);var E=(0,r.createContext)({outlet:null,matches:[]});function I(e){b(!1)}function S(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;T()&&b(!1);var h=z(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,E=void 0===g?"":g,I=v.hash,S=void 0===I?"":I,_=v.state,C=void 0===_?null:_,A=v.key,N=void 0===A?"default":A,R=(0,r.useMemo)((function(){var e=U(y,h);return null==e?null:{pathname:e,search:E,hash:S,state:C,key:N}}),[h,y,E,S,C,N]);return null==R?null:(0,r.createElement)(w.Provider,{value:p},(0,r.createElement)(x.Provider,{children:o,value:{location:R,navigationType:c}}))}function _(e){var t=e.children,n=e.location;return function(e,t){T()||b(!1);var n=(0,r.useContext)(E).matches,i=n[n.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=C();if(t){var c,l="string"===typeof t?k(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||b(!1),u=l}else u=s;var f=u.pathname||"/",d="/"===o?f:f.slice(o.length)||"/",h=function(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}(e,{pathname:d});0;return L(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:j([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:j([o,e.pathnameBase])})})),n)}(N(t),n)}function T(){return null!=(0,r.useContext)(x)}function C(){return T()||b(!1),(0,r.useContext)(x).location}function A(){T()||b(!1);var e=(0,r.useContext)(w),t=e.basename,n=e.navigator,i=(0,r.useContext)(E).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=V(e,JSON.parse(o),a);"/"!==t&&(i.pathname=j([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function N(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==I&&b(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=N(e.props.children)),t.push(n)}else t.push.apply(t,N(e.props.children))})),t}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=j([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),R(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:u})})),t}var P=/^:\w+$/,O=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=F({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:j([i,l.pathname]),pathnameBase:z(j([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=j([i,l.pathnameBase]))}return a}function L(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(E.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function V(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:B(a),hash:q(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},B=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,d({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(p,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else _(e)}}));var u=t.Pop,s=a(),c=s[0],l=s[1],b=m(),w=m();function x(e){return"string"===typeof e?e:g(e)}function E(e,t){return void 0===t&&(t=null),d(f({pathname:l.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:y()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function _(e){u=e;var t=a();c=t[0],l=t[1],b.call({action:u,location:l})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(f({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return l},createHref:x,push:function e(n,a){var o=t.Push,u=E(n,a);if(S(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(d){r.location.assign(f)}_(o)}},replace:function e(n,r){var a=t.Replace,o=E(n,r);if(S(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),_(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,v),function(){t(),w.length||r.removeEventListener(h,v)}}};return C}({window:a}));var u=o.current,s=l((0,r.useState)({action:u.action,location:u.location}),2),c=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(S,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:u})}var K=n(184),H=function(){return(0,K.jsx)("div",{className:"error",children:"Strona nie istnieje!"})};function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Q(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Q(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Y(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Q(e))&&(r&&(r+=" "),r+=t);return r}function X(e,t){var n=f({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}function J(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function Z(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function te(e){if(e.type)return e;if("#"===e.charAt(0))return te(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Z(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Z(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function ne(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function re(e){var t="hsl"===(e=te(e)).type?te(function(e){var t=(e=te(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),ne({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ie(e,t){return e=te(e),t=ee(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,ne(e)}function ae(e,t){if(e=te(e),t=ee(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ne(e)}function oe(e,t){if(e=te(e),t=ee(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ne(e)}function ue(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function se(e){return function(e){if(Array.isArray(e))return u(e)}(e)||ue(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},le=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fe=ce((function(e){return le.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var de=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),he=Math.abs,pe=String.fromCharCode,ve=Object.assign;function me(e){return e.trim()}function ye(e,t,n){return e.replace(t,n)}function ge(e,t){return e.indexOf(t)}function ke(e,t){return 0|e.charCodeAt(t)}function be(e,t,n){return e.slice(t,n)}function we(e){return e.length}function xe(e){return e.length}function Ee(e,t){return t.push(e),e}var Ie=1,Se=1,_e=0,Te=0,Ce=0,Ae="";function Ne(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Ie,column:Se,length:o,return:""}}function Re(e,t){return ve(Ne("",null,null,"",null,null,0),e,{length:-e.length},t)}function Pe(){return Ce=Te>0?ke(Ae,--Te):0,Se--,10===Ce&&(Se=1,Ie--),Ce}function Oe(){return Ce=Te<_e?ke(Ae,Te++):0,Se++,10===Ce&&(Se=1,Ie++),Ce}function De(){return ke(Ae,Te)}function Me(){return Te}function Le(e,t){return be(Ae,e,t)}function Fe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ve(e){return Ie=Se=1,_e=we(Ae=e),Te=0,[]}function Ue(e){return Ae="",e}function je(e){return me(Le(Te-1,qe(91===e?e+2:40===e?e+1:e)))}function ze(e){for(;(Ce=De())&&Ce<33;)Oe();return Fe(e)>2||Fe(Ce)>3?"":" "}function Be(e,t){for(;--t&&Oe()&&!(Ce<48||Ce>102||Ce>57&&Ce<65||Ce>70&&Ce<97););return Le(e,Me()+(t<6&&32==De()&&32==Oe()))}function qe(e){for(;Oe();)switch(Ce){case e:return Te;case 34:case 39:34!==e&&39!==e&&qe(Ce);break;case 40:41===e&&qe(e);break;case 92:Oe()}return Te}function We(e,t){for(;Oe()&&e+Ce!==57&&(e+Ce!==84||47!==De()););return"/*"+Le(t,Te-1)+"*"+pe(47===e?e:Oe())}function Ke(e){for(;!Fe(De());)Oe();return Le(e,Te)}var He="-ms-",Ge="-moz-",$e="-webkit-",Qe="comm",Ye="rule",Xe="decl",Je="@keyframes";function Ze(e,t){for(var n="",r=xe(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function et(e,t,n,r){switch(e.type){case"@import":case Xe:return e.return=e.return||e.value;case Qe:return"";case Je:return e.return=e.value+"{"+Ze(e.children,r)+"}";case Ye:e.value=e.props.join(",")}return we(n=Ze(e.children,r))?e.return=e.value+"{"+n+"}":""}function tt(e,t){switch(function(e,t){return(((t<<2^ke(e,0))<<2^ke(e,1))<<2^ke(e,2))<<2^ke(e,3)}(e,t)){case 5103:return $e+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+e+Ge+e+He+e+e;case 6828:case 4268:return $e+e+He+e+e;case 6165:return $e+e+He+"flex-"+e+e;case 5187:return $e+e+ye(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return $e+e+He+"flex-item-"+ye(e,/flex-|-self/,"")+e;case 4675:return $e+e+He+"flex-line-pack"+ye(e,/align-content|flex-|-self/,"")+e;case 5548:return $e+e+He+ye(e,"shrink","negative")+e;case 5292:return $e+e+He+ye(e,"basis","preferred-size")+e;case 6060:return $e+"box-"+ye(e,"-grow","")+$e+e+He+ye(e,"grow","positive")+e;case 4554:return $e+ye(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return ye(ye(ye(e,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),e,"")+e;case 5495:case 3959:return ye(e,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return ye(ye(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+e+e;case 4095:case 3583:case 4068:case 2532:return ye(e,/(.+)-inline(.+)/,$e+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(we(e)-1-t>6)switch(ke(e,t+1)){case 109:if(45!==ke(e,t+4))break;case 102:return ye(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Ge+(108==ke(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ge(e,"stretch")?tt(ye(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ke(e,t+1))break;case 6444:switch(ke(e,we(e)-3-(~ge(e,"!important")&&10))){case 107:return ye(e,":",":"+$e)+e;case 101:return ye(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$e+(45===ke(e,14)?"inline-":"")+"box$3$1"+$e+"$2$3$1"+He+"$2box$3")+e}break;case 5936:switch(ke(e,t+11)){case 114:return $e+e+He+ye(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $e+e+He+ye(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $e+e+He+ye(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $e+e+He+e+e}return e}function nt(e){return Ue(rt("",null,null,null,[""],e=Ve(e),0,[0],e))}function rt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,E=k;m;)switch(p=g,g=Oe()){case 40:if(108!=p&&58==E.charCodeAt(f-1)){-1!=ge(E+=ye(je(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=je(g);break;case 9:case 10:case 13:case 32:E+=ze(p);break;case 92:E+=Be(Me()-1,7);continue;case 47:switch(De()){case 42:case 47:Ee(at(We(Oe(),Me()),t,n),s);break;default:E+="/"}break;case 123*v:u[c++]=we(E)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:h>0&&we(E)-f&&Ee(h>32?ot(E+";",r,n,f-1):ot(ye(E," ","")+";",r,n,f-2),s);break;case 59:E+=";";default:if(Ee(x=it(E,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)rt(E,t,x,x,b,a,f,u,w);else switch(d){case 100:case 109:case 115:rt(e,x,x,r&&Ee(it(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:rt(E,x,x,x,[""],w,0,u,w)}}c=l=h=0,v=y=1,k=E="",f=o;break;case 58:f=1+we(E),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Pe())continue;switch(E+=pe(g),g*v){case 38:y=l>0?1:(E+="\f",-1);break;case 44:u[c++]=(we(E)-1)*y,y=1;break;case 64:45===De()&&(E+=je(Oe())),d=De(),l=f=we(k=E+=Ke(Me())),g++;break;case 45:45===p&&2==we(E)&&(v=0)}}return a}function it(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=xe(d),p=0,v=0,m=0;p<r;++p)for(var y=0,g=be(e,f+1,f=he(v=o[p])),k=e;y<h;++y)(k=me(v>0?d[y]+" "+g:ye(g,/&\f/g,d[y])))&&(s[m++]=k);return Ne(e,t,n,0===i?Ye:u,s,c,l)}function at(e,t,n){return Ne(e,t,n,Qe,pe(Ce),be(e,2,-2),0)}function ot(e,t,n,r){return Ne(e,t,n,Xe,be(e,0,r),be(e,r+1,-1),r)}var ut=function(e,t,n){for(var r=0,i=0;r=i,i=De(),38===r&&12===i&&(t[n]=1),!Fe(i);)Oe();return Le(e,Te)},st=function(e,t){return Ue(function(e,t){var n=-1,r=44;do{switch(Fe(r)){case 0:38===r&&12===De()&&(t[n]=1),e[n]+=ut(Te-1,t,n);break;case 2:e[n]+=je(r);break;case 4:if(44===r){e[++n]=58===De()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=pe(r)}}while(r=Oe());return e}(Ve(e),t))},ct=new WeakMap,lt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ct.get(n))&&!r){ct.set(e,!0);for(var i=[],a=st(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ft=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},dt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Xe:e.return=tt(e.value,e.length);break;case Je:return Ze([Re(e,{value:ye(e.value,"@","@"+$e)})],r);case Ye:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ze([Re(e,{props:[ye(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ze([Re(e,{props:[ye(t,/:(plac\w+)/,":-webkit-input-$1")]}),Re(e,{props:[ye(t,/:(plac\w+)/,":-moz-$1")]}),Re(e,{props:[ye(t,/:(plac\w+)/,He+"input-$1")]})],r)}return""}))}}],ht=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||dt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[et,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=xe(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([lt,ft].concat(r,l));a=function(e,t,n,r){s=n,function(e){Ze(nt(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new de({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var pt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},vt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mt=/[A-Z]|^ms/g,yt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gt=function(e){return 45===e.charCodeAt(1)},kt=function(e){return null!=e&&"boolean"!==typeof e},bt=ce((function(e){return gt(e)?e:e.replace(mt,"-$&").toLowerCase()})),wt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(yt,(function(e,t,n){return Et={name:t,styles:n,next:Et},t}))}return 1===vt[e]||gt(e)||"number"!==typeof t||0===t?t:t+"px"};function xt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Et={name:n.name,styles:n.styles,next:Et},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Et={name:r.name,styles:r.styles,next:Et},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":kt(o)&&(r+=bt(a)+":"+wt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=xt(e,t,o);switch(a){case"animation":case"animationName":r+=bt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)kt(o[s])&&(r+=bt(a)+":"+wt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Et,a=n(e);return Et=i,xt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Et,It=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var St=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Et=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=xt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=xt(n,t,e[o]),r&&(i+=a[o]);It.lastIndex=0;for(var u,s="";null!==(u=It.exec(i));)s+="-"+u[1];return{name:pt(i)+s,styles:i,next:Et}},_t=(0,r.createContext)("undefined"!==typeof HTMLElement?ht({key:"css"}):null);_t.Provider;var Tt=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(_t);return e(t,i,n)}))},Ct=(0,r.createContext)({});i.useInsertionEffect&&i.useInsertionEffect;function At(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Nt=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Rt=function(e,t,n){Nt(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Pt=fe,Ot=function(e){return"theme"!==e},Dt=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Pt:Ot},Mt=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Lt=i.useInsertionEffect?i.useInsertionEffect:function(e){e()};var Ft=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Nt(t,n,r);Lt((function(){return Rt(t,n,r)}));return null},Vt=function e(t,n){var i,a,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var s=Mt(t,n,o),c=s||Dt(u),l=!c("as");return function(){var d=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var p=d.length,v=1;v<p;v++)h.push(d[v],d[0][v])}var m=Tt((function(e,t,n){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,r.useContext)(Ct)}"string"===typeof e.className?o=At(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=St(h.concat(f),t.registered,d);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Dt(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=n,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Ft,{cache:t,serialized:v,isStringTag:"string"===typeof i}),(0,r.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,r){return e(t,f({},n,r,{shouldForwardProp:Mt(m,r,!0)})).apply(void 0,h)},m}},Ut=Vt.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ut[e]=Ut(e)}));var jt=Ut;function zt(e,t){return jt(e,t)}function Bt(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function qt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return Bt(e)&&Bt(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Bt(t[i])&&i in e&&Bt(e[i])?r[i]=qt(e[i],t[i],n):r[i]=t[i])})),r}var Wt=["values","unit","step"];function Kt(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=$(e,Wt),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,G({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return f({keys:c,values:s,up:l,down:d,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?d(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var Ht={borderRadius:4},Gt={xs:0,sm:600,md:900,lg:1200,xl:1536},$t={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Gt[e],"px)")}};function Qt(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||$t;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||$t;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Gt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Yt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function Xt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Jt(e){if("string"!==typeof e)throw new Error(Z(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Zt(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function en(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Zt(e,n)||i,t&&(r=t(r)),r}var tn=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Zt(e.theme,i)||{};return Qt(e,n,(function(e){var n=en(o,a,e);return e===n&&"string"===typeof e&&(n=en(o,a,"".concat(t).concat("default"===e?"":Jt(e)),e)),!1===r?n:G({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var nn=function(e,t){return t?qt(e,t,{clone:!1}):e};var rn={m:"margin",p:"padding"},an={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},on={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},un=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!on[e])return[e];e=on[e]}var t=l(e.split(""),2),n=t[0],r=t[1],i=rn[n],a=an[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),sn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cn=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ln=[].concat(sn,cn);function fn(e,t,n,r){var i=Zt(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function dn(e){return fn(e,"spacing",8)}function hn(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function pn(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=hn(t,n),e}),{})}}(un(n),r);return Qt(e,e[n],i)}function vn(e,t){var n=dn(e.theme);return Object.keys(e).map((function(r){return pn(e,t,r,n)})).reduce(nn,{})}function mn(e){return vn(e,sn)}function yn(e){return vn(e,cn)}function gn(e){return vn(e,ln)}mn.propTypes={},mn.filterProps=sn,yn.propTypes={},yn.filterProps=cn,gn.propTypes={},gn.filterProps=ln;var kn=gn;function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=dn({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var wn=["breakpoints","palette","spacing","shape"];var xn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=$(e,wn),c=Kt(n),l=bn(a),d=qt({breakpoints:c,direction:"ltr",components:{},palette:f({mode:"light"},i),spacing:l,shape:f({},Ht,u)},s),h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return d=p.reduce((function(e,t){return qt(e,t)}),d)},En=["variant"];function In(e){return 0===e.length}function Sn(e){var t=e.variant,n=$(e,En),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?In(r)?e[t]:Jt(e[t]):"".concat(In(r)?t:Jt(t)).concat(Jt(e[t].toString()))})),r}var _n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?nn(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Tn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Cn=tn({prop:"border",themeKey:"borders",transform:Tn}),An=tn({prop:"borderTop",themeKey:"borders",transform:Tn}),Nn=tn({prop:"borderRight",themeKey:"borders",transform:Tn}),Rn=tn({prop:"borderBottom",themeKey:"borders",transform:Tn}),Pn=tn({prop:"borderLeft",themeKey:"borders",transform:Tn}),On=tn({prop:"borderColor",themeKey:"palette"}),Dn=tn({prop:"borderTopColor",themeKey:"palette"}),Mn=tn({prop:"borderRightColor",themeKey:"palette"}),Ln=tn({prop:"borderBottomColor",themeKey:"palette"}),Fn=tn({prop:"borderLeftColor",themeKey:"palette"}),Vn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=fn(e.theme,"shape.borderRadius",4);return Qt(e,e.borderRadius,(function(e){return{borderRadius:hn(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["borderRadius"];var Un=_n(Cn,An,Nn,Rn,Pn,On,Dn,Mn,Ln,Fn,Vn),jn=_n(tn({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),tn({prop:"display"}),tn({prop:"overflow"}),tn({prop:"textOverflow"}),tn({prop:"visibility"}),tn({prop:"whiteSpace"})),zn=_n(tn({prop:"flexBasis"}),tn({prop:"flexDirection"}),tn({prop:"flexWrap"}),tn({prop:"justifyContent"}),tn({prop:"alignItems"}),tn({prop:"alignContent"}),tn({prop:"order"}),tn({prop:"flex"}),tn({prop:"flexGrow"}),tn({prop:"flexShrink"}),tn({prop:"alignSelf"}),tn({prop:"justifyItems"}),tn({prop:"justifySelf"})),Bn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=fn(e.theme,"spacing",8);return Qt(e,e.gap,(function(e){return{gap:hn(t,e)}}))}return null};Bn.propTypes={},Bn.filterProps=["gap"];var qn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=fn(e.theme,"spacing",8);return Qt(e,e.columnGap,(function(e){return{columnGap:hn(t,e)}}))}return null};qn.propTypes={},qn.filterProps=["columnGap"];var Wn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=fn(e.theme,"spacing",8);return Qt(e,e.rowGap,(function(e){return{rowGap:hn(t,e)}}))}return null};Wn.propTypes={},Wn.filterProps=["rowGap"];var Kn=_n(Bn,qn,Wn,tn({prop:"gridColumn"}),tn({prop:"gridRow"}),tn({prop:"gridAutoFlow"}),tn({prop:"gridAutoColumns"}),tn({prop:"gridAutoRows"}),tn({prop:"gridTemplateColumns"}),tn({prop:"gridTemplateRows"}),tn({prop:"gridTemplateAreas"}),tn({prop:"gridArea"})),Hn=_n(tn({prop:"position"}),tn({prop:"zIndex",themeKey:"zIndex"}),tn({prop:"top"}),tn({prop:"right"}),tn({prop:"bottom"}),tn({prop:"left"})),Gn=_n(tn({prop:"color",themeKey:"palette"}),tn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),tn({prop:"backgroundColor",themeKey:"palette"})),$n=tn({prop:"boxShadow",themeKey:"shadows"});function Qn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Yn=tn({prop:"width",transform:Qn}),Xn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Qt(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Gt[t]||Qn(t)}}))}return null};Xn.filterProps=["maxWidth"];var Jn=tn({prop:"minWidth",transform:Qn}),Zn=tn({prop:"height",transform:Qn}),er=tn({prop:"maxHeight",transform:Qn}),tr=tn({prop:"minHeight",transform:Qn}),nr=(tn({prop:"size",cssProperty:"width",transform:Qn}),tn({prop:"size",cssProperty:"height",transform:Qn}),_n(Yn,Xn,Jn,Zn,er,tr,tn({prop:"boxSizing"}))),rr=tn({prop:"fontFamily",themeKey:"typography"}),ir=tn({prop:"fontSize",themeKey:"typography"}),ar=tn({prop:"fontStyle",themeKey:"typography"}),or=tn({prop:"fontWeight",themeKey:"typography"}),ur=tn({prop:"letterSpacing"}),sr=tn({prop:"textTransform"}),cr=tn({prop:"lineHeight"}),lr=tn({prop:"textAlign"}),fr=_n(tn({prop:"typography",cssProperty:!1,themeKey:"typography"}),rr,ir,ar,or,ur,cr,lr,sr),dr={borders:Un.filterProps,display:jn.filterProps,flexbox:zn.filterProps,grid:Kn.filterProps,positions:Hn.filterProps,palette:Gn.filterProps,shadows:$n.filterProps,sizing:nr.filterProps,spacing:kn.filterProps,typography:fr.filterProps},hr={borders:Un,display:jn,flexbox:zn,grid:Kn,positions:Hn,palette:Gn,shadows:$n,sizing:nr,spacing:kn,typography:fr};Object.keys(dr).reduce((function(e,t){return dr[t].forEach((function(n){e[n]=hr[t]})),e}),{});function pr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function vr(e,t){return"function"===typeof e?e(t):e}var mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(G(i={},e,n),G(i,"theme",r),i),o=t[e];return o?o(a):G({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=Yt(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=vr(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=nn(s,n(e,a,u));else{var o=Qt({theme:u},a,(function(t){return G({},e,t)}));pr(o,a)?s[e]=r({sx:a,theme:u}):s=nn(s,o)}else s=nn(s,n(e,a,u))})),Xt(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();mr.filterProps=["sx"];var yr=mr,gr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],kr=["theme"],br=["theme"];function wr(e){return 0===Object.keys(e).length}var xr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Er=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Sn(e.props);r[t]=e.style})),r},Ir=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Sn(n.props)])})),s};function Sr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var _r=xn();function Tr(e,t,n){var r;return f({toolbar:(r={minHeight:56},G(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),G(r,e.up("sm"),{minHeight:64}),r)},n)}var Cr={black:"#000",white:"#fff"},Ar={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Nr={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Rr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Pr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Or={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Dr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Mr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Lr=["mode","contrastThreshold","tonalOffset"],Fr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cr.white,default:Cr.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vr={text:{primary:Cr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ur(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=oe(e.main,i):"dark"===t&&(e.dark=ae(e.main,a)))}function jr(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=$(e,Lr),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Or[200],light:Or[50],dark:Or[400]}:{main:Or[700],light:Or[400],dark:Or[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Nr[200],light:Nr[50],dark:Nr[400]}:{main:Nr[500],light:Nr[300],dark:Nr[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Rr[500],light:Rr[300],dark:Rr[700]}:{main:Rr[700],light:Rr[400],dark:Rr[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Dr[400],light:Dr[300],dark:Dr[700]}:{main:Dr[700],light:Dr[500],dark:Dr[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Mr[400],light:Mr[300],dark:Mr[700]}:{main:Mr[800],light:Mr[500],dark:Mr[900]}}(n),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pr[400],light:Pr[300],dark:Pr[700]}:{main:"#ed6c02",light:Pr[500],dark:Pr[900]}}(n);function v(e){var t=function(e,t){var n=re(e),r=re(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Vr.text.primary)>=i?Vr.text.primary:Fr.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Z(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Z(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ur(t,"light",u,o),Ur(t,"dark",c,o),t.contrastText||(t.contrastText=v(t.main)),t},y={dark:Vr,light:Fr};return qt(f({common:Cr,mode:n,primary:m({color:s,name:"primary"}),secondary:m({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:Ar,contrastThreshold:i,getContrastText:v,augmentColor:m,tonalOffset:o},y[n]),u)}var zr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Br={textTransform:"uppercase"},qr='"Roboto", "Helvetica", "Arial", sans-serif';function Wr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?qr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,d=n.fontWeightMedium,h=void 0===d?500:d,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,k=n.pxToRem,b=$(n,zr);var w=o/14,x=k||function(e){return"".concat(e/y*w,"rem")},E=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===qr?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,g);var o},I={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(l,48,1.167,0),h4:E(l,34,1.235,.25),h5:E(l,24,1.334,0),h6:E(h,20,1.6,.15),subtitle1:E(l,16,1.75,.15),subtitle2:E(h,14,1.57,.1),body1:E(l,16,1.5,.15),body2:E(l,14,1.43,.15),button:E(h,14,1.75,.4,Br),caption:E(l,12,1.66,.4),overline:E(l,12,2.66,1,Br)};return qt(f({htmlFontSize:y,pxToRem:x,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:v},I),b,{clone:!1})}function Kr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Hr=["none",Kr(0,2,1,-1,0,1,1,0,0,1,3,0),Kr(0,3,1,-2,0,2,2,0,0,1,5,0),Kr(0,3,3,-2,0,3,4,0,0,1,8,0),Kr(0,2,4,-1,0,4,5,0,0,1,10,0),Kr(0,3,5,-1,0,5,8,0,0,1,14,0),Kr(0,3,5,-1,0,6,10,0,0,1,18,0),Kr(0,4,5,-2,0,7,10,1,0,2,16,1),Kr(0,5,5,-3,0,8,10,1,0,3,14,2),Kr(0,5,6,-3,0,9,12,1,0,3,16,2),Kr(0,6,6,-3,0,10,14,1,0,4,18,3),Kr(0,6,7,-4,0,11,15,1,0,4,20,3),Kr(0,7,8,-4,0,12,17,2,0,5,22,4),Kr(0,7,8,-4,0,13,19,2,0,5,24,4),Kr(0,7,9,-4,0,14,21,2,0,5,26,4),Kr(0,8,9,-5,0,15,22,2,0,6,28,5),Kr(0,8,10,-5,0,16,24,2,0,6,30,5),Kr(0,8,11,-5,0,17,26,2,0,6,32,5),Kr(0,9,11,-5,0,18,28,2,0,7,34,6),Kr(0,9,12,-6,0,19,29,2,0,7,36,6),Kr(0,10,13,-6,0,20,31,3,0,8,38,7),Kr(0,10,13,-6,0,21,33,3,0,8,40,7),Kr(0,10,14,-6,0,22,35,3,0,8,42,7),Kr(0,11,14,-7,0,23,36,3,0,9,44,8),Kr(0,11,15,-7,0,24,38,3,0,9,46,8)],Gr=["duration","easing","delay"],$r={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Qr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Yr(e){return"".concat(Math.round(e),"ms")}function Xr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Jr(e){var t=f({},$r,e.easing),n=f({},Qr,e.duration);return f({getAutoHeightDuration:Xr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;$(r,Gr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Yr(a)," ").concat(u," ").concat("string"===typeof c?c:Yr(c))})).join(",")}},e,{easing:t,duration:n})}var Zr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ei=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=$(e,ei),l=jr(i),d=xn(e),h=qt(d,{mixins:Tr(d.breakpoints,d.spacing,n),palette:l,shadows:Hr.slice(),typography:Wr(l,s),transitions:Jr(o),zIndex:f({},Zr)});h=qt(h,c);for(var p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return h=v.reduce((function(e,t){return qt(e,t)}),h)}var ni=ti(),ri=function(e){return Sr(e)&&"classes"!==e},ii=Sr,ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?_r:t,r=e.rootShouldForwardProp,i=void 0===r?Sr:r,a=e.slotShouldForwardProp,o=void 0===a?Sr:a,u=e.styleFunctionSx,s=void 0===u?yr:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,c=r.skipVariantsResolver,d=r.skipSx,h=r.overridesResolver,p=$(r,gr),v=void 0!==c?c:u&&"Root"!==u||!1,m=d||!1;var y=Sr;"Root"===u?y=i:u&&(y=o);var g=zt(e,f({shouldForwardProp:y,label:t},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=$(t,kr);return e(f({theme:wr(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=wr(e.theme)?n:e.theme,r=xr(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=l(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),h(e,i)}return null})),a&&!v&&o.push((function(e){var t=wr(e.theme)?n:e.theme;return Ir(e,Er(a,t),t,a)})),m||o.push((function(e){var t=wr(e.theme)?n:e.theme;return s(f({},e,{theme:t}))}));var c=o.length-r.length;if(Array.isArray(e)&&c>0){var d=new Array(c).fill("");(u=[].concat(se(e),se(d))).raw=[].concat(se(e.raw),se(d))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=$(t,br);return e(f({theme:wr(r)?n:r},i))});var p=g.apply(void 0,[u].concat(se(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:ni,rootShouldForwardProp:ri}),oi=ai;var ui=r.createContext(null);function si(){return r.useContext(ui)}function ci(e){return 0===Object.keys(e).length}var li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=si();return!t||ci(t)?e:t},fi=xn();var di=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi;return li(e)};function hi(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?X(t.components[n].defaultProps,r):r}({theme:di(r),name:n,props:t});return i}function pi(e){return hi({props:e.props,name:e.name,defaultTheme:ni})}function vi(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function mi(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){vi(e,n),vi(t,n)}}),[e,t])}var yi=mi,gi="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function ki(e){var t=r.useRef(e);return gi((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var bi,wi=ki,xi=!0,Ei=!1,Ii={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Si(e){e.metaKey||e.altKey||e.ctrlKey||(xi=!0)}function _i(){xi=!1}function Ti(){"hidden"===this.visibilityState&&Ei&&(xi=!0)}function Ci(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return xi||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Ii[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Ai=function(){var e=r.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Si,!0),t.addEventListener("mousedown",_i,!0),t.addEventListener("pointerdown",_i,!0),t.addEventListener("touchstart",_i,!0),t.addEventListener("visibilitychange",Ti,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Ci(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Ei=!0,window.clearTimeout(bi),bi=window.setTimeout((function(){Ei=!1}),100),t.current=!1,!0)},ref:e}};function Ni(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e,t){return Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pi(e,t)}function Oi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pi(e,t)}var Di=r.createContext(null);function Mi(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function Li(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Fi(e,t,n){var i=Mi(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,r.isValidElement)(u)){var s=o in t,c=o in i,l=t[o],f=(0,r.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,r.isValidElement)(l)&&(a[o]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:Li(u,"exit",e),enter:Li(u,"enter",e)})):a[o]=(0,r.cloneElement)(u,{in:!1}):a[o]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:Li(u,"exit",e),enter:Li(u,"enter",e)})}})),a}var Vi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ui=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Ri(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Oi(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,i=o,Mi(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Li(e,"appear",n),enter:Li(e,"enter",n),exit:Li(e,"exit",n)})}))):Fi(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=Mi(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=$(e,["component","childFactory"]),a=this.state.contextValue,o=Vi(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(Di.Provider,{value:a},o):r.createElement(Di.Provider,{value:a},r.createElement(t,i,o))},t}(r.Component);Ui.propTypes={},Ui.defaultProps={component:"div",childFactory:function(e){return e}};var ji=Ui,zi=(n(110),i.useInsertionEffect?i.useInsertionEffect:r.useLayoutEffect),Bi=Tt((function(e,t){var n=e.styles,i=St([n],void 0,(0,r.useContext)(Ct)),a=(0,r.useRef)();return zi((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,r],function(){n.flush()}}),[t]),zi((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Rt(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null}));function qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return St(t)}var Wi=function(){var e=qi.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ki=function(e){var t=e.className,n=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,f=e.onExited,d=e.timeout,h=l(r.useState(!1),2),p=h[0],v=h[1],m=Y(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=Y(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||v(!0),r.useEffect((function(){if(!c&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,c,d]),(0,K.jsx)("span",{className:m,style:y,children:(0,K.jsx)("span",{className:g})})},Hi=function(e){return e},Gi=function(){var e=Hi;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Hi}}}(),$i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Qi(e,t){return $i[t]||"".concat(Gi.generate(e),"-").concat(t)}function Yi(e,t){var n={};return t.forEach((function(t){n[t]=Qi(e,t)})),n}var Xi,Ji,Zi,ea,ta,na,ra,ia,aa=Yi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),oa=["center","classes","className"],ua=Wi(ta||(ta=Xi||(Xi=Ni(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),sa=Wi(na||(na=Ji||(Ji=Ni(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),ca=Wi(ra||(ra=Zi||(Zi=Ni(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),la=oi("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fa=oi(Ki,{name:"MuiTouchRipple",slot:"Ripple"})(ia||(ia=ea||(ea=Ni(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),aa.rippleVisible,ua,550,(function(e){return e.theme.transitions.easing.easeInOut}),aa.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),aa.child,aa.childLeaving,sa,550,(function(e){return e.theme.transitions.easing.easeInOut}),aa.childPulsate,ca,(function(e){return e.theme.transitions.easing.easeInOut})),da=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiTouchRipple"}),i=n.center,a=void 0!==i&&i,o=n.classes,u=void 0===o?{}:o,s=n.className,c=$(n,oa),d=l(r.useState([]),2),h=d[0],p=d[1],v=r.useRef(0),m=r.useRef(null);r.useEffect((function(){m.current&&(m.current(),m.current=null)}),[h]);var y=r.useRef(!1),g=r.useRef(null),k=r.useRef(null),b=r.useRef(null);r.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(se(e),[(0,K.jsx)(fa,{classes:{ripple:Y(u.ripple,aa.ripple),rippleVisible:Y(u.rippleVisible,aa.rippleVisible),ripplePulsate:Y(u.ripplePulsate,aa.ripplePulsate),child:Y(u.child,aa.child),childLeaving:Y(u.childLeaving,aa.childLeaving),childPulsate:Y(u.childPulsate,aa.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[u]),x=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,d,h=c?null:b.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var E=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(I,2))}e.touches?null===k.current&&(k.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){k.current&&(k.current(),k.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,w]),E=r.useCallback((function(){x({},{pulsate:!0})}),[x]),I=r.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&k.current)return k.current(),k.current=null,void(g.current=setTimeout((function(){I(e,t)})));k.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:E,start:x,stop:I}}),[E,x,I]),(0,K.jsx)(la,f({className:Y(u.root,aa.root,s),ref:b},c,{children:(0,K.jsx)(ji,{component:null,exit:!0,children:h})}))})),ha=da;function pa(e){return Qi("MuiButtonBase",e)}var va,ma=Yi("MuiButtonBase",["root","disabled","focusVisible"]),ya=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ga=oi("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((G(va={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(ma.disabled),{pointerEvents:"none",cursor:"default"}),G(va,"@media print",{colorAdjust:"exact"}),va)),ka=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiButtonBase"}),i=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,c=n.component,d=void 0===c?"button":c,h=n.disabled,p=void 0!==h&&h,v=n.disableRipple,m=void 0!==v&&v,y=n.disableTouchRipple,g=void 0!==y&&y,k=n.focusRipple,b=void 0!==k&&k,w=n.LinkComponent,x=void 0===w?"a":w,E=n.onBlur,I=n.onClick,S=n.onContextMenu,_=n.onDragLeave,T=n.onFocus,C=n.onFocusVisible,A=n.onKeyDown,N=n.onKeyUp,R=n.onMouseDown,P=n.onMouseLeave,O=n.onMouseUp,D=n.onTouchEnd,M=n.onTouchMove,L=n.onTouchStart,F=n.tabIndex,V=void 0===F?0:F,U=n.TouchRippleProps,j=n.touchRippleRef,z=n.type,B=$(n,ya),q=r.useRef(null),W=r.useRef(null),H=yi(W,j),G=Ai(),Q=G.isFocusVisibleRef,X=G.onFocus,Z=G.onBlur,ee=G.ref,te=l(r.useState(!1),2),ne=te[0],re=te[1];function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return wi((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}p&&ne&&re(!1),r.useImperativeHandle(i,(function(){return{focusVisible:function(){re(!0),q.current.focus()}}}),[]),r.useEffect((function(){ne&&b&&!m&&W.current.pulsate()}),[m,b,ne]);var ae=ie("start",R),oe=ie("stop",S),ue=ie("stop",_),se=ie("stop",O),ce=ie("stop",(function(e){ne&&e.preventDefault(),P&&P(e)})),le=ie("start",L),fe=ie("stop",D),de=ie("stop",M),he=ie("stop",(function(e){Z(e),!1===Q.current&&re(!1),E&&E(e)}),!1),pe=wi((function(e){q.current||(q.current=e.currentTarget),X(e),!0===Q.current&&(re(!0),C&&C(e)),T&&T(e)})),ve=function(){var e=q.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},me=r.useRef(!1),ye=wi((function(e){b&&!me.current&&ne&&W.current&&" "===e.key&&(me.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ve()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ve()&&"Enter"===e.key&&!p&&(e.preventDefault(),I&&I(e))})),ge=wi((function(e){b&&" "===e.key&&W.current&&ne&&!e.defaultPrevented&&(me.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),N&&N(e),I&&e.target===e.currentTarget&&ve()&&" "===e.key&&!e.defaultPrevented&&I(e)})),ke=d;"button"===ke&&(B.href||B.to)&&(ke=x);var be={};"button"===ke?(be.type=void 0===z?"button":z,be.disabled=p):(B.href||B.to||(be.role="button"),p&&(be["aria-disabled"]=p));var we=yi(ee,q),xe=yi(t,we),Ee=l(r.useState(!1),2),Ie=Ee[0],Se=Ee[1];r.useEffect((function(){Se(!0)}),[]);var _e=Ie&&!m&&!p;var Te=f({},n,{centerRipple:o,component:d,disabled:p,disableRipple:m,disableTouchRipple:g,focusRipple:b,tabIndex:V,focusVisible:ne}),Ce=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=J({root:["root",t&&"disabled",n&&"focusVisible"]},pa,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Te);return(0,K.jsxs)(ga,f({as:ke,className:Y(Ce.root,s),ownerState:Te,onBlur:he,onClick:I,onContextMenu:oe,onFocus:pe,onKeyDown:ye,onKeyUp:ge,onMouseDown:ae,onMouseLeave:ce,onMouseUp:se,onDragLeave:ue,onTouchEnd:fe,onTouchMove:de,onTouchStart:le,ref:xe,tabIndex:p?-1:V,type:z},be,B,{children:[u,_e?(0,K.jsx)(ha,f({ref:H,center:o},U)):null]}))})),ba=ka,wa=Jt;function xa(e){return Qi("MuiButton",e)}var Ea=Yi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Ia=r.createContext({}),Sa=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],_a=function(e){return f({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Ta=oi(ba,{shouldForwardProp:function(e){return ri(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(wa(n.color))],t["size".concat(wa(n.size))],t["".concat(n.variant,"Size").concat(wa(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return f({},n.typography.button,(G(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":f({textDecoration:"none",backgroundColor:ie(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:ie(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:ie(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":f({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(Ea.focusVisible),f({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),G(t,"&.".concat(Ea.disabled),f({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(ie(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(G(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Ea.focusVisible),{boxShadow:"none"}),G(t,"&:active",{boxShadow:"none"}),G(t,"&.".concat(Ea.disabled),{boxShadow:"none"}),t)})),Ca=oi("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(wa(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},_a(t))})),Aa=oi("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(wa(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},_a(t))})),Na=r.forwardRef((function(e,t){var n=r.useContext(Ia),i=pi({props:X(n,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,d=i.disabled,h=void 0!==d&&d,p=i.disableElevation,v=void 0!==p&&p,m=i.disableFocusRipple,y=void 0!==m&&m,g=i.endIcon,k=i.focusVisibleClassName,b=i.fullWidth,w=void 0!==b&&b,x=i.size,E=void 0===x?"medium":x,I=i.startIcon,S=i.type,_=i.variant,T=void 0===_?"text":_,C=$(i,Sa),A=f({},i,{color:u,component:c,disabled:h,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:E,type:S,variant:T}),N=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return f({},o,J({root:["root",a,"".concat(a).concat(wa(t)),"size".concat(wa(i)),"".concat(a,"Size").concat(wa(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(wa(i))],endIcon:["endIcon","iconSize".concat(wa(i))]},xa,o))}(A),R=I&&(0,K.jsx)(Ca,{className:N.startIcon,ownerState:A,children:I}),P=g&&(0,K.jsx)(Aa,{className:N.endIcon,ownerState:A,children:g});return(0,K.jsxs)(Ta,f({ownerState:A,className:Y(l,n.className),component:c,disabled:h,focusRipple:!y,focusVisibleClassName:Y(N.focusVisible,k),ref:t,type:S},C,{classes:N,children:[R,a,P]}))})),Ra=Na;function Pa(e){return Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pa(e)}function Oa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pa(e)););return e}function Da(){return Da="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Oa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Da.apply(this,arguments)}function Ma(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pi(e,t)}function La(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function Va(e,t){if(t&&("object"===Fa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ri(e)}function Ua(e){var t=La();return function(){var n,r=Pa(e);if(t){var i=Pa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Va(this,n)}}function ja(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function za(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){za(a,r,i,o,u,"next",e)}function u(e){za(a,r,i,o,u,"throw",e)}o(void 0)}))}}function qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t,n){return t&&Wa(e.prototype,t),n&&Wa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ha=n(757),Ga=n.n(Ha);function $a(e,t,n){return $a=La()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Pi(i,n.prototype),i},$a.apply(null,arguments)}function Qa(e){var t="function"===typeof Map?new Map:void 0;return Qa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $a(e,arguments,Pa(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pi(n,e)},Qa(e)}var Ya=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Xa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ya(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ja=function(e){return function(e){var t=Ya(e);return Xa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Za=function(e){try{return Xa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=eo(e[n],t[n]));return e}var to=function(){function e(){var t=this;qa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ka(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function no(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ja(JSON.stringify({alg:"none",type:"JWT"})),Ja(JSON.stringify(a)),""].join(".")}function ro(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function io(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ro())}function ao(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function oo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function uo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function so(){var e=ro();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function co(){return"object"===typeof indexedDB}var lo=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ri(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ri(a),fo.prototype.create),a}return Ka(n)}(Qa(Error)),fo=function(){function e(t,n,r){qa(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ka(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ho(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new lo(n,a,t);return o}}]),e}();function ho(e,t){return e.replace(po,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var po=/\{\$([^}]+)}/g;function vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(yo(u)&&yo(s)){if(!mo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function yo(e){return null!==e&&"object"===typeof e}function go(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ko(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function bo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wo(e,t){var n=new xo(e,t);return n.subscribe.bind(n)}var xo=function(){function e(t,n){var r=this;qa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ka(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ja(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Eo),void 0===r.error&&(r.error=Eo),void 0===r.complete&&(r.complete=Eo);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Eo(){}function Io(e){return e&&e._delegate?e._delegate:e}function So(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var _o=function(){function e(t){qa(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Ka(e,[{key:"transaction",value:function(e,t){return new To(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Co(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),To=function(){function e(t){var n=this;qa(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Ka(e,[{key:"objectStore",value:function(e){return new Co(this._transaction.objectStore(e))}}]),e}(),Co=function(){function e(t){qa(this,e),this._store=t}return Ka(e,[{key:"index",value:function(e){return new Ao(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Ao(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return So(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return So(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return So(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return So(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Ao=function(){function e(t){qa(this,e),this._index=t}return Ka(e,[{key:"get",value:function(e){return So(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var No=function(){function e(t,n,r){qa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ka(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ro="[DEFAULT]",Po=function(){function e(t,n){qa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ka(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new to;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch(s){}var t,n=ja(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ba(Ha.mark((function e(){var t;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(se(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),se(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ja(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ja(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(nT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Oo(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(nT){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;return this.component?this.component.multipleInstances?e:Ro:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Oo(e){return e===Ro?void 0:e}var Do,Mo,Lo=function(){function e(t){qa(this,e),this.name=t,this.providers=new Map}return Ka(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Po(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Fo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mo||(Mo={}));var Vo,Uo,jo={debug:Mo.DEBUG,verbose:Mo.VERBOSE,info:Mo.INFO,warn:Mo.WARN,error:Mo.ERROR,silent:Mo.SILENT},zo=Mo.INFO,Bo=(G(Do={},Mo.DEBUG,"log"),G(Do,Mo.VERBOSE,"log"),G(Do,Mo.INFO,"info"),G(Do,Mo.WARN,"warn"),G(Do,Mo.ERROR,"error"),Do),qo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wo=function(){function e(t){qa(this,e),this.name=t,this._logLevel=zo,this._logHandler=qo,this._userLogHandler=null,Fo.push(this)}return Ka(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Mo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mo.DEBUG].concat(t)),this._logHandler.apply(this,[this,Mo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Mo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mo.INFO].concat(t)),this._logHandler.apply(this,[this,Mo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mo.WARN].concat(t)),this._logHandler.apply(this,[this,Mo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mo.ERROR].concat(t)),this._logHandler.apply(this,[this,Mo.ERROR].concat(t))}}]),e}();var Ko=function(){function e(t){qa(this,e),this.container=t}return Ka(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ho="@firebase/app",Go="0.7.19",$o=new Wo("@firebase/app"),Qo="[DEFAULT]",Yo=(G(Vo={},Ho,"fire-core"),G(Vo,"@firebase/app-compat","fire-core-compat"),G(Vo,"@firebase/analytics","fire-analytics"),G(Vo,"@firebase/analytics-compat","fire-analytics-compat"),G(Vo,"@firebase/app-check","fire-app-check"),G(Vo,"@firebase/app-check-compat","fire-app-check-compat"),G(Vo,"@firebase/auth","fire-auth"),G(Vo,"@firebase/auth-compat","fire-auth-compat"),G(Vo,"@firebase/database","fire-rtdb"),G(Vo,"@firebase/database-compat","fire-rtdb-compat"),G(Vo,"@firebase/functions","fire-fn"),G(Vo,"@firebase/functions-compat","fire-fn-compat"),G(Vo,"@firebase/installations","fire-iid"),G(Vo,"@firebase/installations-compat","fire-iid-compat"),G(Vo,"@firebase/messaging","fire-fcm"),G(Vo,"@firebase/messaging-compat","fire-fcm-compat"),G(Vo,"@firebase/performance","fire-perf"),G(Vo,"@firebase/performance-compat","fire-perf-compat"),G(Vo,"@firebase/remote-config","fire-rc"),G(Vo,"@firebase/remote-config-compat","fire-rc-compat"),G(Vo,"@firebase/storage","fire-gcs"),G(Vo,"@firebase/storage-compat","fire-gcs-compat"),G(Vo,"@firebase/firestore","fire-fst"),G(Vo,"@firebase/firestore-compat","fire-fst-compat"),G(Vo,"fire-js","fire-js"),G(Vo,"firebase","fire-js-all"),Vo),Xo=new Map,Jo=new Map;function Zo(e,t){try{e.container.addComponent(t)}catch(n){$o.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function eu(e,t){e.container.addOrOverwriteComponent(t)}function tu(e){var t=e.name;if(Jo.has(t))return $o.debug("There were multiple attempts to register component ".concat(t,".")),!1;Jo.set(t,e);var n,r=ja(Xo.values());try{for(r.s();!(n=r.n()).done;){Zo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function nu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ru(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qo;nu(e,t).clearInstance(n)}function iu(){Jo.clear()}var au=(G(Uo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),G(Uo,"bad-app-name","Illegal App name: '{$appName}"),G(Uo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),G(Uo,"app-deleted","Firebase App named '{$appName}' already deleted"),G(Uo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),G(Uo,"invalid-log-argument","First argument to `onLog` must be null or a function."),G(Uo,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),G(Uo,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),G(Uo,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),G(Uo,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Uo),ou=new fo("app","Firebase",au),uu=function(){function e(t,n,r){var i=this;qa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",(function(){return i}),"PUBLIC"))}return Ka(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ou.create("app-deleted",{appName:this._name})}}]),e}(),su="9.6.9";function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Qo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ou.create("bad-app-name",{appName:String(i)});var a=Xo.get(i);if(a){if(mo(e,a.options)&&mo(r,a.config))return a;throw ou.create("duplicate-app",{appName:i})}var o,u=new Lo(i),s=ja(Jo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new uu(e,r,u);return Xo.set(i,l),l}function lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=Xo.get(e);if(!t)throw ou.create("no-app",{appName:e});return t}function fu(){return Array.from(Xo.values())}function du(e){return hu.apply(this,arguments)}function hu(){return(hu=Ba(Ha.mark((function e(t){var n;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Xo.has(n)){e.next=6;break}return Xo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pu(e,t,n){var r,i=null!==(r=Yo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $o.warn(u.join(" "))}tu(new No("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function vu(e,t){if(null!==e&&"function"!==typeof e)throw ou.create("invalid-log-argument");!function(e,t){var n,r=ja(Fo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=jo[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Mo[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function mu(e){var t;t=e,Fo.forEach((function(e){e.setLogLevel(t)}))}var yu="firebase-heartbeat-store",gu=null;function ku(){var e,t,n;return gu||(gu=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(yu)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new _o(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new _o(a.result),e.oldVersion,e.newVersion,new To(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw ou.create("storage-open",{originalErrorMessage:e.message})}))),gu}function bu(e){return wu.apply(this,arguments)}function wu(){return wu=Ba(Ha.mark((function e(t){var n;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ku();case 3:return n=e.sent,e.abrupt("return",n.transaction(yu).objectStore(yu).get(Iu(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ou.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),wu.apply(this,arguments)}function xu(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Ba(Ha.mark((function e(t,n){var r,i,a;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ku();case 3:return r=e.sent,i=r.transaction(yu,"readwrite"),a=i.objectStore(yu),e.next=8,a.put(n,Iu(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ou.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Eu.apply(this,arguments)}function Iu(e){return"".concat(e.name,"!").concat(e.options.appId)}var Su=function(){function e(t){var n=this;qa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Au(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ka(e,[{key:"triggerHeartbeat",value:function(){var e=Ba(Ha.mark((function e(){var t,n,r;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=_u(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ba(Ha.mark((function e(){var t,n,r,i,a;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=_u(),n=Tu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ja(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _u(){return(new Date).toISOString().substring(0,10)}function Tu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ja(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Nu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Nu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Cu,Au=function(){function e(t){qa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ka(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ba(Ha.mark((function e(){return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(co()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ba(Ha.mark((function e(){var t;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,bu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ba(Ha.mark((function e(t){var n,r;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ba(Ha.mark((function e(t){var n,r;return Ha.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(se(r.heartbeats),se(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Nu(e){return Ja(JSON.stringify({version:2,heartbeats:e})).length}Cu="",tu(new No("platform-logger",(function(e){return new Ko(e)}),"PRIVATE")),tu(new No("heartbeat",(function(e){return new Su(e)}),"PRIVATE")),pu(Ho,Go,Cu),pu(Ho,Go,"esm2017"),pu("fire-js","");function Ru(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Pu;Object.create;var Ou="facebook.com",Du="github.com",Mu="google.com",Lu="password",Fu="twitter.com",Vu="EMAIL_SIGNIN",Uu="PASSWORD_RESET",ju="RECOVER_EMAIL",zu="REVERT_SECOND_FACTOR_ADDITION",Bu="VERIFY_AND_CHANGE_EMAIL",qu="VERIFY_EMAIL";function Wu(){return G({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ku=function(){var e;return G(e={},"admin-restricted-operation","This operation is restricted to administrators only."),G(e,"argument-error",""),G(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),G(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),G(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),G(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),G(e,"cordova-not-ready","Cordova framework is not ready."),G(e,"cors-unsupported","This browser is not supported."),G(e,"credential-already-in-use","This credential is already associated with a different user account."),G(e,"custom-token-mismatch","The custom token corresponds to a different audience."),G(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),G(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),G(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),G(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),G(e,"email-already-in-use","The email address is already in use by another account."),G(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),G(e,"expired-action-code","The action code has expired."),G(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),G(e,"internal-error","An internal AuthError has occurred."),G(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),G(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),G(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),G(e,"invalid-auth-event","An internal AuthError has occurred."),G(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),G(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),G(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),G(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),G(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),G(e,"invalid-email","The email address is badly formatted."),G(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),G(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),G(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),G(e,"invalid-credential","The supplied auth credential is malformed or has expired."),G(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),G(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),G(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),G(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),G(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),G(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),G(e,"wrong-password","The password is invalid or the user does not have a password."),G(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),G(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),G(e,"invalid-provider-id","The specified provider ID is invalid."),G(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),G(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),G(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),G(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),G(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),G(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),G(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),G(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),G(e,"missing-continue-uri","A continue URL must be provided in the request."),G(e,"missing-iframe-start","An internal AuthError has occurred."),G(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),G(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),G(e,"missing-multi-factor-info","No second factor identifier is provided."),G(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),G(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),G(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),G(e,"app-deleted","This instance of FirebaseApp has been deleted."),G(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),G(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),G(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),G(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),G(e,"no-auth-event","An internal AuthError has occurred."),G(e,"no-such-provider","User was not linked to an account with the given provider."),G(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),G(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),G(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),G(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),G(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),G(e,"provider-already-linked","User can only be linked to one identity for the given provider."),G(e,"quota-exceeded","The project's quota for this operation has been exceeded."),G(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),G(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),G(e,"rejected-credential","The request contains malformed or mismatching credentials."),G(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),G(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),G(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),G(e,"timeout","The operation has timed out."),G(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),G(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),G(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),G(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),G(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),G(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),G(e,"unverified-email","The operation requires a verified email."),G(e,"user-cancelled","The user did not grant your application the permissions it requested."),G(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),G(e,"user-disabled","The user account has been disabled by an administrator."),G(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),G(e,"user-signed-out",""),G(e,"weak-password","The password must be 6 characters long or more."),G(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),G(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Hu=Wu,Gu=new fo("auth","Firebase",Wu()),$u=new Wo("@firebase/auth");function Qu(e){if($u.logLevel<=Mo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$u.error.apply($u,["Auth (".concat(su,"): ").concat(e)].concat(n))}}function Yu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw es.apply(void 0,[e].concat(n))}function Xu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return es.apply(void 0,[e].concat(n))}function Ju(e,t,n){var r=Object.assign(Object.assign({},Hu()),G({},t,n));return new fo("auth","Firebase",r).create(t,{appName:e.name})}function Zu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Yu(e,"argument-error"),Ju(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=se(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(se(o)))}return Gu.create.apply(Gu,[e].concat(n))}function ts(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw es.apply(void 0,[t].concat(r))}}function ns(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Qu(t),new Error(t)}function rs(e,t){e||ns(t)}var is=new Map;function as(e){rs(e instanceof Function,"Expected a class definition");var t=is.get(e);return t?(rs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,is.set(e,t),t)}function os(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function us(){return"http:"===ss()||"https:"===ss()}function ss(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var cs=function(){function e(t,n){qa(this,e),this.shortDelay=t,this.longDelay=n,rs(n>t,"Short delay should be less than long delay!"),this.isMobile=io()||uo()}return Ka(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(us()||oo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ls(e,t){rs(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var fs=function(){function e(){qa(this,e)}return Ka(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ds=(G(Pu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),G(Pu,"MISSING_CUSTOM_TOKEN","internal-error"),G(Pu,"INVALID_IDENTIFIER","invalid-email"),G(Pu,"MISSING_CONTINUE_URI","internal-error"),G(Pu,"INVALID_PASSWORD","wrong-password"),G(Pu,"MISSING_PASSWORD","internal-error"),G(Pu,"EMAIL_EXISTS","email-already-in-use"),G(Pu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),G(Pu,"INVALID_IDP_RESPONSE","invalid-credential"),G(Pu,"INVALID_PENDING_TOKEN","invalid-credential"),G(Pu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),G(Pu,"MISSING_REQ_TYPE","internal-error"),G(Pu,"EMAIL_NOT_FOUND","user-not-found"),G(Pu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),G(Pu,"EXPIRED_OOB_CODE","expired-action-code"),G(Pu,"INVALID_OOB_CODE","invalid-action-code"),G(Pu,"MISSING_OOB_CODE","internal-error"),G(Pu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),G(Pu,"INVALID_ID_TOKEN","invalid-user-token"),G(Pu,"TOKEN_EXPIRED","user-token-expired"),G(Pu,"USER_NOT_FOUND","user-token-expired"),G(Pu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),G(Pu,"INVALID_CODE","invalid-verification-code"),G(Pu,"INVALID_SESSION_INFO","invalid-verification-id"),G(Pu,"INVALID_TEMPORARY_PROOF","invalid-credential"),G(Pu,"MISSING_SESSION_INFO","missing-verification-id"),G(Pu,"SESSION_EXPIRED","code-expired"),G(Pu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),G(Pu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),G(Pu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),G(Pu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),G(Pu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),G(Pu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),G(Pu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),G(Pu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),G(Pu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),G(Pu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),G(Pu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Pu),hs=new cs(3e4,6e4);function ps(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vs(e,t,n,r){return ms.apply(this,arguments)}function ms(){return ms=Ba(Ga().mark((function e(t,n,r,i){var a,o=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ys(t,a,Ba(Ga().mark((function e(){var a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=go(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",fs.fetch()(ws(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t,n){return gs.apply(this,arguments)}function gs(){return gs=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s,c,f,d,h,p;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ds),n),e.prev=2,a=new xs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Es(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Es(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=25;break}throw Es(t,"email-already-in-use",u);case 25:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Ju(t,p,h);case 30:Yu(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof lo)){e.next=37;break}throw e.t0;case 37:Yu(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),gs.apply(this,arguments)}function ks(e,t,n,r){return bs.apply(this,arguments)}function bs(){return bs=Ba(Ga().mark((function e(t,n,r,i){var a,o,u=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,vs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Yu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ls(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var xs=function(){function e(t){var n=this;qa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xu(n.auth,"network-request-failed"))}),hs.get())}))}return Ka(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Es(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xu(e,t,r);return i.customData._tokenResponse=n,i}function Is(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function _s(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(e,t){return As.apply(this,arguments)}function As(){return As=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ns(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Rs(){return Rs=Ba(Ga().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Io(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ts((a=Os(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ns(Ps(a.auth_time)),issuedAtTime:Ns(Ps(a.iat)),expirationTime:Ns(Ps(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ps(e){return 1e3*Number(e)}function Os(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{var a=Za(r);return a?JSON.parse(a):(Qu("Failed to decode base64 JWT payload"),null)}catch(o){return Qu("Caught error parsing JWT payload as JSON",o),null}}function Ds(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=Ba(Ga().mark((function e(t,n){var r=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof lo&&Ls(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ms.apply(this,arguments)}function Ls(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Fs=function(){function e(t){qa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ka(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vs=function(){function e(t,n){qa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ka(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ns(this.lastLoginAt),this.creationTime=Ns(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Us(e){return js.apply(this,arguments)}function js(){return js=Ba(Ga().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ds(t,Cs(r,{idToken:i}));case 6:ts(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?qs(o.providerUserInfo):[],s=Bs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vs(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function zs(){return(zs=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Io(t),e.next=3,Us(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(se(n),se(t))}function qs(e){return e.map((function(e){var t=e.providerId,n=Ru(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ws(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ys(t,{},Ba(Ga().mark((function e(){var r,i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=go({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ws(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",fs.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Hs=function(){function e(){qa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ka(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ts(e.idToken,"internal-error"),ts("undefined"!==typeof e.idToken,"internal-error"),ts("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Os(e);return ts(t,"internal-error"),ts("undefined"!==typeof t.exp,"internal-error"),ts("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ba(Ga().mark((function e(t){var n,r=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ts(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ns("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ts("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ts("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ts("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gs(e,t){ts("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var $s=function(){function e(t){qa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ru(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?se(a.providerData):[],this.metadata=new Vs(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ka(e,[{key:"getIdToken",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ts(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Rs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return zs.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ts(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ts(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ba(Ga().mark((function e(t){var n,r,i=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Us(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ds(this,Is(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ts(k&&E,t,"internal-error");var I=Hs.fromJSON(this.name,E);ts("string"===typeof k,t,"internal-error"),Gs(f,t.name),Gs(d,t.name),ts("boolean"===typeof b,t,"internal-error"),ts("boolean"===typeof w,t,"internal-error"),Gs(h,t.name),Gs(p,t.name),Gs(v,t.name),Gs(m,t.name),Gs(y,t.name),Gs(g,t.name);var S=new e({uid:k,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ba(Ga().mark((function t(n,r){var i,a,o,u=arguments;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Hs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Us(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Qs=function(){function e(){qa(this,e),this.type="NONE",this.storage={}}return Ka(e,[{key:"_isAvailable",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Qs.type="NONE";var Ys=Qs;function Xs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Js=function(){function e(t,n,r){qa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Xs(this.userKey,a.apiKey,o),this.fullPersistenceKey=Xs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ka(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?$s._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ba(Ga().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(as(Ys),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||as(Ys),u=Xs(i,n.config.apiKey,n.name),s=null,c=ja(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=$s._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ec(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ac(t))return"Blackberry";if(oc(t))return"Webos";if(tc(t))return"Safari";if((t.includes("chrome/")||nc(t))&&!t.includes("edge/"))return"Chrome";if(ic(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/firefox\//i.test(e)}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/crios\//i.test(e)}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/iemobile/i.test(e)}function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/android/i.test(e)}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/blackberry/i.test(e)}function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/webos/i.test(e)}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/iphone|ipad|ipod/i.test(e)}function sc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return uc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function cc(){return so()&&10===document.documentMode}function lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return uc(e)||ic(e)||oc(e)||ac(e)||/windows phone/i.test(e)||rc(e)}function fc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zs(ro());break;case"Worker":t="".concat(Zs(ro()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(su,"/").concat(r)}var dc=function(){function e(t,n,r){qa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pc(this),this.idTokenSubscription=new pc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ka(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=as(t)),this._initializationPromise=this.queue(Ba(Ga().mark((function r(){var i,a;return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Js.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ba(Ga().mark((function e(t){var n,r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ts(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Us(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Io(t):null)&&ts(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ba(Ga().mark((function e(t){var n=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ts(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ba(Ga().mark((function n(){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(as(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new fo("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ts(n=t&&as(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Js.create(this,[as(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ba(Ga().mark((function e(t){var n=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ts(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ts(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hc(e){return Io(e)}var pc=function(){function e(t){var n=this;qa(this,e),this.auth=t,this.observer=null,this.addObserver=wo((function(e){return n.observer=e}))}return Ka(e,[{key:"next",get:function(){return ts(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function vc(e,t,n){var r=hc(e);ts(r._canInitEmulator,r,"emulator-config-failed"),ts(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mc(t),o=function(e){var t=mc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:yc(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:yc(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var gc=function(){function e(t,n){qa(this,e),this.providerId=t,this.signInMethod=n}return Ka(e,[{key:"toJSON",value:function(){return ns("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ns("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ns("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ns("not implemented")}}]),e}();function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:resetPassword",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Ec(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Sc(e,t){return _c.apply(this,arguments)}function _c(){return _c=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithPassword",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:sendOobCode",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Rc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Mc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Fc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Uc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}var zc=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return qa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ka(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Fc(t,{email:this._email,oobCode:this._password}));case 5:Yu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Uc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Yu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(gc);function Bc(e,t){return qc.apply(this,arguments)}function qc(){return qc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithIdp",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}var Wc=function(e){Ma(n,e);var t=Ua(n);function n(){var e;return qa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ka(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Bc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Bc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Bc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=go(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ru(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(gc);function Kc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:sendVerificationCode",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Gc(){return Gc=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithPhoneNumber",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function $c(){return $c=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t,"POST","/v1/accounts:signInWithPhoneNumber",ps(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Es(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}var Qc=G({},"USER_NOT_FOUND","user-not-found");function Yc(){return Yc=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithPhoneNumber",ps(t,r),Qc));case 2:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}var Xc=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ka(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Gc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return $c.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Yc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(gc);var Jc=function(){function e(t){var n,r,i,a,o,u;qa(this,e);var s=ko(bo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ts(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ka(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ko(bo(e)).link,n=t?ko(bo(t)).deep_link_id:null,r=ko(bo(e)).deep_link_id;return(r?ko(bo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(nT){return null}}}]),e}();var Zc=function(){function e(){qa(this,e),this.providerId=e.PROVIDER_ID}return Ka(e,null,[{key:"credential",value:function(e,t){return zc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Jc.parseLink(t);return ts(n,"argument-error"),zc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Zc.PROVIDER_ID="password",Zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var el=function(){function e(t){qa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ka(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),tl=function(e){Ma(n,e);var t=Ua(n);function n(){var e;return qa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ka(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return se(this.scopes)}}]),n}(el),nl=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ts(e.idToken||e.accessToken,"argument-error"),Wc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ts("providerId"in t&&"signInMethod"in t,"argument-error"),Wc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(tl),rl=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.call(this,"facebook.com")}return Ka(n,null,[{key:"credential",value:function(e){return Wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nT){return null}}}]),n}(tl);rl.FACEBOOK_SIGN_IN_METHOD="facebook.com",rl.PROVIDER_ID="facebook.com";var il=function(e){Ma(n,e);var t=Ua(n);function n(){var e;return qa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ka(n,null,[{key:"credential",value:function(e,t){return Wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(nT){return null}}}]),n}(tl);il.GOOGLE_SIGN_IN_METHOD="google.com",il.PROVIDER_ID="google.com";var al=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.call(this,"github.com")}return Ka(n,null,[{key:"credential",value:function(e){return Wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nT){return null}}}]),n}(tl);al.GITHUB_SIGN_IN_METHOD="github.com",al.PROVIDER_ID="github.com";var ol=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ka(n,[{key:"_getIdTokenResponse",value:function(e){return Bc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Bc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Bc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gc),ul=function(e){Ma(n,e);var t=Ua(n);function n(e){return qa(this,n),ts(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ka(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ol.fromJSON(e);return ts(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ol._create(r,n)}catch(i){return null}}}]),n}(el),sl=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.call(this,"twitter.com")}return Ka(n,null,[{key:"credential",value:function(e,t){return Wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(nT){return null}}}]),n}(tl);function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signUp",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}sl.TWITTER_SIGN_IN_METHOD="twitter.com",sl.PROVIDER_ID="twitter.com";var fl=function(){function e(t){qa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ka(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ba(Ga().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,$s._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=dl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ba(Ga().mark((function t(n,r,i){var a;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=dl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function dl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function hl(){return hl=Ba(Ga().mark((function e(t){var n,r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new fl({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,cl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,fl._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}var pl=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a){var o,u;return qa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ri(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ka(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(lo);function vl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pl._fromErrorAndOperation(e,n,t,r);throw n}))}function ml(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function yl(e,t){return gl.apply(this,arguments)}function gl(){return gl=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io(t),e.next=3,wl(!0,r,n);case 3:return e.t0=_s,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ml(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Ba(Ga().mark((function e(t,n){var r,i,a=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ds,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t,n){return xl.apply(this,arguments)}function xl(){return(xl=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(n);case 2:i=ml(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ts(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t){return Il.apply(this,arguments)}function Il(){return Il=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ds(t,vl(i,a,n,t),r);case 6:return ts((o=e.sent).idToken,i,"internal-error"),ts(u=Os(o.idToken),i,"internal-error"),s=u.sub,ts(t.uid===s,i,"user-mismatch"),e.abrupt("return",fl._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Yu(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Il.apply(this,arguments)}function Sl(e,t){return _l.apply(this,arguments)}function _l(){return _l=Ba(Ga().mark((function e(t,n){var r,i,a,o,u=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,vl(t,i,n);case 4:return a=e.sent,e.next=7,fl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(hc(t),n));case 1:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Al(e,t){return Nl.apply(this,arguments)}function Nl(){return(Nl=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io(t),e.next=3,wl(!1,r,n.providerId);case 3:return e.abrupt("return",kl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(Io(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(t,"POST","/v1/accounts:signInWithCustomToken",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ml(){return Ml=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hc(t),e.next=3,Ol(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,fl._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}var Ll=function(){function e(t,n){qa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ka(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Fl._fromServerResponse(e,t):Yu(e,"internal-error")}}]),e}(),Fl=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ka(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ll);function Vl(e,t,n){var r;ts((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ts("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ts(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ts(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ul(){return Ul=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Io(t),a={requestType:"PASSWORD_RESET",email:n},r&&Vl(i,a,r),e.next=5,Rc(i,a);case 5:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(){return jl=Ba(Ga().mark((function e(t,n,r){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(Io(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function zl(){return zl=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(Io(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}function Bl(e,t){return ql.apply(this,arguments)}function ql(){return ql=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io(t),e.next=3,kc(r,{oobCode:n});case 3:i=e.sent,ts(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ts(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ts(i.mfaInfo,r,"internal-error");case 13:ts(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ll._fromServerResponse(hc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Wl(){return Wl=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl(Io(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Kl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return Hl=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(t),e.next=3,cl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,fl._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Gl(e,t,n){return Tl(Io(e),Zc.credential(t,n))}function $l(){return $l=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Io(t),a={requestType:"EMAIL_SIGNIN",email:n},ts(r.handleCodeInApp,i,"argument-error"),r&&Vl(i,a,r),e.next=6,Oc(i,a);case 6:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Ql(){return Ql=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Io(t),ts((a=Zc.credentialWithLink(n,r||os()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Tl(i,a));case 4:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Yl(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:createAuthUri",ps(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Jl(){return Jl=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=us()?os():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Yl(Io(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Zl(){return(Zl=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Vl(r.auth,a,n),e.next=8,Ac(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(){return(ef=Ba(Ga().mark((function e(t,n,r){var i,a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Io(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Vl(i.auth,o,r),e.next=8,Mc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}function rf(){return(rf=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s,c;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Io(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ds(a,tf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t,n){return of.apply(this,arguments)}function of(){return of=Ba(Ga().mark((function e(t,n,r){var i,a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ds(t,wc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}var uf=Ka((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),sf=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a){var o;return qa(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ka(n)}(uf),cf=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"facebook.com",r)}return Ka(n)}(uf),lf=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ka(n)}(sf),ff=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"google.com",r)}return Ka(n)}(uf),df=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){return qa(this,n),t.call(this,e,"twitter.com",r,i)}return Ka(n)}(sf);function hf(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Os(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new uf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new cf(a,i);case"github.com":return new lf(a,i);case"google.com":return new ff(a,i);case"twitter.com":return new df(a,i,e.screenName||null);case"custom":case"anonymous":return new uf(a,null);default:return new uf(a,r,i)}}(n)}var pf=function(){function e(t,n){qa(this,e),this.type=t,this.credential=n}return Ka(e,[{key:"toJSON",value:function(){return{multiFactorSession:G({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),vf=function(){function e(t,n,r){qa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ka(e,[{key:"resolveSignIn",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=hc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ll._fromServerResponse(r,e)}));ts(i.mfaPendingCredential,r,"internal-error");var o=pf._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ba(Ga().mark((function e(t){var a,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,fl._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ts(n.user,r,"internal-error"),e.abrupt("return",fl._forOperation(n.user,n.operationType,u));case 17:Yu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function mf(e,t){return vs(e,"POST","/v2/accounts/mfaEnrollment:start",ps(e,t))}function yf(e,t){return vs(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ps(e,t))}var gf=function(){function e(t){var n=this;qa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ll._fromServerResponse(t.auth,e)})))}))}return Ka(e,[{key:"getSession",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pf,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ds(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ba(Ga().mark((function e(t){var n,r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Ds(this.user,yf(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),kf=new WeakMap;var bf="__sak",wf=function(){function e(t,n){qa(this,e),this.storageRetriever=t,this.type=n}return Ka(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch(nT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var xf=function(e){Ma(n,e);var t=Ua(n);function n(){var e;return qa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ro();return tc(e)||uc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=lc(),e._shouldAllowMigration=!0,e}return Ka(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);cc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ba(Ga().mark((function e(t,r){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(Pa(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ba(Ga().mark((function e(t){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(Pa(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(Pa(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wf);xf.type="LOCAL";var Ef=xf,If=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ka(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wf);If.type="SESSION";var Sf=If;function _f(e){return Promise.all(e.map(function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Tf=function(){function e(t){qa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ka(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ba(Ga().mark((function e(t){var n,r,i,a,o,u,s,c;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,_f(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Cf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Tf.receivers=[];var Af=function(){function e(t){qa(this,e),this.target=t,this.handlers=new Set}return Ka(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Cf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Nf(){return window}function Rf(){return"undefined"!==typeof Nf().WorkerGlobalScope&&"function"===typeof Nf().importScripts}function Pf(){return Of.apply(this,arguments)}function Of(){return(Of=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Df(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Mf="firebaseLocalStorageDb",Lf="firebaseLocalStorage",Ff="fbase_key",Vf=function(){function e(t){qa(this,e),this.request=t}return Ka(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Uf(e,t){return e.transaction([Lf],t?"readwrite":"readonly").objectStore(Lf)}function jf(){var e=indexedDB.deleteDatabase(Mf);return new Vf(e).toPromise()}function zf(){var e=indexedDB.open(Mf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Lf,{keyPath:Ff})}catch(r){n(r)}})),e.addEventListener("success",Ba(Ga().mark((function n(){var r;return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lf)){n.next=12;break}return r.close(),n.next=5,jf();case 5:return n.t0=t,n.next=8,zf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Bf(e,t,n){return qf.apply(this,arguments)}function qf(){return qf=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uf(t,!0).put((G(i={},Ff,n),G(i,"value",r),i)),e.abrupt("return",new Vf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Wf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t,!1).get(n),e.next=3,new Vf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Hf(e,t){var n=Uf(e,!0).delete(t);return new Vf(n).toPromise()}var Gf=function(){function e(){qa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ka(e,[{key:"_openDb",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,zf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ba(Ga().mark((function e(){var t=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Tf._getInstance(Rf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ba(Ga().mark((function e(n,r){var i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Af(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Df()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,zf();case 5:return t=e.sent,e.next=8,Bf(t,bf,"1");case 8:return e.next=10,Hf(t,bf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ba(Ga().mark((function e(t,n){var r=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Bf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ba(Ga().mark((function e(t){var n=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Hf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Uf(e,!1).getAll();return new Vf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ja(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Gf.type="LOCAL";var $f=Gf;function Qf(e,t){return vs(e,"POST","/v2/accounts/mfaSignIn:start",ps(e,t))}function Yf(e){return Xf.apply(this,arguments)}function Xf(){return Xf=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ed=1e12,td=function(){function e(t){qa(this,e),this.auth=t,this.counter=ed,this._widgets=new Map}return Ka(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new nd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ed;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ed;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ed,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nd=function(){function e(t,n,r){var i=this;qa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ts(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ka(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var rd=Zf("rcb"),id=new cs(3e4,6e4),ad="https://www.google.com/recaptcha/api.js?",od=function(){function e(){qa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nf().grecaptcha}return Ka(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ts(ud(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Nf().grecaptcha):new Promise((function(r,i){var a=Nf().setTimeout((function(){i(Xu(e,"network-request-failed"))}),id.get());Nf()[rd]=function(){Nf().clearTimeout(a),delete Nf()[rd];var o=Nf().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Xu(e,"internal-error"))},Jf("".concat(ad,"?").concat(go({onload:rd,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Xu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Nf().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ud(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var sd=function(){function e(){qa(this,e)}return Ka(e,[{key:"load",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new td(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),cd="recaptcha",ld={theme:"light",type:"image"},fd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ld),r=arguments.length>2?arguments[2]:void 0;qa(this,e),this.parameters=n,this.type=cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hc(r),this.isInvisible="invisible"===this.parameters.size,ts("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ts(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sd:new od,this.validateStartingState()}return Ka(e,[{key:"verify",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r,i=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ts(!this.parameters.sitekey,this.auth,"argument-error"),ts(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ts("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Nf()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ts(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ba(Ga().mark((function e(){var t,n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ts(us()&&!Rf(),this.auth,"internal-error"),e.next=3,dd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Yf(this.auth);case 8:ts(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ts(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function dd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var hd=function(){function e(t,n){qa(this,e),this.verificationId=t,this.onConfirmation=n}return Ka(e,[{key:"confirm",value:function(e){var t=Xc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function pd(){return pd=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(t),e.next=3,gd(i,n,Io(r));case 3:return a=e.sent,e.abrupt("return",new hd(a,(function(e){return Tl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t,n){return md.apply(this,arguments)}function md(){return(md=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Io(t),e.next=3,wl(!1,i,"phone");case 3:return e.next=5,gd(i.auth,n,Io(r));case 5:return a=e.sent,e.abrupt("return",new hd(a,(function(e){return Al(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(){return(yd=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Io(t),e.next=3,gd(i.auth,n,Io(r));case 3:return a=e.sent,e.abrupt("return",new hd(a,(function(e){return Rl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gd(e,t,n){return kd.apply(this,arguments)}function kd(){return kd=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ts("string"===typeof a,t,"argument-error"),ts(r.type===cd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ts("enroll"===u.type,t,"internal-error"),e.next=13,mf(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ts("signin"===u.type,t,"internal-error"),ts(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Kc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),kd.apply(this,arguments)}function bd(){return(bd=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(Io(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wd=function(){function e(t){qa(this,e),this.providerId=e.PROVIDER_ID,this.auth=hc(t)}return Ka(e,[{key:"verifyPhoneNumber",value:function(e,t){return gd(this.auth,e,Io(t))}}],[{key:"credential",value:function(e,t){return Xc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Xc._fromTokenResponse(n,r):null}}]),e}();function xd(e,t){return t?as(t):(ts(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wd.PROVIDER_ID="phone",wd.PHONE_SIGN_IN_METHOD="phone";var Ed=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ka(n,[{key:"_getIdTokenResponse",value:function(e){return Bc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Bc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Bc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(gc);function Id(e){return Sl(e.auth,new Ed(e),e.bypassAuthState)}function Sd(e){var t=e.auth,n=e.user;return ts(n,t,"internal-error"),El(n,new Ed(e),e.bypassAuthState)}function _d(e){return Td.apply(this,arguments)}function Td(){return Td=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ts(r=t.user,n,"internal-error"),e.abrupt("return",kl(r,new Ed(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}var Cd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];qa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ka(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ba(Ga().mark((function t(n,r){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ba(Ga().mark((function e(t){var n,r,i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Id;case"linkViaPopup":case"linkViaRedirect":return _d;case"reauthViaPopup":case"reauthViaRedirect":return Sd;default:Yu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ad=new cs(2e3,1e4);function Nd(e,t,n){return Rd.apply(this,arguments)}function Rd(){return Rd=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(t),Zu(t,n,el),a=xd(i,r),o=new Md(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Pd(){return(Pd=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=Io(t)).auth,n,el),a=xd(i.auth,r),o=new Md(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Od(e,t,n){return Dd.apply(this,arguments)}function Dd(){return(Dd=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=Io(t)).auth,n,el),a=xd(i.auth,r),o=new Md(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Md=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a,o){var u;return qa(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ri(u),u}return Ka(n,[{key:"executeNotNull",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ts(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ba(Ga().mark((function e(){var t,n=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs(1===this.filter.length,"Popup operations only handle one event"),t=Cf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ad.get())}()}}]),n}(Cd);Md.currentPopupAction=null;var Ld=new Map,Fd=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return qa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ka(n,[{key:"execute",value:function(){var e=Ba(Ga().mark((function e(){var t,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ld.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Da(Pa(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ld.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ld.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ba(Ga().mark((function e(t){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Da(Pa(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Da(Pa(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Cd);function Vd(e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(n),i=Bd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}function jd(e,t){return zd.apply(this,arguments)}function zd(){return zd=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t)._set(qd(n),"true"));case 1:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Bd(e){return as(e._redirectPersistence)}function qd(e){return Xs("pendingRedirect",e.config.apiKey,e.name)}function Wd(e,t,n){return function(e,t,n){return Kd.apply(this,arguments)}(e,t,n)}function Kd(){return Kd=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(t),Zu(t,n,el),a=xd(i,r),e.next=5,jd(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Hd(e,t,n){return function(e,t,n){return Gd.apply(this,arguments)}(e,t,n)}function Gd(){return(Gd=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=Io(t)).auth,n,el),a=xd(i.auth,r),e.next=5,jd(a,i.auth);case 5:return e.next=7,eh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $d(e,t,n){return function(e,t,n){return Qd.apply(this,arguments)}(e,t,n)}function Qd(){return(Qd=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zu((i=Io(t)).auth,n,el),a=xd(i.auth,r),e.next=5,wl(!1,i,n.providerId);case 5:return e.next=7,jd(a,i.auth);case 7:return e.next=9,eh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yd(e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hc(t)._initializationPromise;case 2:return e.abrupt("return",Jd(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=hc(t),a=xd(i,n),o=new Fd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function eh(e){return th.apply(this,arguments)}function th(){return(th=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nh=function(){function e(t){qa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ka(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ih(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ih(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(rh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function rh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ih(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ah(e){return oh.apply(this,arguments)}function oh(){return oh=Ba(Ga().mark((function e(t){var n,r=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",vs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}var uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sh=/^https?/;function ch(){return ch=Ba(Ga().mark((function e(t){var n,r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ah(t);case 4:n=e.sent,r=n.authorizedDomains,i=ja(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!lh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Yu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ch.apply(this,arguments)}function lh(e){var t=os(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!sh.test(r))return!1;if(uh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var fh=new cs(3e4,6e4);function dh(){var e=Nf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=se(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var hh=null;function ph(e){return hh=hh||function(e){return new Promise((function(t,n){var r,i,a;function o(){dh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){dh(),n(Xu(e,"network-request-failed"))},timeout:fh.get()})}if(null===(i=null===(r=Nf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Nf().gapi)||void 0===a?void 0:a.load)){var u=Zf("iframefcb");return Nf()[u]=function(){gapi.load?o():n(Xu(e,"network-request-failed"))},Jf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw hh=null,e}))}(e),hh}var vh=new cs(5e3,15e3),mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gh(e){var t=e.config;ts(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ls(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:su},i=yh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(go(r).slice(1))}function kh(e){return bh.apply(this,arguments)}function bh(){return bh=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ph(t);case 2:return n=e.sent,ts(r=Nf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:gh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mh,dontclear:!0},(function(e){return new Promise(function(){var n=Ba(Ga().mark((function n(r,i){var a,o,u;return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Nf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xu(t,"network-request-failed"),o=Nf().setTimeout((function(){i(a)}),vh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}var wh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xh="_blank",Eh="http://localhost",Ih=function(){function e(t){qa(this,e),this.window=t,this.associatedEvent=null}return Ka(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Sh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},wh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ro().toLowerCase();n&&(u=nc(c)?xh:n),ec(c)&&(t=t||Eh,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(sc(c)&&"_self"!==u)return _h(t||"",u),new Ih(null);var d=window.open(t||"",u,f);ts(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Ih(d)}function _h(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Th="__/auth/handler",Ch="emulator/auth/handler";function Ah(e,t,n,r,i,a){ts(e.config.authDomain,e,"auth-domain-config-required"),ts(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:su,eventId:i};if(t instanceof el){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],d=c[1];o[f]=d}}if(t instanceof tl){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Th);return ls(t,Ch)}(e),"?").concat(go(p).slice(1))}var Nh="webStorageSupport",Rh=function(){function e(){qa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sf,this._completeRedirectFn=Jd}return Ka(e,[{key:"_openPopup",value:function(){var e=Ba(Ga().mark((function e(t,n,r,i){var a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ah(t,n,r,os(),i),e.abrupt("return",Sh(t,o,Cf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ba(Ga().mark((function e(t,n,r,i){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ah(t,n,r,os(),i),Nf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(rs(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh(t);case 2:return n=e.sent,r=new nh(t),n.register("authEvent",(function(e){return ts(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Nh,{type:Nh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Yu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ch.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return lc()||tc()||uc()}}]),e}(),Ph=Rh,Oh=function(){function e(t){qa(this,e),this.factorId=t}return Ka(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ns("unexpected MultiFactorSessionType")}}}]),e}(),Dh=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this,"phone")).credential=e,r}return Ka(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vs(e,"POST","/v2/accounts/mfaEnrollment:finalize",ps(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vs(e,"POST","/v2/accounts/mfaSignIn:finalize",ps(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Oh),Mh=function(){function e(){qa(this,e)}return Ka(e,null,[{key:"assertion",value:function(e){return Dh._fromCredential(e)}}]),e}();Mh.FACTOR_ID="phone";var Lh,Fh,Vh="@firebase/auth",Uh="0.19.10",jh=function(){function e(t){qa(this,e),this.auth=t,this.internalListeners=new Map}return Ka(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ts(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Lh="Browser",tu(new No("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ts(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ts(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Lh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fc(Lh)},i=new dc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(as);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),tu(new No("auth-internal",(function(e){return function(e){return new jh(e)}(hc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),pu(Vh,Uh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Lh)),pu(Vh,Uh,"esm2017");var zh=function(){function e(t,n){var r=this;qa(this,e),this._delegate=t,this.firebase=n,Zo(t,new No("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ka(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),du(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Zo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){eu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Bh=(G(Fh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),G(Fh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fh),qh=new fo("app-compat","Firebase",Bh);var Wh=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=cu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(vo(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:pu,setLogLevel:mu,onLog:vu,apps:null,SDK_VERSION:su,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(tu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw qh.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&eo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!vo(n,e=e||Qo))throw qh.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){eo(n,e)},createSubscribe:wo,ErrorFactory:fo,deepExtend:eo}),n}(),Kh=new Wo("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Kh.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Hh=self.firebase.SDK_VERSION;Hh&&Hh.indexOf("LITE")>=0&&Kh.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gh=Wh;!function(e){pu("@firebase/app-compat","0.1.20",e)}();function $h(){return window}Gh.registerVersion("firebase","9.6.9","app-compat");function Qh(e,t,n){return Yh.apply(this,arguments)}function Yh(){return Yh=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$h(),o=a.BuildInfo,rs(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,np(n.sessionId);case 4:return u=e.sent,s={},uc()?s.ibi=o.packageName:ic()?s.apn=o.packageName:Yu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ah(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function Xh(){return Xh=Ba(Ga().mark((function e(t){var n,r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h(),r=n.BuildInfo,i={},uc()?i.iosBundleId=r.packageName:ic()?i.androidPackageName=r.packageName:Yu(t,"operation-not-supported-in-this-environment"),e.next=5,ah(t,i);case 5:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(e){var t=$h().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Zh(e,t,n){return ep.apply(this,arguments)}function ep(){return ep=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$h(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Xu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ic()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ep.apply(this,arguments)}function tp(e){var t,n,r,i,a,o,u,s,c,l,f=$h();ts("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ts("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ts("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ts("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ts("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function np(e){return rp.apply(this,arguments)}function rp(){return(rp=Ba(Ga().mark((function e(t){var n,r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ip(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ip(e){if(rs(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ap=function(e){Ma(n,e);var t=Ua(n);function n(){var e;return qa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ka(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Da(Pa(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nh);function op(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:fp(),postBody:null,tenantId:e.tenantId,error:Xu(e,"no-auth-event")}}function up(e,t){return dp()._set(hp(e),t)}function sp(e){return cp.apply(this,arguments)}function cp(){return cp=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dp()._get(hp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,dp()._remove(hp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t){var n,r,i=function(e){var t=pp(e),n=t.link?decodeURIComponent(t.link):void 0,r=pp(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return pp(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=pp(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Xu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function fp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function dp(){return as(Ef)}function hp(e){return Xs("authEvent",e.config.apiKey,e.name)}function pp(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||ue(t)||s(t)||c();r[0];return ko(r.slice(1).join("?"))}var vp=function(){function e(){qa(this,e),this._redirectPersistence=Sf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jd}return Ka(e,[{key:"_initialize",value:function(){var e=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ap(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Yu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ba(Ga().mark((function e(t,n,r,i){var a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tp(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ld.clear(),e.next=10,this._originValidation(t);case 10:return o=op(t,r,i),e.next=13,up(t,o);case 13:return e.next=15,Qh(t,o,n);case 15:return u=e.sent,e.next=18,Jh(u);case 18:return s=e.sent,e.abrupt("return",Zh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Xh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$h(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ba(Ga().mark((function n(){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sp(e);case 2:t.onEvent(yp());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ba(Ga().mark((function n(r){var i,a;return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,sp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=lp(i,r.url)),t.onEvent(a||yp());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");$h().handleOpenURL=function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),mp=vp;function yp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xu("no-auth-event")}}function gp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function kp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return!("file:"!==gp()&&"ionic:"!==gp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function bp(){return so()&&11===(null===document||void 0===document?void 0:document.documentMode)}function wp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return/Edge\/\d+/.test(e)}function xp(){try{var e=self.localStorage,t=Cf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro();return bp()||wp(e)}()||co()}catch(n){return Ep()&&co()}return!1}function Ep(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ip(){return("http:"===gp()||"https:"===gp()||oo()||kp())&&!(uo()||ao())&&xp()&&!Ep()}function Sp(){return kp()&&"undefined"!==typeof document}function _p(){return Tp.apply(this,arguments)}function Tp(){return(Tp=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cp={LOCAL:"local",NONE:"none",SESSION:"session"},Ap=ts,Np="persistence";function Rp(e,t){Ap(Object.values(Cp).includes(t),e,"invalid-persistence-type"),uo()?Ap(t!==Cp.SESSION,e,"unsupported-persistence-type"):ao()?Ap(t===Cp.NONE,e,"unsupported-persistence-type"):Ep()?Ap(t===Cp.NONE||t===Cp.LOCAL&&co(),e,"unsupported-persistence-type"):Ap(t===Cp.NONE||xp(),e,"unsupported-persistence-type")}function Pp(e){return Op.apply(this,arguments)}function Op(){return Op=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Dp(),r=Xs(Np,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Dp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Mp=ts,Lp=function(){function e(){qa(this,e),this.browserResolver=as(Ph),this.cordovaResolver=as(mp),this.underlyingResolver=null,this._redirectPersistence=Sf,this._completeRedirectFn=Jd}return Ka(e,[{key:"_initialize",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ba(Ga().mark((function e(t,n,r,i){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ba(Ga().mark((function e(t,n,r,i){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Sp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Mp(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_p();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fp(e){return e.unwrap()}function Vp(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new qp(e,function(e,t){var n,r=Io(e),i=t;return ts(t.customData.operationType,r,"argument-error"),ts(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vf._fromError(r,i)}(e,t));else if(r){var i=Up(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Up(e){var t=(e instanceof lo?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof lo)&&"temporaryProof"in t&&"phoneNumber"in t)return wd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Lu)return null;switch(r){case Mu:n=il;break;case Ou:n=rl;break;case Du:n=al;break;case Fu:n=sl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ol._create(r,u):Wc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new nl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof lo?n.credentialFromError(e):n.credentialFromResult(e)}function jp(e,t){return t.catch((function(t){throw t instanceof lo&&Vp(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Up(t)),additionalUserInfo:hf(e),user:Wp.getOrCreate(r)}}))}function zp(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return jp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}var qp=function(){function e(t,n){qa(this,e),this.resolver=n,this.auth=t.wrapped()}return Ka(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return jp(Fp(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Wp=function(){function e(t){qa(this,e),this._delegate=t,this.multiFactor=function(e){var t=Io(e);return kf.has(t)||kf.set(t,gf._fromUser(t)),kf.get(t)}(t)}return Ka(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jp(this.auth,Al(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zp(this.auth,vd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jp(this.auth,Od(this._delegate,t,Lp)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pp(hc(this.auth));case 2:return e.abrupt("return",$d(this._delegate,t,Lp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jp(this.auth,Rl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return zp(this.auth,function(e,t,n){return yd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return jp(this.auth,function(e,t,n){return Pd.apply(this,arguments)}(this._delegate,e,Lp))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pp(hc(this.auth));case 2:return e.abrupt("return",Hd(this._delegate,t,Lp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Zl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return af(Io(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return af(Io(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return bd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return rf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ef.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Wp.USER_MAP=new WeakMap;var Kp=ts,Hp=function(){function e(t,n){if(qa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Kp(r,"invalid-api-key",{appName:t.name}),Kp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Lp:void 0;this._delegate=n.initialize({options:{persistence:$p(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ku),this.linkUnderlyingAuth()}return Ka(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Wp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){vc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return zl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Bl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return jl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jp(this._delegate,Kl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Jl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Jc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kp(Ip(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Yd(this._delegate,Lp);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",jp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){hc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Gp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Gp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return $l.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ul.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rp(this._delegate,t),e.t0=t,e.next=e.t0===Cp.SESSION?4:e.t0===Cp.LOCAL?6:e.t0===Cp.NONE?11:13;break;case 4:return n=Sf,e.abrupt("break",14);case 6:return e.next=8,as($f)._isAvailable();case 8:return r=e.sent,n=r?$f:Ef,e.abrupt("break",14);case 11:return n=Ys,e.abrupt("break",14);case 13:return e.abrupt("return",Yu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return jp(this._delegate,function(e){return hl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return jp(this._delegate,Tl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return jp(this._delegate,function(e,t){return Ml.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return jp(this._delegate,Gl(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return jp(this._delegate,function(e,t,n){return Ql.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return zp(this._delegate,function(e,t,n){return pd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kp(Ip(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",jp(this._delegate,Nd(this._delegate,t,Lp)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kp(Ip(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Pp(this._delegate);case 3:return e.abrupt("return",Wd(this._delegate,t,Lp));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Wl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Gp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Wp.getOrCreate(e))},error:t,complete:n}}function $p(e,t){var n=function(e,t){var n=Dp();if(!n)return[];var r=Xs(Np,e,t);switch(n.getItem(r)){case Cp.NONE:return[Ys];case Cp.LOCAL:return[$f,Sf];case Cp.SESSION:return[Sf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes($f)||n.push($f),"undefined"!==typeof window)for(var r=0,i=[Ef,Sf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ys)||n.push(Ys),n}Hp.Persistence=Cp;var Qp=function(){function e(){qa(this,e),this.providerId="phone",this._delegate=new wd(Fp(Gh.auth()))}return Ka(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return wd.credential(e,t)}}]),e}();Qp.PHONE_SIGN_IN_METHOD=wd.PHONE_SIGN_IN_METHOD,Qp.PROVIDER_ID=wd.PROVIDER_ID;var Yp,Xp=ts,Jp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gh.app();qa(this,e),Xp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new fd(t,n,i.auth()),this.type=this._delegate.type}return Ka(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Yp=Gh).INTERNAL.registerComponent(new No("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Hp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vu,PASSWORD_RESET:Uu,RECOVER_EMAIL:ju,REVERT_SECOND_FACTOR_ADDITION:zu,VERIFY_AND_CHANGE_EMAIL:Bu,VERIFY_EMAIL:qu}},EmailAuthProvider:Zc,FacebookAuthProvider:rl,GithubAuthProvider:al,GoogleAuthProvider:il,OAuthProvider:nl,SAMLAuthProvider:ul,PhoneAuthProvider:Qp,PhoneMultiFactorGenerator:Mh,RecaptchaVerifier:Jp,TwitterAuthProvider:sl,Auth:Hp,AuthCredential:gc,Error:lo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Yp.registerVersion("@firebase/auth-compat","0.2.10");var Zp,ev="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},tv={},nv=nv||{},rv=ev||self;function iv(){}function av(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ov(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var uv="closure_uid_"+(1e9*Math.random()>>>0),sv=0;function cv(e,t,n){return e.call.apply(e.bind,arguments)}function lv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fv(e,t,n){return(fv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cv:lv).apply(null,arguments)}function dv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function pv(){this.s=this.s,this.o=this.o}var vv={};pv.prototype.s=!1,pv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,uv)&&e[uv]||(e[uv]=++sv)}(this);delete vv[e]}},pv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var mv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},yv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function gv(e){return Array.prototype.concat.apply([],arguments)}function kv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function bv(e){return/^[\s\xa0]*$/.test(e)}var wv,xv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ev(e,t){return-1!=e.indexOf(t)}function Iv(e,t){return e<t?-1:e>t?1:0}e:{var Sv=rv.navigator;if(Sv){var _v=Sv.userAgent;if(_v){wv=_v;break e}}wv=""}function Tv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cv(e){var t={};for(var n in e)t[n]=e[n];return t}var Av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Av.length;a++)n=Av[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rv(e){return Rv[" "](e),e}Rv[" "]=iv;var Pv,Ov=Ev(wv,"Opera"),Dv=Ev(wv,"Trident")||Ev(wv,"MSIE"),Mv=Ev(wv,"Edge"),Lv=Mv||Dv,Fv=Ev(wv,"Gecko")&&!(Ev(wv.toLowerCase(),"webkit")&&!Ev(wv,"Edge"))&&!(Ev(wv,"Trident")||Ev(wv,"MSIE"))&&!Ev(wv,"Edge"),Vv=Ev(wv.toLowerCase(),"webkit")&&!Ev(wv,"Edge");function Uv(){var e=rv.document;return e?e.documentMode:void 0}e:{var jv="",zv=function(){var e=wv;return Fv?/rv:([^\);]+)(\)|;)/.exec(e):Mv?/Edge\/([\d\.]+)/.exec(e):Dv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vv?/WebKit\/(\S+)/.exec(e):Ov?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zv&&(jv=zv?zv[1]:""),Dv){var Bv=Uv();if(null!=Bv&&Bv>parseFloat(jv)){Pv=String(Bv);break e}}Pv=jv}var qv,Wv={};function Kv(){return function(e){var t=Wv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=xv(String(Pv)).split("."),n=xv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Iv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Iv(0==a[2].length,0==o[2].length)||Iv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(rv.document&&Dv){var Hv=Uv();qv=Hv||(parseInt(Pv,10)||void 0)}else qv=void 0;var Gv=qv,$v=function(){if(!rv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rv.addEventListener("test",iv,t),rv.removeEventListener("test",iv,t)}catch(n){}return e}();function Qv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Yv(e,t){if(Qv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fv){e:{try{Rv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yv.Z.h.call(this)}}Qv.prototype.h=function(){this.defaultPrevented=!0},hv(Yv,Qv);var Xv={2:"touch",3:"pen",4:"mouse"};Yv.prototype.h=function(){Yv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jv="closure_listenable_"+(1e6*Math.random()|0),Zv=0;function em(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Zv,this.ca=this.fa=!1}function tm(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function nm(e){this.src=e,this.g={},this.h=0}function rm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=mv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(tm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function im(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}nm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=im(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new em(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var am="closure_lm_"+(1e6*Math.random()|0),om={};function um(e,t,n,r,i){if(r&&r.once)return cm(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)um(e,t[a],n,r,i);return null}return n=mm(n),e&&e[Jv]?e.N(t,n,ov(r)?!!r.capture:!!r,i):sm(e,t,n,!1,r,i)}function sm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ov(i)?!!i.capture:!!i,u=pm(e);if(u||(e[am]=u=new nm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$v||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cm(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cm(e,t[a],n,r,i);return null}return n=mm(n),e&&e[Jv]?e.O(t,n,ov(r)?!!r.capture:!!r,i):sm(e,t,n,!0,r,i)}function lm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)lm(e,t[a],n,r,i);else r=ov(r)?!!r.capture:!!r,n=mm(n),e&&e[Jv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=im(a=e.g[t],n,r,i))&&(tm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=pm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=im(t,n,r,i)),(n=-1<e?t[e]:null)&&fm(n))}function fm(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Jv])rm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pm(t))?(rm(n,e),0==n.h&&(n.src=null,t[am]=null)):tm(e)}}}function dm(e){return e in om?om[e]:om[e]="on"+e}function hm(e,t){if(e.ca)e=!0;else{t=new Yv(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&fm(e),e=n.call(r,t)}return e}function pm(e){return(e=e[am])instanceof nm?e:null}var vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function mm(e){return"function"===typeof e?e:(e[vm]||(e[vm]=function(t){return e.handleEvent(t)}),e[vm])}function ym(){pv.call(this),this.i=new nm(this),this.P=this,this.I=null}function gm(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Qv(t,e);else if(t instanceof Qv)t.target=t.target||e;else{var i=t;Nv(t=new Qv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=km(o,r,!0,t)&&i}if(i=km(o=t.g=e,r,!0,t)&&i,i=km(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=km(o=t.g=n[a],r,!1,t)&&i}function km(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&rm(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}hv(ym,pv),ym.prototype[Jv]=!0,ym.prototype.removeEventListener=function(e,t,n,r){lm(this,e,t,n,r)},ym.prototype.M=function(){if(ym.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tm(n[r]);delete t.g[e],t.h--}}this.I=null},ym.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ym.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bm=rv.JSON.stringify;function wm(){var e=Am,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xm,Em=function(){function e(){qa(this,e),this.h=this.g=null}return Ka(e,[{key:"add",value:function(e,t){var n=Im.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Im=new(function(){function e(t,n){qa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ka(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Sm}),(function(e){return e.reset()})),Sm=function(){function e(){qa(this,e),this.next=this.g=this.h=null}return Ka(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function _m(e){rv.setTimeout((function(){throw e}),0)}function Tm(e,t){xm||function(){var e=rv.Promise.resolve(void 0);xm=function(){e.then(Nm)}}(),Cm||(xm(),Cm=!0),Am.add(e,t)}var Cm=!1,Am=new Em;function Nm(){for(var e;e=wm();){try{e.h.call(e.g)}catch(n){_m(n)}var t=Im;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cm=!1}function Rm(e,t){ym.call(this),this.h=e||1,this.g=t||rv,this.j=fv(this.kb,this),this.l=Date.now()}function Pm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Om(e,t,n){if("function"===typeof e)n&&(e=fv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fv(e.handleEvent,e)}return 2147483647<Number(t)?-1:rv.setTimeout(e,t||0)}function Dm(e){e.g=Om((function(){e.g=null,e.i&&(e.i=!1,Dm(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}hv(Rm,ym),(Zp=Rm.prototype).da=!1,Zp.S=null,Zp.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gm(this,"tick"),this.da&&(Pm(this),this.start()))}},Zp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zp.M=function(){Rm.Z.M.call(this),Pm(this),delete this.g};var Mm=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ka(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Dm(this)}},{key:"M",value:function(){Da(Pa(n.prototype),"M",this).call(this),this.g&&(rv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(pv);function Lm(e){pv.call(this),this.h=e,this.g={}}hv(Lm,pv);var Fm=[];function Vm(e,t,n,r){Array.isArray(n)||(n&&(Fm[0]=n.toString()),n=Fm);for(var i=0;i<n.length;i++){var a=um(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Um(e){Tv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fm(e)}),e),e.g={}}function jm(){this.g=!0}function zm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return bm(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Lm.prototype.M=function(){Lm.Z.M.call(this),Um(this)},Lm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jm.prototype.Aa=function(){this.g=!1},jm.prototype.info=function(){};var Bm={},qm=null;function Wm(){return qm=qm||new ym}function Km(e){Qv.call(this,Bm.Ma,e)}function Hm(e){var t=Wm();gm(t,new Km(t,e))}function Gm(e,t){Qv.call(this,Bm.STAT_EVENT,e),this.stat=t}function $m(e){var t=Wm();gm(t,new Gm(t,e))}function Qm(e,t){Qv.call(this,Bm.Na,e),this.size=t}function Ym(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rv.setTimeout((function(){e()}),t)}Bm.Ma="serverreachability",hv(Km,Qv),Bm.STAT_EVENT="statevent",hv(Gm,Qv),Bm.Na="timingevent",hv(Qm,Qv);var Xm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zm(){}function ey(e){return e.h||(e.h=e.i())}function ty(){}Zm.prototype.h=null;var ny,ry={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function iy(){Qv.call(this,"d")}function ay(){Qv.call(this,"c")}function oy(){}function uy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Lm(this),this.P=cy,e=Lv?125:void 0,this.W=new Rm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sy}function sy(){this.i=null,this.g="",this.h=!1}hv(iy,Qv),hv(ay,Qv),hv(oy,Zm),oy.prototype.g=function(){return new XMLHttpRequest},oy.prototype.i=function(){return{}},ny=new oy;var cy=45e3,ly={},fy={};function dy(e,t,n){e.K=1,e.v=My(Ay(t)),e.s=n,e.U=!0,hy(e,null)}function hy(e,t){e.F=Date.now(),yy(e),e.A=Ay(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$y(n.h,"t",r),e.C=0,n=e.l.H,e.h=new sy,e.g=Yg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Mm(fv(e.Ia,e,e.g),e.O)),Vm(e.V,e.g,"readystatechange",e.gb),t=e.H?Cv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Hm(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function py(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function vy(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=my(e,n))==fy){4==t&&(e.o=4,$m(14),i=!1),zm(e.j,e.m,null,"[Incomplete Response]");break}if(r==ly){e.o=4,$m(15),zm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zm(e.j,e.m,r,null),xy(e,r)}py(e)&&r!=fy&&r!=ly&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,$m(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bg(t),t.L=!0,$m(11))):(zm(e.j,e.m,n,"[Invalid Chunked Response]"),wy(e),by(e))}function my(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fy:(n=Number(t.substring(n,r)),isNaN(n)?ly:(r+=1)+n>t.length?fy:(t=t.substr(r,n),e.C=r+n,t))}function yy(e){e.Y=Date.now()+e.P,gy(e,e.P)}function gy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ym(fv(e.eb,e),t)}function ky(e){e.B&&(rv.clearTimeout(e.B),e.B=null)}function by(e){0==e.l.G||e.I||Kg(e.l,e)}function wy(e){ky(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Pm(e.W),Um(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ng(n.i,e)))if(n.I=e.N,!e.J&&ng(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Wg(n),Og(n)}zg(n),$m(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ym(fv(n.ab,n),6e3));if(1>=tg(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Gg(n,11)}else if((e.J||n.g==e)&&Wg(n),!bv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ev(l,"spdy")||Ev(l,"quic")||Ev(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(rg(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Dy(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Qg(r,r.H?r.la:null,r.W),h.J){ig(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(ky(p),yy(p)),r.g=h}else jg(r);0<n.l.length&&Lg(n)}else"stop"!=a[0]&&"close"!=a[0]||Gg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gg(n,7):Pg(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Hm(4)}catch(a){}}function Ey(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(av(e)||"string"===typeof e)yv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(av(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(av(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Iy(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Iy)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Sy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];_y(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)_y(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function _y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Zp=uy.prototype).setTimeout=function(e){this.P=e},Zp.gb=function(e){e=e.target;var t=this.L;t&&3==Tg(e)?t.l():this.Ia(e)},Zp.Ia=function(e){try{if(e==this.g)e:{var t=Tg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Lv||this.g&&(this.h.h||this.g.ga()||Cg(this.g)))){this.I||4!=t||7==n||Hm(8==n||0>=r?3:2),ky(this);var i=this.g.ba();this.N=i;t:if(py(this)){var a=Cg(this.g);e="";var o=a.length,u=4==Tg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wy(this),by(this);var s="";break t}this.h.i=new rv.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bv(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,$m(12),wy(this),by(this);break e}zm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xy(this,i)}this.U?(vy(this,t,s),Lv&&this.i&&3==t&&(Vm(this.V,this.W,"tick",this.fb),this.W.start())):(zm(this.j,this.m,s,null),xy(this,s)),4==t&&wy(this),this.i&&!this.I&&(4==t?Kg(this.l,this):(this.i=!1,yy(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,$m(12)):(this.o=0,$m(13)),wy(this),by(this)}}}catch(t){}},Zp.fb=function(){if(this.g){var e=Tg(this.g),t=this.g.ga();this.C<t.length&&(ky(this),vy(this,e,t),this.i&&4!=e&&yy(this))}},Zp.cancel=function(){this.I=!0,wy(this)},Zp.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Hm(3),$m(17)),wy(this),this.o=2,by(this)):gy(this,this.Y-e)},(Zp=Iy.prototype).R=function(){Sy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Zp.T=function(){return Sy(this),this.g.concat()},Zp.get=function(e,t){return _y(this.h,e)?this.h[e]:t},Zp.set=function(e,t){_y(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Zp.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ty=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cy(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Cy){this.g=void 0!==t?t:e.g,Ny(this,e.j),this.s=e.s,Ry(this,e.i),Py(this,e.m),this.l=e.l,t=e.h;var n=new Wy;n.i=t.i,t.g&&(n.g=new Iy(t.g),n.h=t.h),Oy(this,n),this.o=e.o}else e&&(n=String(e).match(Ty))?(this.g=!!t,Ny(this,n[1]||"",!0),this.s=Ly(n[2]||""),Ry(this,n[3]||"",!0),Py(this,n[4]),this.l=Ly(n[5]||"",!0),Oy(this,n[6]||"",!0),this.o=Ly(n[7]||"")):(this.g=!!t,this.h=new Wy(null,this.g))}function Ay(e){return new Cy(e)}function Ny(e,t,n){e.j=n?Ly(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ry(e,t,n){e.i=n?Ly(t,!0):t}function Py(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Oy(e,t,n){t instanceof Wy?(e.h=t,function(e,t){t&&!e.j&&(Ky(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Hy(this,t),$y(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Fy(t,By)),e.h=new Wy(t,e.g))}function Dy(e,t,n){e.h.set(t,n)}function My(e){return Dy(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ly(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fy(t,Uy,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Fy(t,Uy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fy(n,"/"==n.charAt(0)?zy:jy,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fy(n,qy)),e.join("")};var Uy=/[#\/\?@]/g,jy=/[#\?:]/g,zy=/[#\?]/g,By=/[#\?@]/g,qy=/#/g;function Wy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ky(e){e.g||(e.g=new Iy,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hy(e,t){Ky(e),t=Qy(e,t),_y(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,_y((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Sy(e)))}function Gy(e,t){return Ky(e),t=Qy(e,t),_y(e.g.h,t)}function $y(e,t,n){Hy(e,t),0<n.length&&(e.i=null,e.g.set(Qy(e,t),kv(n)),e.h+=n.length)}function Qy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zp=Wy.prototype).add=function(e,t){Ky(this),this.i=null,e=Qy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zp.forEach=function(e,t){Ky(this),this.g.forEach((function(n,r){yv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Zp.T=function(){Ky(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Zp.R=function(e){Ky(this);var t=[];if("string"===typeof e)Gy(this,e)&&(t=gv(t,this.g.get(Qy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=gv(t,e[n])}return t},Zp.set=function(e,t){return Ky(this),this.i=null,Gy(this,e=Qy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zp.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Zp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Yy=Ka((function e(t,n){qa(this,e),this.h=t,this.g=n}));function Xy(e){this.l=e||Zy,rv.PerformanceNavigationTiming?e=0<(e=rv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rv.g&&rv.g.Ea&&rv.g.Ea()&&rv.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jy,Zy=10;function eg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tg(e){return e.h?1:e.g?e.g.size:0}function ng(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rg(e,t){e.g?e.g.add(t):e.h=t}function ig(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ag(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ja(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return kv(e.i)}function og(){}function ug(){this.g=new og}function sg(e,t,n){var r=n||"";try{Ey(e,(function(e,n){var i=e;ov(e)&&(i=bm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function lg(e){this.l=e.$b||null,this.j=e.ib||!1}function fg(e,t){ym.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xy.prototype.cancel=function(){if(this.i=ag(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ja(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},og.prototype.stringify=function(e){return rv.JSON.stringify(e,void 0)},og.prototype.parse=function(e){return rv.JSON.parse(e,void 0)},hv(lg,Zm),lg.prototype.g=function(){return new fg(this.l,this.j)},lg.prototype.i=(Jy={},function(){return Jy}),hv(fg,ym);var dg=0;function hg(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function pg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vg(e)}function vg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zp=fg.prototype).open=function(e,t){if(this.readyState!=dg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vg(this)},Zp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||rv).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Zp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pg(this)),this.readyState=dg},Zp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vg(this)),this.g&&(this.readyState=3,vg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof rv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hg(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Zp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pg(this):vg(this),3==this.readyState&&hg(this)}},Zp.Ua=function(e){this.g&&(this.response=this.responseText=e,pg(this))},Zp.Ta=function(e){this.g&&(this.response=e,pg(this))},Zp.ha=function(){this.g&&pg(this)},Zp.setRequestHeader=function(e,t){this.v.append(e,t)},Zp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mg=rv.JSON.parse;function yg(e){ym.call(this),this.headers=new Iy,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gg,this.K=this.L=!1}hv(yg,ym);var gg="",kg=/^https?$/i,bg=["POST","PUT"];function wg(e){return"content-type"==e.toLowerCase()}function xg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Eg(e),Sg(e)}function Eg(e){e.D||(e.D=!0,gm(e,"complete"),gm(e,"error"))}function Ig(e){if(e.h&&"undefined"!=typeof nv&&(!e.C[1]||4!=Tg(e)||2!=e.ba()))if(e.v&&4==Tg(e))Om(e.Fa,0,e);else if(gm(e,"readystatechange"),4==Tg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ty)[1]||null;if(!a&&rv.self&&rv.self.location){var o=rv.self.location.protocol;a=o.substr(0,o.length-1)}i=!kg.test(a?a.toLowerCase():"")}t=i}if(t)gm(e,"complete"),gm(e,"success");else{e.m=6;try{var u=2<Tg(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Eg(e)}}finally{Sg(e)}}}function Sg(e,t){if(e.g){_g(e);var n=e.g,r=e.C[0]?iv:null;e.g=null,e.C=null,t||gm(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _g(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(rv.clearTimeout(e.A),e.A=null)}function Tg(e){return e.g?e.g.readyState:0}function Cg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case gg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ag(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Tv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dy(e,t,n))}function Ng(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rg(e){this.za=0,this.l=[],this.h=new jm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ng("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ng("baseRetryDelayMs",5e3,e),this.$a=Ng("retryDelaySeedMs",1e4,e),this.Ya=Ng("forwardChannelMaxRetries",2,e),this.ra=Ng("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Xy(e&&e.concurrentRequestLimit),this.Ca=new ug,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Pg(e){if(Dg(e),3==e.G){var t=e.V++,n=Ay(e.F);Dy(n,"SID",e.J),Dy(n,"RID",t),Dy(n,"TYPE","terminate"),Vg(e,n),(t=new uy(e,e.h,t,void 0)).K=2,t.v=My(Ay(n)),n=!1,rv.navigator&&rv.navigator.sendBeacon&&(n=rv.navigator.sendBeacon(t.v.toString(),"")),!n&&rv.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),yy(t)}$g(e)}function Og(e){e.g&&(Bg(e),e.g.cancel(),e.g=null)}function Dg(e){Og(e),e.u&&(rv.clearTimeout(e.u),e.u=null),Wg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&rv.clearTimeout(e.m),e.m=null)}function Mg(e,t){e.l.push(new Yy(e.Za++,t)),3==e.G&&Lg(e)}function Lg(e){eg(e.i)||e.m||(e.m=!0,Tm(e.Ha,e),e.C=0)}function Fg(e,t){var n;n=t?t.m:e.V++;var r=Ay(e.F);Dy(r,"SID",e.J),Dy(r,"RID",n),Dy(r,"AID",e.U),Vg(e,r),e.o&&e.s&&Ag(r,e.o,e.s),n=new uy(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ug(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),rg(e.i,n),dy(n,r,t)}function Vg(e,t){e.j&&Ey({},(function(e,n){Dy(t,n,e)}))}function Ug(e,t,n){n=Math.min(e.l.length,n);var r=e.j?fv(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{sg(l,o,"req"+c+"_")}catch(Ik){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function jg(e){e.g||e.u||(e.Y=1,Tm(e.Ga,e),e.A=0)}function zg(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ym(fv(e.Ga,e),Hg(e,e.A)),e.A++,!0)}function Bg(e){null!=e.B&&(rv.clearTimeout(e.B),e.B=null)}function qg(e){e.g=new uy(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ay(e.oa);Dy(t,"RID","rpc"),Dy(t,"SID",e.J),Dy(t,"CI",e.N?"0":"1"),Dy(t,"AID",e.U),Vg(e,t),Dy(t,"TYPE","xmlhttp"),e.o&&e.s&&Ag(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=My(Ay(t)),n.s=null,n.U=!0,hy(n,e)}function Wg(e){null!=e.v&&(rv.clearTimeout(e.v),e.v=null)}function Kg(e,t){var n=null;if(e.g==t){Wg(e),Bg(e),e.g=null;var r=2}else{if(!ng(e.i,t))return;n=t.D,ig(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;gm(r=Wm(),new Qm(r,n,t,i)),Lg(e)}else jg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(tg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ym(fv(e.Ha,e,t),Hg(e,e.C)),e.C++,!0))}(e,t)||2==r&&zg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gg(e,5);break;case 4:Gg(e,10);break;case 3:Gg(e,6);break;default:Gg(e,2)}}function Hg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Gg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=fv(e.jb,e);n||(n=new Cy("//www.google.com/images/cleardot.gif"),rv.location&&"http"==rv.location.protocol||Ny(n,"https"),My(n)),function(e,t){var n=new jm;if(rv.Image){var r=new Image;r.onload=dv(cg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dv(cg,n,r,"TestLoadImage: error",!1,t),r.onabort=dv(cg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dv(cg,n,r,"TestLoadImage: timeout",!1,t),rv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $m(2);e.G=0,e.j&&e.j.va(t),$g(e),Dg(e)}function $g(e){e.G=0,e.I=-1,e.j&&(0==ag(e.i).length&&0==e.l.length||(e.i.i.length=0,kv(e.l),e.l.length=0),e.j.ua())}function Qg(e,t,n){var r=function(e){return e instanceof Cy?Ay(e):new Cy(e,void 0)}(n);if(""!=r.i)t&&Ry(r,t+"."+r.i),Py(r,r.m);else{var i=rv.location;r=function(e,t,n,r){var i=new Cy(null,void 0);return e&&Ny(i,e),t&&Ry(i,t),n&&Py(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Tv(e.aa,(function(e,t){Dy(r,t,e)})),t=e.D,n=e.sa,t&&n&&Dy(r,t,n),Dy(r,"VER",e.ma),Vg(e,r),r}function Yg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new yg(new lg({ib:!0})):new yg(e.qa)).L=e.H,t}function Xg(){}function Jg(){if(Dv&&!(10<=Number(Gv)))throw Error("Environmental error: no available transport.")}function Zg(e,t){ym.call(this),this.g=new Rg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!bv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nk(this)}function ek(e){iy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tk(){ay.call(this),this.status=1}function nk(e){this.g=e}(Zp=yg.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ny.g(),this.C=this.u?ey(this.u):ey(ny),this.g.onreadystatechange=fv(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void xg(this,a)}e=n||"";var i=new Iy(this.headers);r&&Ey(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wg,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=rv.FormData&&e instanceof rv.FormData,!(0<=mv(bg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_g(this),0<this.B&&((this.K=function(e){return Dv&&Kv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fv(this.pa,this)):this.A=Om(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){xg(this,a)}},Zp.pa=function(){"undefined"!=typeof nv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gm(this,"timeout"),this.abort(8))},Zp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gm(this,"complete"),gm(this,"abort"),Sg(this))},Zp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sg(this,!0)),yg.Z.M.call(this)},Zp.Fa=function(){this.s||(this.F||this.v||this.l?Ig(this):this.cb())},Zp.cb=function(){Ig(this)},Zp.ba=function(){try{return 2<Tg(this)?this.g.status:-1}catch(Jy){return-1}},Zp.ga=function(){try{return this.g?this.g.responseText:""}catch(Jy){return""}},Zp.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mg(t)}},Zp.Da=function(){return this.m},Zp.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zp=Rg.prototype).ma=8,Zp.G=1,Zp.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Zp.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new uy(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Nv(n=Cv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ug(this,t,r),Dy(i=Ay(this.F),"RID",e),Dy(i,"CVER",22),this.D&&Dy(i,"X-HTTP-Session-Id",this.D),Vg(this,i),this.o&&n&&Ag(i,this.o,n),rg(this.i,t),this.Ra&&Dy(i,"TYPE","init"),this.ja?(Dy(i,"$req",r),Dy(i,"SID","null"),t.$=!0,dy(t,i,null)):dy(t,i,r),this.G=2}}else 3==this.G&&(e?Fg(this,e):0==this.l.length||eg(this.i)||Fg(this))},Zp.Ga=function(){if(this.u=null,qg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ym(fv(this.bb,this),e)}},Zp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$m(10),Og(this),qg(this))},Zp.ab=function(){null!=this.v&&(this.v=null,Og(this),zg(this),$m(19))},Zp.jb=function(e){e?(this.h.info("Successfully pinged google.com"),$m(2)):(this.h.info("Failed to ping google.com"),$m(1))},(Zp=Xg.prototype).xa=function(){},Zp.wa=function(){},Zp.va=function(){},Zp.ua=function(){},Zp.Oa=function(){},Jg.prototype.g=function(e,t){return new Zg(e,t)},hv(Zg,ym),Zg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Tm(fv(e.hb,e,t))),$m(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Qg(e,null,e.W),Lg(e)},Zg.prototype.close=function(){Pg(this.g)},Zg.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Mg(this.g,t)}else this.v?((t={}).__data__=bm(e),Mg(this.g,t)):Mg(this.g,e)},Zg.prototype.M=function(){this.g.j=null,delete this.j,Pg(this.g),delete this.g,Zg.Z.M.call(this)},hv(ek,iy),hv(tk,ay),hv(nk,Xg),nk.prototype.xa=function(){gm(this.g,"a")},nk.prototype.wa=function(e){gm(this.g,new ek(e))},nk.prototype.va=function(e){gm(this.g,new tk(e))},nk.prototype.ua=function(){gm(this.g,"b")},Jg.prototype.createWebChannel=Jg.prototype.g,Zg.prototype.send=Zg.prototype.u,Zg.prototype.open=Zg.prototype.m,Zg.prototype.close=Zg.prototype.close,Xm.NO_ERROR=0,Xm.TIMEOUT=8,Xm.HTTP_ERROR=6,Jm.COMPLETE="complete",ty.EventType=ry,ry.OPEN="a",ry.CLOSE="b",ry.ERROR="c",ry.MESSAGE="d",ym.prototype.listen=ym.prototype.N,yg.prototype.listenOnce=yg.prototype.O,yg.prototype.getLastError=yg.prototype.La,yg.prototype.getLastErrorCode=yg.prototype.Da,yg.prototype.getStatus=yg.prototype.ba,yg.prototype.getResponseJson=yg.prototype.Qa,yg.prototype.getResponseText=yg.prototype.ga,yg.prototype.send=yg.prototype.ea;var rk=tv.createWebChannelTransport=function(){return new Jg},ik=tv.getStatEventTarget=function(){return Wm()},ak=tv.ErrorCode=Xm,ok=tv.EventType=Jm,uk=tv.Event=Bm,sk=tv.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ck=tv.FetchXmlHttpFactory=lg,lk=tv.WebChannel=ty,fk=tv.XhrIo=yg,dk="@firebase/firestore",hk=function(){function e(t){qa(this,e),this.uid=t}return Ka(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();hk.UNAUTHENTICATED=new hk(null),hk.GOOGLE_CREDENTIALS=new hk("google-credentials-uid"),hk.FIRST_PARTY=new hk("first-party-uid"),hk.MOCK_USER=new hk("mock-user");var pk="9.6.9",vk=new Wo("@firebase/firestore");function mk(){return vk.logLevel}function yk(e){if(vk.logLevel<=Mo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bk);vk.debug.apply(vk,["Firestore (".concat(pk,"): ").concat(e)].concat(se(i)))}}function gk(e){if(vk.logLevel<=Mo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bk);vk.error.apply(vk,["Firestore (".concat(pk,"): ").concat(e)].concat(se(i)))}}function kk(e){if(vk.logLevel<=Mo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bk);vk.warn.apply(vk,["Firestore (".concat(pk,"): ").concat(e)].concat(se(i)))}}function bk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(pk,") INTERNAL ASSERTION FAILED: ")+e;throw gk(t),new Error(t)}function xk(e,t){e||wk()}function Ek(e,t){return e}var Ik={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sk=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ka(n)}(lo),_k=Ka((function e(){var t=this;qa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Tk=Ka((function e(t,n){qa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ck=function(){function e(){qa(this,e)}return Ka(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ak=function(){function e(t){qa(this,e),this.token=t,this.changeListener=null}return Ka(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Nk=function(){function e(t){qa(this,e),this.t=t,this.currentUser=hk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ka(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _k;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _k,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){yk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(yk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _k)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(yk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xk("string"==typeof n.accessToken),new Tk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xk(null===e||"string"==typeof e),new hk(e)}}]),e}(),Rk=Ka((function e(t,n,r){qa(this,e),this.type="FirstParty",this.user=hk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Pk=function(){function e(t,n,r){qa(this,e),this.h=t,this.l=n,this.m=r}return Ka(e,[{key:"getToken",value:function(){return Promise.resolve(new Rk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ok=Ka((function e(t){qa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Dk=function(){function e(t){qa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ka(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&yk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,yk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){yk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):yk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xk("string"==typeof t.token),e.p=t.token,new Ok(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Mk=function(){function e(t,n){var r=this;qa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ka(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Lk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Mk.A=-1;var Fk=function(){function e(){qa(this,e)}return Ka(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Vk(e,t){return e<t?-1:e>t?1:0}function Uk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function jk(e){return e+"\0"}var zk=function(){function e(t,n){if(qa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Sk(Ik.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Sk(Ik.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Sk(Ik.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sk(Ik.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ka(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Vk(this.nanoseconds,e.nanoseconds):Vk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Bk=function(){function e(t){qa(this,e),this.timestamp=t}return Ka(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new zk(0,0))}}]),e}();function qk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Hk=function(){function e(t,n,r){qa(this,e),void 0===n?n=0:n>t.length&&wk(),void 0===r?r=t.length-n:r>t.length-n&&wk(),this.segments=t,this.offset=n,this.len=r}return Ka(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gk=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,se(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hk),$k=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qk=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $k.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Sk(Ik.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Sk(Ik.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Sk(Ik.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hk),Yk=function(){function e(t){qa(this,e),this.fields=t,t.sort(Qk.comparator)}return Ka(e,[{key:"covers",value:function(e){var t,n=ja(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Uk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Xk=function(e){function t(e){qa(this,t),this.binaryString=e}return Ka(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Vk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Xk.EMPTY_BYTE_STRING=new Xk("");var Jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zk(e){if(xk(!!e),"string"==typeof e){var t=0,n=Jk.exec(e);if(xk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:eb(e.seconds),nanos:eb(e.nanos)}}function eb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tb(e){return"string"==typeof e?Xk.fromBase64String(e):Xk.fromUint8Array(e)}function nb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rb(e){var t=e.mapValue.fields.__previous_value__;return nb(t)?rb(t):t}function ib(e){var t=Zk(e.mapValue.fields.__local_write_time__.timestampValue);return new zk(t.seconds,t.nanos)}var ab=Ka((function e(t,n,r,i,a,o,u,s){qa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ob=function(){function e(t,n){qa(this,e),this.projectId=t,this.database=n||"(default)"}return Ka(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ub(e){return null==e}function sb(e){return 0===e&&1/e==-1/0}function cb(e){return"number"==typeof e&&Number.isInteger(e)&&!sb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var lb=function(){function e(t){qa(this,e),this.path=t}return Ka(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gk.fromString(t))}},{key:"fromName",value:function(t){return new e(Gk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gk.emptyPath())}},{key:"comparator",value:function(e,t){return Gk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gk(t.slice()))}}]),e}(),fb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},db={nullValue:"NULL_VALUE"};function hb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nb(e)?4:Tb(e)?9:10:wk()}function pb(e,t){if(e===t)return!0;var n=hb(e);if(n!==hb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ib(e).isEqual(ib(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zk(e.timestampValue),r=Zk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tb(e.bytesValue).isEqual(tb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return eb(e.geoPointValue.latitude)===eb(t.geoPointValue.latitude)&&eb(e.geoPointValue.longitude)===eb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return eb(e.integerValue)===eb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=eb(e.doubleValue),r=eb(t.doubleValue);return n===r?sb(n)===sb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Uk(e.arrayValue.values||[],t.arrayValue.values||[],pb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qk(n)!==qk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pb(n[i],r[i])))return!1;return!0}(e,t);default:return wk()}}function vb(e,t){return void 0!==(e.values||[]).find((function(e){return pb(e,t)}))}function mb(e,t){if(e===t)return 0;var n=hb(e),r=hb(t);if(n!==r)return Vk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=eb(e.integerValue||e.doubleValue),r=eb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yb(e.timestampValue,t.timestampValue);case 4:return yb(ib(e),ib(t));case 5:return Vk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=tb(e),r=tb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Vk(n[i],r[i]);if(0!==a)return a}return Vk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Vk(eb(e.latitude),eb(t.latitude));return 0!==n?n:Vk(eb(e.longitude),eb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=mb(n[i],r[i]);if(a)return a}return Vk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Vk(r[o],a[o]);if(0!==u)return u;var s=mb(n[r[o]],i[a[o]]);if(0!==s)return s}return Vk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw wk()}}function yb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vk(e,t);var n=Zk(e),r=Zk(t),i=Vk(n.seconds,r.seconds);return 0!==i?i:Vk(n.nanos,r.nanos)}function gb(e){return kb(e)}function kb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Zk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,lb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ja(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=kb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ja(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(kb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):wk();var t,n}function bb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wb(e){return!!e&&"integerValue"in e}function xb(e){return!!e&&"arrayValue"in e}function Eb(e){return!!e&&"nullValue"in e}function Ib(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sb(e){return!!e&&"mapValue"in e}function _b(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_b(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_b(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Tb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cb(e,t){return void 0===e?t:void 0===t||mb(e,t)>0?e:t}function Ab(e,t){return void 0===e?t:void 0===t||mb(e,t)<0?e:t}var Nb=function(){function e(t){qa(this,e),this.value=t}return Ka(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_b(t)}},{key:"setAll",value:function(e){var t=this,n=Qk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_b(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return pb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Wk(t,(function(t,n){return e[t]=n}));var r,i=ja(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_b(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Rb(e){var t=[];return Wk(e.fields,(function(e,n){var r=new Qk([e]);if(Sb(n)){var i=Rb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ja(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Yk(t)}var Pb=function(){function e(t,n,r,i,a,o){qa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ka(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Nb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Nb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Bk.min(),Bk.min(),Nb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Bk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bk.min(),Nb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bk.min(),Nb.empty(),2)}}]),e}(),Ob=Ka((function e(t,n,r,i){qa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Db(e){return e.fields.find((function(e){return 2===e.kind}))}function Mb(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ob.UNKNOWN_ID=-1;var Lb=Ka((function e(t,n){qa(this,e),this.fieldPath=t,this.kind=n})),Fb=function(){function e(t,n){qa(this,e),this.sequenceNumber=t,this.offset=n}return Ka(e,null,[{key:"empty",value:function(){return new e(0,Vb.min())}}]),e}(),Vb=function(){function e(t,n,r){qa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ka(e,null,[{key:"min",value:function(){return new e(Bk.min(),lb.empty(),-1)}}]),e}(),Ub=Ka((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;qa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function jb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ub(e,t,n,r,i,a,o)}function zb(e){var t=Ek(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+gb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ub(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return gb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return gb(e)})).join(",")),t.P=n}return t.P}function Bb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!nw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!pb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iw(e.startAt,t.startAt)&&iw(e.endAt,t.endAt)}function qb(e){return lb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Wb(e,t){return e.filters.filter((function(e){return e instanceof Kb&&e.field.isEqual(t)}))}var Kb=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ka(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(mb(t,this.value)):null!==t&&hb(this.value)===hb(t)&&this.v(mb(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wk()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Hb(e,t,r):"array-contains"===t?new Yb(e,r):"in"===t?new Xb(e,r):"not-in"===t?new Jb(e,r):"array-contains-any"===t?new Zb(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Gb(e,n):new $b(e,n)}}]),n}(function(){return Ka((function e(){qa(this,e)}))}()),Hb=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this,e,r,i)).key=lb.fromName(i.referenceValue),a}return Ka(n,[{key:"matches",value:function(e){var t=lb.comparator(e.key,this.key);return this.v(t)}}]),n}(Kb),Gb=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,"in",r)).keys=Qb("in",r),i}return Ka(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kb),$b=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,"not-in",r)).keys=Qb("not-in",r),i}return Ka(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kb);function Qb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return lb.fromName(e.referenceValue)}))}var Yb=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"array-contains",r)}return Ka(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xb(t)&&vb(t.arrayValue,this.value)}}]),n}(Kb),Xb=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"in",r)}return Ka(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vb(this.value.arrayValue,t)}}]),n}(Kb),Jb=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"not-in",r)}return Ka(n,[{key:"matches",value:function(e){if(vb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vb(this.value.arrayValue,t)}}]),n}(Kb),Zb=function(e){Ma(n,e);var t=Ua(n);function n(e,r){return qa(this,n),t.call(this,e,"array-contains-any",r)}return Ka(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vb(t.value.arrayValue,e)}))}}]),n}(Kb),ew=Ka((function e(t,n){qa(this,e),this.position=t,this.inclusive=n})),tw=Ka((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";qa(this,e),this.field=t,this.dir=n}));function nw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function rw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?lb.comparator(lb.fromName(o.referenceValue),n.key):mb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function iw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pb(e.position[n],t.position[n]))return!1;return!0}var aw=Ka((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;qa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function ow(e,t,n,r,i,a,o,u){return new aw(e,t,n,r,i,a,o,u)}function uw(e){return new aw(e)}function sw(e){return!ub(e.limit)&&"F"===e.limitType}function cw(e){return!ub(e.limit)&&"L"===e.limitType}function lw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fw(e){var t,n=ja(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function dw(e){return null!==e.collectionGroup}function hw(e){var t=Ek(e);if(null===t.D){t.D=[];var n=fw(t),r=lw(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new tw(n)),t.D.push(new tw(Qk.keyField(),"asc"));else{var i,a=!1,o=ja(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new tw(Qk.keyField(),s))}}}return t.D}function pw(e){var t=Ek(e);if(!t.C)if("F"===t.limitType)t.C=jb(t.path,t.collectionGroup,hw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ja(hw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new tw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ew(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new ew(t.startAt.position,!t.startAt.inclusive):null;t.C=jb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function vw(e,t,n){return new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mw(e,t){return Bb(pw(e),pw(t))&&e.limitType===t.limitType}function yw(e){return"".concat(zb(pw(e)),"|lt:").concat(e.limitType)}function gw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(gb(t.value));var t})).join(", "),"]")),ub(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return gb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return gb(e)})).join(",")),"Target(".concat(t,")")}(pw(e)),"; limitType=").concat(e.limitType,")")}function kw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ja(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ja(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=rw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hw(e),t))&&!(e.endAt&&!function(e,t,n){var r=rw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hw(e),t))}(e,t)}function bw(e){return function(t,n){var r,i=!1,a=ja(hw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ww(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ww(e,t,n){var r=e.field.isKeyField()?lb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mb(r,i):wk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wk()}}function xw(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sb(t)?"-0":t}}function Ew(e){return{integerValue:""+e}}function Iw(e,t){return cb(t)?Ew(t):xw(e,t)}var Sw=Ka((function e(){qa(this,e),this._=void 0}));function _w(e,t,n){return e instanceof Aw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nw?Rw(e,t):e instanceof Pw?Ow(e,t):function(e,t){var n=Cw(e,t),r=Mw(n)+Mw(e.k);return wb(n)&&wb(e.k)?Ew(r):xw(e.M,r)}(e,t)}function Tw(e,t,n){return e instanceof Nw?Rw(e,t):e instanceof Pw?Ow(e,t):n}function Cw(e,t){return e instanceof Dw?wb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Aw=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n)}(Sw),Nw=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).elements=e,r}return Ka(n)}(Sw);function Rw(e,t){var n,r=Lw(t),i=ja(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return pb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pw=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).elements=e,r}return Ka(n)}(Sw);function Ow(e,t){var n,r=Lw(t),i=ja(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!pb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dw=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).M=e,i.k=r,i}return Ka(n)}(Sw);function Mw(e){return eb(e.integerValue||e.doubleValue)}function Lw(e){return xb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fw=Ka((function e(t,n){qa(this,e),this.field=t,this.transform=n}));var Vw=Ka((function e(t,n){qa(this,e),this.version=t,this.transformResults=n})),Uw=function(){function e(t,n){qa(this,e),this.updateTime=t,this.exists=n}return Ka(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function jw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zw=Ka((function e(){qa(this,e)}));function Bw(e,t,n){e instanceof Gw?function(e,t,n){var r=e.value.clone(),i=Yw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $w?function(e,t,n){if(jw(e.precondition,t)){var r=Yw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qw(e,t,n){e instanceof Gw?function(e,t,n){if(jw(e.precondition,t)){var r=e.value.clone(),i=Xw(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Hw(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $w?function(e,t,n){if(jw(e.precondition,t)){var r=Xw(e.fieldTransforms,n,t),i=t.data;i.setAll(Qw(e)),i.setAll(r),t.convertToFoundDocument(Hw(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){jw(e.precondition,t)&&t.convertToNoDocument(Bk.min())}(e,t)}function Ww(e,t){var n,r=null,i=ja(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Cw(a.transform,o||null);null!=u&&(null==r&&(r=Nb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Kw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Uk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nw&&t instanceof Nw||e instanceof Pw&&t instanceof Pw?Uk(e.elements,t.elements,pb):e instanceof Dw&&t instanceof Dw?pb(e.k,t.k):e instanceof Aw&&t instanceof Aw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Hw(e){return e.isFoundDocument()?e.version:Bk.min()}var Gw=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return qa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ka(n)}(zw),$w=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return qa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ka(n)}(zw);function Qw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yw(e,t,n){var r=new Map;xk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Tw(o,u,n[i]))}return r}function Xw(e,t,n){var r,i=new Map,a=ja(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,_w(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Jw,Zw,ex=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ka(n)}(zw),tx=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ka(n)}(zw),nx=Ka((function e(t){qa(this,e),this.count=t}));function rx(e){switch(e){default:return wk();case Ik.CANCELLED:case Ik.UNKNOWN:case Ik.DEADLINE_EXCEEDED:case Ik.RESOURCE_EXHAUSTED:case Ik.INTERNAL:case Ik.UNAVAILABLE:case Ik.UNAUTHENTICATED:return!1;case Ik.INVALID_ARGUMENT:case Ik.NOT_FOUND:case Ik.ALREADY_EXISTS:case Ik.PERMISSION_DENIED:case Ik.FAILED_PRECONDITION:case Ik.ABORTED:case Ik.OUT_OF_RANGE:case Ik.UNIMPLEMENTED:case Ik.DATA_LOSS:return!0}}function ix(e){if(void 0===e)return gk("GRPC error has no .code"),Ik.UNKNOWN;switch(e){case Jw.OK:return Ik.OK;case Jw.CANCELLED:return Ik.CANCELLED;case Jw.UNKNOWN:return Ik.UNKNOWN;case Jw.DEADLINE_EXCEEDED:return Ik.DEADLINE_EXCEEDED;case Jw.RESOURCE_EXHAUSTED:return Ik.RESOURCE_EXHAUSTED;case Jw.INTERNAL:return Ik.INTERNAL;case Jw.UNAVAILABLE:return Ik.UNAVAILABLE;case Jw.UNAUTHENTICATED:return Ik.UNAUTHENTICATED;case Jw.INVALID_ARGUMENT:return Ik.INVALID_ARGUMENT;case Jw.NOT_FOUND:return Ik.NOT_FOUND;case Jw.ALREADY_EXISTS:return Ik.ALREADY_EXISTS;case Jw.PERMISSION_DENIED:return Ik.PERMISSION_DENIED;case Jw.FAILED_PRECONDITION:return Ik.FAILED_PRECONDITION;case Jw.ABORTED:return Ik.ABORTED;case Jw.OUT_OF_RANGE:return Ik.OUT_OF_RANGE;case Jw.UNIMPLEMENTED:return Ik.UNIMPLEMENTED;case Jw.DATA_LOSS:return Ik.DATA_LOSS;default:return wk()}}(Zw=Jw||(Jw={}))[Zw.OK=0]="OK",Zw[Zw.CANCELLED=1]="CANCELLED",Zw[Zw.UNKNOWN=2]="UNKNOWN",Zw[Zw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zw[Zw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zw[Zw.NOT_FOUND=5]="NOT_FOUND",Zw[Zw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zw[Zw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zw[Zw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zw[Zw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zw[Zw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zw[Zw.ABORTED=10]="ABORTED",Zw[Zw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zw[Zw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zw[Zw.INTERNAL=13]="INTERNAL",Zw[Zw.UNAVAILABLE=14]="UNAVAILABLE",Zw[Zw.DATA_LOSS=15]="DATA_LOSS";var ax=function(){function e(t,n){qa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ka(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ja(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Wk(this.inner,(function(t,n){var r,i=ja(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Kk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ox=function(){function e(t,n){qa(this,e),this.comparator=t,this.root=n||sx.EMPTY}return Ka(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ux(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ux(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ux(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ux(this.root,e,this.comparator,!0)}}]),e}(),ux=function(){function e(t,n,r,i){qa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ka(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),sx=function(){function e(t,n,r,i,a){qa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ka(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw wk();if(this.right.isRed())throw wk();var e=this.left.check();if(e!==this.right.check())throw wk();return e+(this.isRed()?0:1)}}]),e}();sx.EMPTY=null,sx.RED=!0,sx.BLACK=!1,sx.EMPTY=new(function(){function e(){qa(this,e),this.size=0}return Ka(e,[{key:"key",get:function(){throw wk()}},{key:"value",get:function(){throw wk()}},{key:"color",get:function(){throw wk()}},{key:"left",get:function(){throw wk()}},{key:"right",get:function(){throw wk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new sx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cx=function(){function e(t){qa(this,e),this.comparator=t,this.data=new ox(this.comparator)}return Ka(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new lx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new lx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),lx=function(){function e(t){qa(this,e),this.iter=t}return Ka(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function fx(e){return e.hasNext()?e.getNext():void 0}var dx=new ox(lb.comparator);function hx(){return dx}var px=new ox(lb.comparator);function vx(){return px}function mx(){return new ax((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yx=new ox(lb.comparator),gx=new cx(lb.comparator);function kx(){for(var e=gx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bx=new cx(Vk);function wx(){return bx}var xx=function(){function e(t,n,r,i,a){qa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ka(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ex.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Bk.min(),r,wx(),hx(),kx())}}]),e}(),Ex=function(){function e(t,n,r,i,a){qa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ka(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Xk.EMPTY_BYTE_STRING,n,kx(),kx(),kx())}}]),e}(),Ix=Ka((function e(t,n,r,i){qa(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),Sx=Ka((function e(t,n){qa(this,e),this.targetId=t,this.F=n})),_x=Ka((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;qa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Tx=function(){function e(){qa(this,e),this.B=0,this.L=Nx(),this.q=Xk.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return Ka(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=kx(),t=kx(),n=kx();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wk()}})),new Ex(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Nx()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),Cx=function(){function e(t){qa(this,e),this.nt=t,this.st=new Map,this.it=hx(),this.rt=Ax(),this.ot=new cx(Vk)}return Ka(e,[{key:"at",value:function(e){var t,n=ja(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=ja(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:wk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(qb(i))if(0===n){var a=new lb(i.path);this.ct(t,a,Pb.newNoDocument(a,Bk.min()))}else xk(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&qb(a.target)){var o=new lb(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Pb.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=kx();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new xx(e,n,this.ot,this.it,r);return this.it=hx(),this.rt=Ax(),this.ot=new cx(Vk),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Tx,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new cx(Vk),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||yk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Tx),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ax(){return new ox(lb.comparator)}function Nx(){return new ox(lb.comparator)}var Rx={asc:"ASCENDING",desc:"DESCENDING"},Px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ox=Ka((function e(t,n){qa(this,e),this.databaseId=t,this.N=n}));function Dx(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mx(e,t){return e.N?t.toBase64():t.toUint8Array()}function Lx(e,t){return Dx(e,t.toTimestamp())}function Fx(e){return xk(!!e),Bk.fromTimestamp(function(e){var t=Zk(e);return new zk(t.seconds,t.nanos)}(e))}function Vx(e,t){return function(e){return new Gk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ux(e){var t=Gk.fromString(e);return xk(sE(t)),t}function jx(e,t){return Vx(e.databaseId,t.path)}function zx(e,t){var n=Ux(t);if(n.get(1)!==e.databaseId.projectId)throw new Sk(Ik.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sk(Ik.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lb(Kx(n))}function Bx(e,t){return Vx(e.databaseId,t)}function qx(e){var t=Ux(e);return 4===t.length?Gk.emptyPath():Kx(t)}function Wx(e){return new Gk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kx(e){return xk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hx(e,t,n){return{name:jx(e,t),fields:n.value.mapValue.fields}}function Gx(e,t,n){var r=zx(e,t.name),i=Fx(t.updateTime),a=new Nb({mapValue:{fields:t.fields}}),o=Pb.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $x(e,t){return"found"in t?function(e,t){xk(!!t.found),t.found.name,t.found.updateTime;var n=zx(e,t.found.name),r=Fx(t.found.updateTime),i=new Nb({mapValue:{fields:t.found.fields}});return Pb.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){xk(!!t.missing),xk(!!t.readTime);var n=zx(e,t.missing),r=Fx(t.readTime);return Pb.newNoDocument(n,r)}(e,t):wk()}function Qx(e,t){var n;if(t instanceof Gw)n={update:Hx(e,t.key,t.value)};else if(t instanceof ex)n={delete:jx(e,t.key)};else if(t instanceof $w)n={update:Hx(e,t.key,t.data),updateMask:uE(t.fieldMask)};else{if(!(t instanceof tx))return wk();n={verify:jx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),increment:n.k};throw wk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wk()}(e,t.precondition)),n}function Yx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Uw.updateTime(Fx(e.updateTime)):void 0!==e.exists?Uw.exists(e.exists):Uw.none()}(t.currentDocument):Uw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xk("REQUEST_TIME"===t.setToServerValue),n=new Aw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Nw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pw(i)}else"increment"in t?n=new Dw(e,t.increment):wk();var a=Qk.fromServerFormat(t.fieldPath);return new Fw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zx(e,t.update.name),a=new Nb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Yk(t.map((function(e){return Qk.fromServerFormat(e)})))}(t.updateMask);return new $w(i,a,o,n,r)}return new Gw(i,a,n,r)}if(t.delete){var u=zx(e,t.delete);return new ex(u,n)}if(t.verify){var s=zx(e,t.verify);return new tx(s,n)}return wk()}function Xx(e,t){return{documents:[Bx(e,t.path)]}}function Jx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ib(e.value))return{unaryFilter:{field:rE(e.field),op:"IS_NAN"}};if(Eb(e.value))return{unaryFilter:{field:rE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ib(e.value))return{unaryFilter:{field:rE(e.field),op:"IS_NOT_NAN"}};if(Eb(e.value))return{unaryFilter:{field:rE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rE(e.field),op:nE(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rE(e.field),direction:tE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ub(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Zx(e){var t=qx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=eE(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new tw(iE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ub(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ew(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ew(n,t)}(n.endAt)),ow(t,i,u,o,s,"F",c,l)}function eE(e){return e?void 0!==e.unaryFilter?[oE(e)]:void 0!==e.fieldFilter?[aE(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return eE(e)})).reduce((function(e,t){return e.concat(t)})):wk():[]}function tE(e){return Rx[e]}function nE(e){return Px[e]}function rE(e){return{fieldPath:e.canonicalString()}}function iE(e){return Qk.fromServerFormat(e.fieldPath)}function aE(e){return Kb.create(iE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wk()}}(e.fieldFilter.op),e.fieldFilter.value)}function oE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=iE(e.unaryFilter.field);return Kb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=iE(e.unaryFilter.field);return Kb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=iE(e.unaryFilter.field);return Kb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=iE(e.unaryFilter.field);return Kb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wk()}}function uE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function cE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fE(t)),t=lE(e.get(n),t);return fE(t)}function lE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fE(e){return e+"\x01\x01"}function dE(e){var t=e.length;if(xk(t>=2),2===t)return xk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&wk(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:wk()}a=o+2}return new Gk(r)}var hE=["userId","batchId"];function pE(e,t){return[e,cE(t)]}function vE(e,t,n){return[e,cE(t),n]}var mE={},yE=["parentPath","readTime"],gE=["canonicalId","targetId"],kE=["targetId","path"],bE=["path","targetId"],wE=["collectionId","parent"],xE=["indexId","uid"],EE=["uid","sequenceNumber"],IE=["indexId","uid","arrayValue","directionalValue","documentKey"],SE=["indexId","uid","documentKey"],_E=["userId","collectionPath","documentId"],TE=["userId","collectionPath","largestBatchId"],CE=["userId","collectionGroup","largestBatchId"],AE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),NE=[].concat(se(AE),["documentOverlays"]),RE=[].concat(se(NE),["indexConfiguration","indexState","indexEntries"]),PE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",OE=function(){function e(){qa(this,e),this.onCommittedListeners=[]}return Ka(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),DE=function(){function e(t){var n=this;qa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ka(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&wk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ja(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ME=function(){function e(t,n){var r=this;qa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new _k,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new VE(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=qE(e.target.error);r.At.reject(new VE(t,n))}}return Ka(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(yk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jE(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new VE(n,t)}}}]),e}(),LE=function(){function e(t,n,r){qa(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(ro())&&gk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ka(e,[{key:"Nt",value:function(){var e=Ba(Ga().mark((function e(t){var n=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return yk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new VE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Sk(Ik.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Sk(Ik.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new VE(t,n))},i.onupgradeneeded=function(e){yk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){yk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ba(Ga().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ga().mark((function e(){var n,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ME.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),DE.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,yk("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return yk("SimpleDb","Removing database:",e),zE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!co())return!1;if(e.St())return!0;var t=ro(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Intern-project1.0",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME_URL:"/Intern-project1.0"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),FE=function(){function e(t){qa(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return Ka(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return zE(this.$t.delete())}}]),e}(),VE=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,Ik.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ka(n)}(Sk);function UE(e){return"IndexedDbTransactionError"===e.name}var jE=function(){function e(t){qa(this,e),this.store=t}return Ka(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(yk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zE(n)}},{key:"add",value:function(e){return yk("SimpleDb","ADD",this.store.name,e,e),zE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return yk("SimpleDb","DELETE",this.store.name,e),zE(this.store.delete(e))}},{key:"count",value:function(){return yk("SimpleDb","COUNT",this.store.name),zE(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new DE((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new DE((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){yk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new DE((function(n,r){t.onerror=function(e){var t=qE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new DE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new FE(i),o=t(i.primaryKey,i.value,a);if(o instanceof DE){var u=o.catch((function(e){return a.done(),DE.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return DE.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zE(e){return new DE((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qE(e.target.error);n(t)}}))}var BE=!1;function qE(e){var t=LE.Vt(ro());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Sk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return BE||(BE=!0,setTimeout((function(){throw r}),0)),r}}return e}var WE=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Ka(n)}(OE);function KE(e,t){var n=Ek(e);return LE.xt(n.Ht,t)}var HE=function(){function e(t,n,r,i){qa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ka(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ja(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&qw(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ja(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&qw(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Bk.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Uk(this.mutations,e.mutations,(function(e,t){return Kw(e,t)}))&&Uk(this.baseMutations,e.baseMutations,(function(e,t){return Kw(e,t)}))}}]),e}(),GE=function(){function e(t,n,r,i){qa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ka(e,null,[{key:"from",value:function(t,n,r){xk(t.mutations.length===r.length);for(var i=yx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),$E=function(){function e(t,n){qa(this,e),this.largestBatchId=t,this.mutation=n}return Ka(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),QE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xk.EMPTY_BYTE_STRING;qa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ka(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),YE=Ka((function e(t){qa(this,e),this.Jt=t}));function XE(e,t){var n;if(t.document)n=Gx(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=lb.fromSegments(t.noDocument.path),i=nI(t.noDocument.readTime);n=Pb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wk();var a=lb.fromSegments(t.unknownDocument.path),o=nI(t.unknownDocument.version);n=Pb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(eI(t.readTime)),n}function JE(e,t){var n=t.key.path.popLast().toArray(),r=ZE(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:jx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Dx(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:tI(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:tI(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:wk()}function ZE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function eI(e){var t=new zk(e[0],e[1]);return Bk.fromTimestamp(t)}function tI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function nI(e){var t=new zk(e.seconds,e.nanoseconds);return Bk.fromTimestamp(t)}function rI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yx(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yx(e.Jt,t)})),u=zk.fromMillis(t.localWriteTimeMs);return new HE(t.batchId,u,n,o)}function iI(e){var t,n,r=nI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?nI(e.lastLimboFreeSnapshotVersion):Bk.min();return void 0!==e.query.documents?(xk(1===(n=e.query).documents.length),t=pw(uw(qx(n.documents[0])))):t=function(e){return pw(Zx(e))}(e.query),new QE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xk.fromBase64String(e.resumeToken))}function aI(e,t){var n,r=tI(t.snapshotVersion),i=tI(t.lastLimboFreeSnapshotVersion);n=qb(t.target)?Xx(e.Jt,t.target):Jx(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function oI(e){var t=Zx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vw(t,t.limit,"L"):t}function uI(e,t){return new $E(t.largestBatchId,Yx(e.Jt,t.overlayMutation))}function sI(e,t){var n=t.path.lastSegment();return[e,cE(t.path.popLast()),n]}var cI=function(){function e(){qa(this,e)}return Ka(e,[{key:"getBundleMetadata",value:function(e,t){return lI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:nI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return lI(e).put({bundleId:(n=t).id,createTime:tI(Fx(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return fI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:oI(t.bundledQuery),readTime:nI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return fI(e).put(function(e){return{name:e.name,readTime:tI(Fx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function lI(e){return KE(e,"bundles")}function fI(e){return KE(e,"namedQueries")}var dI=function(){function e(t,n){qa(this,e),this.M=t,this.userId=n}return Ka(e,[{key:"getOverlay",value:function(e,t){var n=this;return hI(e).get(sI(this.userId,t)).next((function(e){return e?uI(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new $E(t,a);i.push(r.Xt(e,o))})),DE.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(cE(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(hI(e).Qt("collectionPathOverlayIndex",i))})),DE.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=mx(),a=cE(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return hI(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=ja(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=uI(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=mx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hI(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=uI(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return hI(e).put(function(e,t,n){var r=l(sI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Qx(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function hI(e){return KE(e,"documentOverlays")}var pI=function(){function e(){qa(this,e)}return Ka(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(eb(e.integerValue));else if("doubleValue"in e){var n=eb(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),sb(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(tb(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Tb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):wk()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ja(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),lb.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function vI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function mI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=vI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}pI.fe=new pI;var yI=function(){function e(){qa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ka(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ja(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ja(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=mI(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=mI(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),gI=function(){function e(t){qa(this,e),this.De=t}return Ka(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),kI=function(){function e(t){qa(this,e),this.De=t}return Ka(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),bI=function(){function e(){qa(this,e),this.De=new yI,this.Ce=new gI(this.De),this.xe=new kI(this.De)}return Ka(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),wI=function(){function e(t,n,r,i){qa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ka(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function xI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=EI(e.arrayValue,t.arrayValue))?n:0!==(n=EI(e.directionalValue,t.directionalValue))?n:lb.comparator(e.documentKey,t.documentKey)}function EI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var II=function(){function e(t){qa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ja(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ka(e,[{key:"Fe",value:function(e){var t=Db(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Mb(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ja(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),SI=function(){function e(){qa(this,e),this.Ue=new _I}return Ka(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),DE.resolve()}},{key:"getCollectionParents",value:function(e,t){return DE.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return DE.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return DE.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return DE.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return DE.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return DE.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return DE.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return DE.resolve()}},{key:"updateIndexEntries",value:function(e,t){return DE.resolve()}}]),e}(),_I=function(){function e(){qa(this,e),this.index={}}return Ka(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cx(Gk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cx(Gk.comparator)).toArray()}}]),e}(),TI=new Uint8Array(0),CI=function(){function e(t){qa(this,e),this.user=t,this.Ke=new _I,this.Ge=new ax((function(e){return zb(e)}),(function(e,t){return Bb(e,t)})),this.uid=t.uid||""}return Ka(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:cE(i)};return AI(e).put(a)}return DE.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[jk(t),""],!1,!0);return AI(e).Ut(r).next((function(e){var r,i=ja(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=RI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=RI(e),r=PI(e),i=NI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=NI(e),i=!0,a=new Map;return DE.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=kx();return DE.forEach(a,(function(i,a){var o;yk("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(zb(t)));var u=function(e,t){var n=Db(t);if(void 0===n)return null;var r,i=ja(Wb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=ja(Mb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ja(Wb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=ja(Mb(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=ja(Wb(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,h=void 0,p=!0;switch(d.op){case"<":case"<=":h="nullValue"in(r=d.value)?db:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?bb(ob.empty(),lb.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:wk();break;case"==":case"in":case">=":h=d.value;break;case">":h=d.value,p=!1;break;case"!=":case"not-in":h=db}Cb(c,h)===h&&(c=h,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Cb(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new ew(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=ja(Mb(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=ja(Wb(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,h=void 0,p=!0;switch(d.op){case">=":case">":h="nullValue"in(r=d.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?bb(ob.empty(),lb.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?fb:wk(),p=!1;break;case"==":case"in":case"<=":h=d.value;break;case"<":h=d.value,p=!1;break;case"!=":case"not-in":h=fb}Ab(c,h)===h&&(c=h,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Ab(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new ew(i,a)}(a,i),f=n.je(i,a,c),d=n.je(i,a,l),h=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,d,!!l&&l.inclusive,h);return DE.forEach(p,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new lb(dE(t.documentKey)))}))}))}))})).next((function(){return e}))}return DE.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):TI,d=n?u.Je(e,f,n[s%c],r):u.Ye(e),h=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,se(u.createRange(d,h,o.map((function(t){return u.Je(e,f,t,!0)})))))},d=0;d<s;++d)f(d);return l}},{key:"Je",value:function(e,t,n,r){var i=new wI(e,lb.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new wI(e,lb.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new wI(e,lb.empty(),TI,TI)}},{key:"getFieldIndex",value:function(e,t){var n=new II(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new bI,i=ja(Mb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);pI.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new bI;return pI.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new bI);var i,a=0,o=ja(Mb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ja(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&xb(c))r=this.en(r,s,c);else{var d=f.Ne(s.kind);pI.fe.Zt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=se(e),a=[],o=ja(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ja(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new bI;f.seed(l.Se()),pI.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Kb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=RI(e),i=PI(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return DE.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fb(t.sequenceNumber,new Vb(nI(t.readTime),new lb(dE(t.documentKey)),t.largestBatchId)):Fb.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Lb(Qk.fromServerFormat(n),r)}));return new Ob(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Vk(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=RI(e),a=PI(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return DE.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:tI(r.readTime),documentKey:cE(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return DE.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?DE.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),DE.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?DE.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return NI(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:cE(t.key.path)})}},{key:"cn",value:function(e,t,n){return NI(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,cE(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=NI(e),i=new cx(xI);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,cE(t.path)])},(function(e,r){i=i.add(new wI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new cx(xI),r=this.Ze(t,e);if(null==r)return n;var i=Db(t);if(null!=i){var a=e.data.field(i.fieldPath);if(xb(a)){var o,u=ja(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new wI(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new wI(t.indexId,e.key,TI,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;yk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=fx(a),s=fx(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=fx(o)):l?(i(u),u=fx(a)):(u=fx(a),s=fx(o))}}(n,r,xI,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),DE.waitFor(a)}},{key:"sn",value:function(e){var t=1;return PI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return xI(e,t)})).filter((function(e,t,n){return!t||0!==xI(e,n[t-1])}));var r=[];r.push(e);var i,a=ja(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=xI(o,e),s=xI(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function AI(e){return KE(e,"collectionParents")}function NI(e){return KE(e,"indexEntries")}function RI(e){return KE(e,"indexConfiguration")}function PI(e){return KE(e,"indexState")}var OI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DI=function(){function e(t,n,r){qa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ka(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function MI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){xk(1===u)})));var c,l=[],f=ja(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=vE(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return DE.waitFor(a).next((function(){return l}))}function LI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wk();t=e.noDocument}return JSON.stringify(t).length}DI.DEFAULT_COLLECTION_PERCENTILE=10,DI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,DI.DEFAULT=new DI(41943040,DI.DEFAULT_COLLECTION_PERCENTILE,DI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),DI.DISABLED=new DI(-1,0,0);var FI=function(){function e(t,n,r,i){qa(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return Ka(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return UI(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=jI(e),o=UI(e);return o.add({}).next((function(u){xk("number"==typeof u);var s,c=new HE(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Qx(e.Jt,t)})),i=n.mutations.map((function(t){return Qx(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],d=new cx((function(e,t){return Vk(e.canonicalString(),t.canonicalString())})),h=ja(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=vE(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mE))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),DE.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return UI(e).get(t).next((function(e){return e?(xk(e.userId===n.userId),rI(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?DE.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return UI(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xk(t.batchId>=r),a=rI(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return UI(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return UI(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return rI(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return jI(e).Wt({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],d=dE(c);if(s===n.userId&&t.path.isEqual(d))return UI(e).get(f).next((function(e){if(!e)throw wk();xk(e.userId===n.userId),a.push(rI(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cx(Vk),i=[];return t.forEach((function(t){var a=pE(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=jI(e).Wt({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=dE(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),DE.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pE(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new cx(Vk);return jI(e).Wt({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],d=dE(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(UI(e).get(t).next((function(e){if(null===e)throw wk();xk(e.userId===n.userId),r.push(rI(n.M,e))})))})),DE.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return MI(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),DE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return DE.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return jI(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dE(e[1]);i.push(a)}else r.done()})).next((function(){xk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return VI(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return zI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return xk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function VI(e,t,n){var r=pE(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return jI(e).Wt({range:a,jt:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function UI(e){return KE(e,"mutations")}function jI(e){return KE(e,"documentMutations")}function zI(e){return KE(e,"mutationQueues")}var BI=function(){function e(t){qa(this,e),this.wn=t}return Ka(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),qI=function(){function e(t,n){qa(this,e),this.referenceDelegate=t,this.M=n}return Ka(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new BI(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Bk.fromTimestamp(new zk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return WI(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return xk(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return WI(e).Wt((function(o,u){var s=iI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return DE.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return WI(e).Wt((function(e,n){var r=iI(n);t(r)}))}},{key:"yn",value:function(e){return KI(e).get("targetGlobalKey").next((function(e){return xk(null!==e),e}))}},{key:"pn",value:function(e,t){return KI(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return WI(e).put(aI(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=zb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return WI(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=iI(n);Bb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=HI(e);return t.forEach((function(t){var o=cE(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),DE.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=HI(e);return DE.forEach(t,(function(t){var a=cE(t.path);return DE.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=HI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=HI(e),i=kx();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=dE(e[1]),a=new lb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=cE(t.path),r=IDBKeyRange.bound([n],[jk(n)],!1,!0),i=0;return HI(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return WI(e).get(t).next((function(e){return e?iI(e):null}))}}]),e}();function WI(e){return KE(e,"targets")}function KI(e){return KE(e,"targetGlobal")}function HI(e){return KE(e,"targetDocuments")}function GI(e){return $I.apply(this,arguments)}function $I(){return $I=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ik.FAILED_PRECONDITION&&t.message===PE){e.next=2;break}throw t;case 2:yk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function QI(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Vk(r,o);return 0===s?Vk(i,u):s}var YI=function(){function e(t){qa(this,e),this.En=t,this.buffer=new cx(QI),this.An=0}return Ka(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();QI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),XI=function(){function e(t,n){qa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return Ka(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;yk("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ba(Ga().mark((function n(){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!UE(n.t0)){n.next=12;break}yk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,GI(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),JI=function(){function e(t,n){qa(this,e),this.Sn=t,this.params=n}return Ka(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return DE.resolve(Mk.A);var r=new YI(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yk("LruGarbageCollector","Garbage collection skipped; disabled"),DE.resolve(OI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),OI):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(yk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),mk()<=Mo.DEBUG&&yk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),DE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ZI=function(){function e(t,n){qa(this,e),this.db=t,this.garbageCollector=function(e,t){return new JI(e,t)}(this,n)}return Ka(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return eS(e,n)}},{key:"removeReference",value:function(e,t,n){return eS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return eS(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return zI(e).zt((function(r){return VI(e,r,t).next((function(e){return e&&(n=!0),DE.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Bk.min()),HI(e).delete([0,cE(o.path)])}))}));i.push(s)}})).next((function(){return DE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return eS(e,t)}},{key:"kn",value:function(e,t){var n,r=HI(e),i=Mk.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Mk.A&&t(new lb(dE(n)),i),i=s,n=u):i=Mk.A})).next((function(){i!==Mk.A&&t(new lb(dE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function eS(e,t){return HI(e).put(function(e,t){return{targetId:0,path:cE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var tS=function(){function e(){qa(this,e),this.changes=new ax((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ka(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Pb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?DE.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),nS=function(){function e(t){qa(this,e),this.M=t}return Ka(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return aS(e).put(oS(t),n)}},{key:"removeEntry",value:function(e,t){var n=aS(e),r=oS(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return aS(e).get(oS(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return aS(e).get(oS(t)).next((function(e){return{document:n.$n(t,e),size:LI(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=hx();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=hx(),i=new ox(lb.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,LI(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return DE.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return aS(e).Wt({range:r},(function(e,t,r){for(var o=lb.fromSegments(e);a&&lb.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=hx(),a=t.length+1,o={};if(n.isEqual(Bk.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=ZE(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return aS(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(lb.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new rS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return iS(e).get("remoteDocumentGlobalKey").next((function(e){return xk(!!e),e}))}},{key:"On",value:function(e,t){return iS(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=XE(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Bk.min()))return n}return Pb.newInvalidDocument(e)}}]),e}(),rS=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new ax((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ka(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cx((function(e,t){return Vk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=JE(t.Un.M,o);i=i.add(a.path.popLast());var c=LI(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=JE(t.Un.M,o.convertToNoDocument(Bk.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),DE.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(tS);function iS(e){return KE(e,"remoteDocumentGlobal")}function aS(e){return KE(e,"remoteDocuments")}function oS(e){return e.path.toArray()}var uS=function(){function e(t){qa(this,e),this.M=t}return Ka(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ME("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hE,{unique:!0}),e.createObjectStore("documentMutations")}(e),sS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=DE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),sS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bk.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return DE.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",yE,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:_E});t.createIndex("collectionPathOverlayIndex",TE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",CE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:xE}).createIndex("sequenceNumberIndex",EE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:IE}).createIndex("documentKeyIndex",SE,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=LI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return DE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return DE.forEach(r,(function(r){xk(r.userId===n.userId);var i=rI(t.M,r);return MI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Gk(n),o=function(e){return[0,cE(e)]}(a);r.push(t.get(o).next((function(n){return n?DE.resolve():function(n){return t.put({targetId:0,path:cE(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return DE.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:wE});var n=t.store("collectionParents"),r=new _I,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cE(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Gk(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],dE(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=iI(r),a=aI(t.M,i);return n.put(a)}))}}]),e}();function sS(e){e.createObjectStore("targetDocuments",{keyPath:kE}).createIndex("documentTargetsIndex",bE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gE,{unique:!0}),e.createObjectStore("targetGlobal")}var cS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(qa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=c,this.Yn=l,this.Xn=f,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new Sk(Ik.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ZI(this,i),this.us=n+"main",this.M=new YE(s),this.cs=new LE(this.us,this.Xn,new uS(this.M)),this.hs=new qI(this.referenceDelegate,this.M),this.ls=function(e){return new nS(e)}(this.M),this.fs=new cI,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===l&&gk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ka(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Sk(Ik.FAILED_PRECONDITION,cS);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new Mk(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=Ba(Ga().mark((function n(r){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=Ba(Ga().mark((function t(n){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return dS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(UE(t))return yk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return fS(e).get("owner").next((function(e){return DE.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return dS(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r,i,a=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=KE(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return DE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=ja(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?DE.resolve(!0):fS(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new Sk(Ik.FAILED_PRECONDITION,cS);return!1}}return!(!t.networkEnabled||!t.inForeground)||dS(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ba(Ga().mark((function e(){var t=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new WE(e,Mk.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return dS(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return FI.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new CI(e)}},{key:"getDocumentOverlayCache",value:function(e){return dI.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;yk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?RE:12===i?NE:11===i?AE:void wk();return this.cs.runTransaction(e,o,u,(function(i){return a=new WE(i,r.Zn?r.Zn.next():Mk.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw gk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new Sk(Ik.FAILED_PRECONDITION,PE);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return fS(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Sk(Ik.FAILED_PRECONDITION,cS)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fS(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=fS(e);return n.get("owner").next((function(e){return t.Rs(e)?(yk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):DE.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!ao()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return yk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(hv){gk("Failed to set zombie client id.",hv)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(hv){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return LE.vt()}}]),e}();function fS(e){return KE(e,"owner")}function dS(e){return KE(e,"clientMetadata")}function hS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pS=Ka((function e(t,n){qa(this,e),this.progress=t,this.$s=n})),vS=function(){function e(t,n,r){qa(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return Ka(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=ja(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=ja(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return lb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):dw(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new lb(t)).next((function(e){var t=vx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vx();return this.indexManager.getCollectionParents(e,i).next((function(o){return DE.forEach(o,(function(o){var u=function(e,t){return new aw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ja(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ja(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Pb.newInvalidDocument(s),r=r.insert(s,c)),qw(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){kw(t,n)||(r=r.remove(e))})),r}))}}]),e}(),mS=function(){function e(t,n,r,i){qa(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return Ka(e,null,[{key:"Js",value:function(t,n){var r,i=kx(),a=kx(),o=ja(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),yS=function(){function e(){qa(this,e)}return Ka(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Bk.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(sw(t)||cw(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(mk()<=Mo.DEBUG&&yk("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gw(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new cx(bw(e));return t.forEach((function(t,r){kw(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return mk()<=Mo.DEBUG&&yk("QueryEngine","Using full collection scan to execute query:",gw(t)),this.Xs.Gs(e,t,Bk.min())}}]),e}(),gS=function(){function e(t,n,r,i){qa(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new ox(Vk),this.ii=new ax((function(e){return zb(e)}),Bb),this.ri=Bk.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return Ka(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new vS(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function kS(e,t,n,r){return new gS(e,t,n,r)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=kx(),s=ja(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ja(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var h,p=ja(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=ja(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t){var n=Ek(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=DE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function ES(e){var t=Ek(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function IS(e,t){var n=Ek(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Xk.EMPTY_BYTE_STRING,Bk.min()).withLastLimboFreeSnapshotVersion(Bk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=hx();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(SS(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Bk.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return DE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function SS(e,t,n){var r=kx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hx();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Bk.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):yk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function _S(e,t){var n=Ek(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function TS(e,t){var n=Ek(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,DE.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new QE(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function CS(e,t,n){return AS.apply(this,arguments)}function AS(){return AS=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ek(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),UE(e.t1)){e.next=12;break}throw e.t1;case 12:yk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),AS.apply(this,arguments)}function NS(e,t,n){var r=Ek(e),i=Bk.min(),a=kx();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ek(e),i=r.ii.get(n);return void 0!==i?DE.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,pw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:Bk.min(),n?a:kx())})).next((function(e){return{documents:e,hi:a}}))}))}function RS(e,t){var n=Ek(e),r=Ek(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function PS(e){var t=Ek(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ek(e),i=hx(),a=ZE(n),o=aS(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=XE(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:eI(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function OS(e){return DS.apply(this,arguments)}function DS(){return DS=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ek(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=aS(e),n=Bk.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=eI(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function MS(e,t,n,r){return LS.apply(this,arguments)}function LS(){return LS=Ba(Ga().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ek(t),o=kx(),u=hx(),s=ja(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,TS(a,function(e){return pw(uw(Gk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return SS(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.hs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function FS(e,t){return VS.apply(this,arguments)}function VS(){return VS=Ba(Ga().mark((function e(t,n){var r,i,a,o=arguments;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:kx(),e.next=3,TS(t,pw(oI(n.bundledQuery)));case 3:return i=e.sent,a=Ek(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fx(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(Xk.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}var US=function(){function e(t){qa(this,e),this.M=t,this._i=new Map,this.wi=new Map}return Ka(e,[{key:"getBundleMetadata",value:function(e,t){return DE.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:Fx(n.createTime)}),DE.resolve()}},{key:"getNamedQuery",value:function(e,t){return DE.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:oI(e.bundledQuery),readTime:Fx(e.readTime)}}(t)),DE.resolve()}}]),e}(),jS=function(){function e(){qa(this,e),this.overlays=new ox(lb.comparator),this.mi=new Map}return Ka(e,[{key:"getOverlay",value:function(e,t){return DE.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),DE.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),DE.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=mx(),i=t.length+1,a=new lb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return DE.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ox((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=mx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=mx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return DE.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new $E(t,n));var a=this.mi.get(t);void 0===a&&(a=kx(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),zS=function(){function e(){qa(this,e),this.gi=new cx(BS.yi),this.pi=new cx(BS.Ii)}return Ka(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new BS(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new BS(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new lb(new Gk([])),r=new BS(n,e),i=new BS(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new lb(new Gk([])),n=new BS(t,e),r=new BS(t,e+1),i=kx();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new BS(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),BS=function(){function e(t,n){qa(this,e),this.key=t,this.Vi=n}return Ka(e,null,[{key:"yi",value:function(e,t){return lb.comparator(e.key,t.key)||Vk(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Vk(e.Vi,t.Vi)||lb.comparator(e.key,t.key)}}]),e}(),qS=function(){function e(t,n){qa(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new cx(BS.yi)}return Ka(e,[{key:"checkEmpty",value:function(e){return DE.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new HE(i,t,n,r);this.Fs.push(a);var o,u=ja(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new BS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return DE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return DE.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return DE.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return DE.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return DE.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new BS(t,0),i=new BS(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),DE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cx(Vk);return t.forEach((function(e){var t=new BS(e,0),i=new BS(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),DE.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;lb.isDocumentKey(i)||(i=i.child(""));var a=new BS(new lb(i),0),o=new cx(Vk);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),DE.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xk(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return DE.forEach(t.mutations,(function(i){var a=new BS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new BS(t,0),r=this.Si.firstAfterOrEqual(n);return DE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,DE.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),WS=function(){function e(t){qa(this,e),this.ki=t,this.docs=new ox(lb.comparator),this.size=0}return Ka(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return DE.resolve(n?n.document.mutableCopy():Pb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hx();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Pb.newInvalidDocument(e))})),DE.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=hx(),i=new lb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return DE.resolve(r)}},{key:"Mi",value:function(e,t){return DE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new KS(this)}},{key:"getSize",value:function(e){return DE.resolve(this.size)}}]),e}(),KS=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).Un=e,r}return Ka(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),DE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(tS),HS=function(){function e(t){qa(this,e),this.persistence=t,this.Oi=new ax((function(e){return zb(e)}),Bb),this.lastRemoteSnapshotVersion=Bk.min(),this.highestTargetId=0,this.$i=0,this.Fi=new zS,this.targetCount=0,this.Bi=BI.mn()}return Ka(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),DE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return DE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return DE.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),DE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),DE.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new BI(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,DE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),DE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,DE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),DE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return DE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return DE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),DE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),DE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),DE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return DE.resolve(n)}},{key:"containsKey",value:function(e,t){return DE.resolve(this.Fi.containsKey(t))}}]),e}(),GS=function(){function e(t,n){var r=this;qa(this,e),this.Li={},this.overlays={},this.Zn=new Mk(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new HS(this),this.indexManager=new SI,this.ls=new WS((function(e){return r.referenceDelegate.qi(e)})),this.M=new YE(n),this.fs=new US(this.M)}return Ka(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new jS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new qS(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;yk("MemoryPersistence","Starting transaction:",e);var i=new $S(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return DE.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$S=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ka(n)}(OE),QS=function(){function e(t){qa(this,e),this.persistence=t,this.Qi=new zS,this.ji=null}return Ka(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw wk()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),DE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),DE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),DE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return DE.forEach(this.zi,(function(r){var i=lb.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Bk.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return DE.or([function(){return DE.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function YS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function XS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function JS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ZS=function(){function e(t,n,r,i){qa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ka(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Sk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),e_=function(){function e(t,n,r){qa(this,e),this.targetId=t,this.state=n,this.error=r}return Ka(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Sk(i.error.code,i.error.message))),a?new e(t,i.state,r):(gk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),t_=function(){function e(t,n){qa(this,e),this.clientId=t,this.activeTargetIds=n}return Ka(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=wx(),o=0;i&&o<r.activeTargetIds.length;++o)i=cb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),n_=function(){function e(t,n){qa(this,e),this.clientId=t,this.onlineState=n}return Ka(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),r_=function(){function e(){qa(this,e),this.activeTargetIds=wx()}return Ka(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),i_=function(){function e(t,n,r,i,a){qa(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ox(Vk),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=YS(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new r_),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Ka(e,[{key:"start",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=ja(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(YS(this.persistenceKey,i)))&&(o=t_.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=ja(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(JS(this.persistenceKey,e));if(n){var r=e_.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(JS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return yk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){yk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){yk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void gk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(Ba(Ga().mark((function e(){var r,i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Mk.A;if(null!=e)try{var n=JSON.parse(e);xk("number"==typeof n),t=n}catch(e){gk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Mk.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new ZS(this.currentUser,e,t,n),i=XS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=XS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=JS(this.persistenceKey,e),i=new e_(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return t_.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ZS.Ji(new hk(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return e_.Ji(r,t)}},{key:"wr",value:function(e){return n_.Ji(e)}},{key:"vr",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:yk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=wx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),a_=function(){function e(){qa(this,e),this.Or=new r_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ka(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new r_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),o_=function(){function e(){qa(this,e)}return Ka(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),u_=function(){function e(){var t=this;qa(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return Ka(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){yk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ja(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){yk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ja(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),s_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},c_=function(){function e(t){qa(this,e),this.Qr=t.Qr,this.jr=t.jr}return Ka(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),l_=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ka(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new fk;o.listenOnce(ok.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ak.NO_ERROR:var t=o.getResponseJson();yk("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ak.TIMEOUT:yk("Connection",'RPC "'+e+'" timed out'),a(new Sk(Ik.DEADLINE_EXCEEDED,"Request time out"));break;case ak.HTTP_ERROR:var n=o.getStatus();if(yk("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ik).indexOf(t)>=0?t:Ik.UNKNOWN}(r.status);a(new Sk(u,r.message))}else a(new Sk(Ik.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Sk(Ik.UNAVAILABLE,"Connection failed."));break;default:wk()}}finally{yk("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rk(),a=ik(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ck({})),this.oo(o.initMessageHeaders,t,n),io()||uo()||ro().indexOf("Electron/")>=0||so()||ro().indexOf("MSAppHost/")>=0||oo()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");yk("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new c_({Qr:function(e){l?yk("Connection","Not sending because WebChannel is closed:",e):(c||(yk("Connection","Opening WebChannel transport."),s.open(),c=!0),yk("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,lk.EventType.OPEN,(function(){l||yk("Connection","WebChannel transport opened.")})),d(s,lk.EventType.CLOSE,(function(){l||(l=!0,yk("Connection","WebChannel transport closed"),f.Zr())})),d(s,lk.EventType.ERROR,(function(e){l||(l=!0,kk("Connection","WebChannel transport errored:",e),f.Zr(new Sk(Ik.UNAVAILABLE,"The operation could not be completed")))})),d(s,lk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];xk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jw[e];if(void 0!==t)return ix(t)}(a),u=i.message;void 0===o&&(o=Ik.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new Sk(o,u)),s.close()}else yk("Connection","WebChannel received:",n),f.eo(n)}})),d(a,uk.STAT_EVENT,(function(e){e.stat===sk.PROXY?yk("Connection","Detected buffering proxy"):e.stat===sk.NOPROXY&&yk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){qa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ka(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);yk("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return yk("RestConnection","Received: ",e),e}),(function(t){throw kk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=s_[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function f_(){return"undefined"!=typeof window?window:null}function d_(){return"undefined"!=typeof document?document:null}function h_(e){return new Ox(e,!0)}var p_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;qa(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return Ka(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&yk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),v_=function(){function e(t,n,r,i,a,o,u,s){qa(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new p_(t,n)}return Ka(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===Ik.RESOURCE_EXHAUSTED?(gk(n.toString()),gk("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===Ik.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new Sk(Ik.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return yk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():(yk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),m_=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a,o,u){var s;return qa(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Ka(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(xk(void 0===t||"string"==typeof t),Xk.fromBase64String(t||"")):(xk(void 0===t||t instanceof Uint8Array),Xk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ik.UNKNOWN:ix(e.code);return new Sk(t,e.message||"")}(o);n=new _x(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zx(e,s.document.name),l=Fx(s.document.updateTime),f=new Nb({mapValue:{fields:s.document.fields}}),d=Pb.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Ix(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=zx(e,v.document),y=v.readTime?Fx(v.readTime):Bk.min(),g=Pb.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ix([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=zx(e,b.document),x=b.removedTargetIds||[];n=new Ix([],x,w,null)}else{if(!("filter"in t))return wk();t.filter;var E=t.filter;E.targetId;var I=E.count||0,S=new nx(I),_=E.targetId;n=new Sx(_,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Bk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Bk.min():t.readTime?Fx(t.readTime):Bk.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=Wx(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=qb(r)?{documents:Xx(e,r)}:{query:Jx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Mx(e,t.resumeToken):t.snapshotVersion.compareTo(Bk.min())>0&&(n.readTime=Dx(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=Wx(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(v_),y_=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a,o,u){var s;return qa(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.jo=!1,s}return Ka(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,Da(Pa(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(xk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(xk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fx(e.updateTime):Fx(t);return n.isEqual(Bk.min())&&(n=Fx(t)),new Vw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fx(e.commitTime);return this.listener.Ho(n,t)}return xk(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=Wx(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qx(t.M,e)}))};this.Mo(n)}}]),n}(v_),g_=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a){var o;return qa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return Ka(n,[{key:"Zo",value:function(){if(this.Xo)throw new Sk(Ik.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.Ro.io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ik.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Sk(Ik.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.Ro.uo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ik.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Sk(Ik.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return Ka((function e(){qa(this,e)}))}()),k_=function(){function e(t,n){qa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return Ka(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(gk(t),this.na=!1):yk("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),b_=Ka((function e(t,n,r,i,a){var o=this;qa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=R_(o),!e.t0){e.next=5;break}return yk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ek(t)).ha.add(4),e.next=4,E_(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,w_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new k_(r,i)}));function w_(e){return x_.apply(this,arguments)}function x_(){return x_=Ba(Ga().mark((function e(t){var n,r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R_(t)){e.next=18;break}n=ja(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),x_.apply(this,arguments)}function E_(e){return I_.apply(this,arguments)}function I_(){return I_=Ba(Ga().mark((function e(t){var n,r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ja(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),I_.apply(this,arguments)}function S_(e,t){var n=Ek(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),N_(n)?A_(n):oT(n).Do()&&T_(n,t))}function __(e,t){var n=Ek(e),r=oT(n);n.ca.delete(t),r.Do()&&C_(n,t),0===n.ca.size&&(r.Do()?r.No():R_(n)&&n.da.set("Unknown"))}function T_(e,t){e._a.Z(t.targetId),oT(e).Go(t)}function C_(e,t){e._a.Z(t),oT(e).Qo(t)}function A_(e){e._a=new Cx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),oT(e).start(),e.da.sa()}function N_(e){return R_(e)&&!oT(e).So()&&e.ca.size>0}function R_(e){return 0===Ek(e).ha.size}function P_(e){e._a=void 0}function O_(e){return D_.apply(this,arguments)}function D_(){return D_=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){T_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function M_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P_(t),N_(t)?(t.da.oa(n),A_(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e,t,n){return V_.apply(this,arguments)}function V_(){return V_=Ba(Ga().mark((function e(t,n,r){var i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof _x&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ja(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),yk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,U_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ix?t._a.at(n):n instanceof Sx?t._a._t(n):t._a.ht(n),r.isEqual(Bk.min())){e.next=29;break}return e.prev=14,e.next=17,ES(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(Xk.EMPTY_BYTE_STRING,n.snapshotVersion)),C_(e,t);var r=new QE(n.target,t,1,n.sequenceNumber);T_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),yk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,U_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),V_.apply(this,arguments)}function U_(e,t,n){return j_.apply(this,arguments)}function j_(){return j_=Ba(Ga().mark((function e(t,n,r){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UE(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,E_(t);case 5:t.da.set("Offline"),r||(r=function(){return ES(t.localStore)}),t.asyncQueue.enqueueRetryable(Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,w_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function z_(e,t){return t().catch((function(n){return U_(e,n,t)}))}function B_(e){return q_.apply(this,arguments)}function q_(){return q_=Ba(Ga().mark((function e(t){var n,r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ek(t),r=uT(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!W_(n)){e.next=19;break}return e.prev=3,e.next=6,_S(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,K_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,U_(n,e.t0);case 17:e.next=2;break;case 19:H_(n)&&G_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),q_.apply(this,arguments)}function W_(e){return R_(e)&&e.ua.length<10}function K_(e,t){e.ua.push(t);var n=uT(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function H_(e){return R_(e)&&!uT(e).So()&&e.ua.length>0}function G_(e){uT(e).start()}function $_(e){return Q_.apply(this,arguments)}function Q_(){return Q_=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uT(t).Yo();case 1:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function Y_(e){return X_.apply(this,arguments)}function X_(){return X_=Ba(Ga().mark((function e(t){var n,r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uT(t),r=ja(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function J_(e,t,n){return Z_.apply(this,arguments)}function Z_(){return Z_=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=GE.from(i,n,r),e.next=3,z_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,B_(t);case 5:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Ba(Ga().mark((function e(t,n){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&uT(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rx(i=n.code)||i===Ik.ABORTED){e.next=7;break}return r=t.ua.shift(),uT(t).xo(),e.next=5,z_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,B_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:H_(t)&&G_(t);case 5:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ek(t)).asyncQueue.verifyOperationInProgress(),yk("RemoteStore","RemoteStore received new credentials"),i=R_(r),r.ha.add(3),e.next=6,E_(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,w_(r);case 12:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=Ba(Ga().mark((function e(t,n){var r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ek(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,w_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,E_(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e){return e.wa||(e.wa=function(e,t,n){var r=Ek(e);return r.Zo(),new m_(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:O_.bind(null,e),Hr:M_.bind(null,e),Ko:F_.bind(null,e)}),e.la.push(function(){var t=Ba(Ga().mark((function t(n){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),N_(e)?A_(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:P_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function uT(e){return e.ma||(e.ma=function(e,t,n){var r=Ek(e);return r.Zo(),new y_(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:$_.bind(null,e),Hr:eT.bind(null,e),Jo:Y_.bind(null,e),Ho:J_.bind(null,e)}),e.la.push(function(){var t=Ba(Ga().mark((function t(n){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,B_(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&(yk("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var sT=function(){function e(t,n,r,i,a){qa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _k,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ka(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sk(Ik.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function cT(e,t){if(gk("AsyncQueue","".concat(t,": ").concat(e)),UE(e))return new Sk(Ik.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var lT=function(){function e(t){qa(this,e),this.comparator=t?function(e,n){return t(e,n)||lb.comparator(e.key,n.key)}:function(e,t){return lb.comparator(e.key,t.key)},this.keyedMap=vx(),this.sortedSet=new ox(this.comparator)}return Ka(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),fT=function(){function e(){qa(this,e),this.ga=new ox(lb.comparator)}return Ka(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):wk():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),dT=function(){function e(t,n,r,i,a,o,u,s){qa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ka(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,lT.emptySet(n),a,r,i,!0,!1)}}]),e}(),hT=Ka((function e(){qa(this,e),this.pa=void 0,this.listeners=[]})),pT=Ka((function e(){qa(this,e),this.queries=new ax((function(e){return yw(e)}),mw),this.onlineState="Unknown",this.Ia=new Set}));function vT(e,t){return mT.apply(this,arguments)}function mT(){return mT=Ba(Ga().mark((function e(t,n){var r,i,a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ek(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new hT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=cT(e.t0,"Initialization of query '".concat(gw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&wT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),mT.apply(this,arguments)}function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=Ba(Ga().mark((function e(t,n){var r,i,a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ek(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(e,t){var n,r=Ek(e),i=!1,a=ja(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ja(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&wT(r)}function bT(e,t,n){var r=Ek(e),i=r.queries.get(t);if(i){var a,o=ja(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function wT(e){e.Ia.forEach((function(e){e.next()}))}var xT=function(){function e(t,n,r){qa(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return Ka(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ja(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new dT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=dT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),ET=function(){function e(t,n){qa(this,e),this.payload=t,this.byteLength=n}return Ka(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),IT=function(){function e(t){qa(this,e),this.M=t}return Ka(e,[{key:"li",value:function(e){return zx(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Gx(this.M,e.document,!1):Pb.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return Fx(e)}}]),e}(),ST=function(){function e(t,n,r){qa(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=_T(t)}return Ka(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new IT(this.M),i=ja(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=ja(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||kx()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS(this.localStore,new IT(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=ja(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,FS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new pS(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function _T(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var TT=Ka((function e(t){qa(this,e),this.key=t})),CT=Ka((function e(t){qa(this,e),this.key=t})),AT=function(){function e(t,n){qa(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=kx(),this.mutatedKeys=kx(),this.$a=bw(t),this.Fa=new lT(this.$a)}return Ka(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new fT,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=sw(this.query)&&i.size===this.query.limit?i.last():null,c=cw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kw(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sw(this.query)||cw(this.query))for(;o.size>this.query.limit;){var l=sw(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wk()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new dT(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new fT,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=kx(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new CT(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new TT(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=kx();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return dT.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),NT=Ka((function e(t,n,r){qa(this,e),this.query=t,this.targetId=n,this.view=r})),RT=Ka((function e(t){qa(this,e),this.key=t,this.Ha=!1})),PT=function(){function e(t,n,r,i,a,o){qa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new ax((function(e){return yw(e)}),mw),this.Xa=new Map,this.Za=new Set,this.tu=new ox(lb.comparator),this.eu=new Map,this.nu=new zS,this.su={},this.iu=new Map,this.ru=BI.gn(),this.onlineState="Unknown",this.ou=void 0}return Ka(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function OT(e,t){return DT.apply(this,arguments)}function DT(){return DT=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_C(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,TS(r.localStore,pw(n));case 8:return u=e.sent,r.isPrimaryClient&&S_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,MT(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function MT(e,t,n,r){return LT.apply(this,arguments)}function LT(){return LT=Ba(Ga().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=Ba(Ga().mark((function e(t,n,r,i){var a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,NS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nC(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,NS(t.localStore,n,!0);case 3:return a=e.sent,o=new AT(n,a.hi),u=o.La(a.documents),s=Ex.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),nC(t,r,c.Qa),l=new NT(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function FT(e,t){return VT.apply(this,arguments)}function VT(){return VT=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ek(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!mw(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,CS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),__(r.remoteStore,i.targetId),eC(r,i.targetId)})).catch(GI);case 9:e.next=14;break;case 11:return eC(r,i.targetId),e.next=14,CS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function UT(e,t,n){return jT.apply(this,arguments)}function jT(){return jT=Ba(Ga().mark((function e(t,n,r){var i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TC(t),e.prev=1,e.next=4,function(e,t){var n,r=Ek(e),i=zk.now(),a=t.reduce((function(e,t){return e.add(t.key)}),kx());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=ja(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ww(c,n.get(c.key));null!=l&&u.push(new $w(c.key,l,Rb(l.value.mapValue),Uw.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new ox(Vk)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aC(i,a.changes);case 9:return e.next=11,B_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=cT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),jT.apply(this,arguments)}function zT(e,t){return BT.apply(this,arguments)}function BT(){return BT=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),e.prev=1,e.next=4,IS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(xk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?xk(n.Ha):e.removedDocuments.size>0&&(xk(n.Ha),n.Ha=!1))})),e.next=8,aC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,GI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),BT.apply(this,arguments)}function qT(e,t,n){var r=Ek(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ek(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ja(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&wT(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function WT(e,t,n){return KT.apply(this,arguments)}function KT(){return KT=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s,c;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ek(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ox(lb.comparator)).insert(o,Pb.newNoDocument(o,Bk.min())),s=kx().add(o),c=new xx(Bk.min(),new Map,new cx(Vk),u,s),e.next=9,zT(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),iC(i),e.next=16;break;case 14:return e.next=16,CS(i.localStore,n,!1).then((function(){return eC(i,n,r)})).catch(GI);case 16:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function HT(e,t){return GT.apply(this,arguments)}function GT(){return GT=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),i=n.batch.batchId,e.prev=1,e.next=4,xS(r.localStore,n);case 4:return a=e.sent,ZT(r,i,null),JT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,GI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),GT.apply(this,arguments)}function $T(e,t,n){return QT.apply(this,arguments)}function QT(){return QT=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ek(t),e.prev=1,e.next=4,function(e,t){var n=Ek(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return xk(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ZT(i,n,r),JT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,GI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),QT.apply(this,arguments)}function YT(e,t){return XT.apply(this,arguments)}function XT(){return XT=Ba(Ga().mark((function e(t,n){var r,i,a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R_((r=Ek(t)).remoteStore)||yk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ek(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=cT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),XT.apply(this,arguments)}function JT(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function ZT(e,t,n){var r=Ek(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function eC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ja(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||tC(e,t)}))}function tC(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(__(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),iC(e))}function nC(e,t,n){var r,i=ja(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof TT?(e.nu.addReference(a.key,t),rC(e,a)):a instanceof CT?(yk("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||tC(e,a.key)):wk()}}catch(o){i.e(o)}finally{i.f()}}function rC(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(yk("SyncEngine","New document in limbo: "+n),e.Za.add(r),iC(e))}function iC(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new lb(Gk.fromString(t)),r=e.ru.next();e.eu.set(r,new RT(n)),e.tu=e.tu.insert(n,r),S_(e.remoteStore,new QE(pw(uw(n.path)),r,2,Mk.A))}}function aC(e,t,n){return oC.apply(this,arguments)}function oC(){return oC=Ba(Ga().mark((function e(t,n,r){var i,a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ek(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=mS.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return DE.forEach(n,(function(t){return DE.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return DE.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),UE(e.t0)){e.next=10;break}throw e.t0;case 10:yk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ja(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(e,t){return sC.apply(this,arguments)}function sC(){return sC=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ek(t)).currentUser.isEqual(n)){e.next=11;break}return yk("SyncEngine","User change. New user:",n.toKey()),e.next=5,bS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new Sk(Ik.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aC(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){var n=Ek(e),r=n.eu.get(t);if(r&&r.Ha)return kx().add(r.key);var i=kx(),a=n.Xa.get(t);if(!a)return i;var o,u=ja(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function lC(e,t){return fC.apply(this,arguments)}function fC(){return fC=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),e.next=3,NS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&nC(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function dC(e){return hC.apply(this,arguments)}function hC(){return hC=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ek(t),e.abrupt("return",PS(n.localStore).then((function(e){return aC(n,e)})));case 2:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function pC(e,t,n,r){return vC.apply(this,arguments)}function vC(){return vC=Ba(Ga().mark((function e(t,n,r,i){var a,o;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ek(t),e.next=3,function(e,t){var n=Ek(e),r=Ek(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):DE.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,B_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ZT(a,n,i||null),JT(a,n),function(e,t){Ek(Ek(e).Fs).dn(t)}(a.localStore,n)):wk();case 11:return e.next=13,aC(a,o);case 13:e.next=16;break;case 15:yk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t){return yC.apply(this,arguments)}function yC(){return yC=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_C(r=Ek(t)),TC(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gC(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,iT(r.remoteStore,!0);case 9:o=ja(a);try{for(o.s();!(u=o.n()).done;)s=u.value,S_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eC(r,t),CS(r.localStore,t,!0)})),__(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gC(r,c);case 21:return function(e){var t=Ek(e);t.eu.forEach((function(e,n){__(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new ox(lb.comparator)}(r),r.ou=!1,e.next=25,iT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function gC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ek(t),a=[],o=[],u=ja(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,TS(i.localStore,pw(f[0]));case 11:l=e.sent,d=ja(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.Ya.get(p),e.next=20,lC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,RS(i.localStore,c);case 36:return y=e.sent,e.next=39,TS(i.localStore,y);case 39:return l=e.sent,e.next=42,MT(i,bC(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kC.apply(this,arguments)}function bC(e){return ow(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wC(e){var t=Ek(e);return Ek(Ek(t.localStore).persistence).Ms()}function xC(e,t,n,r){return EC.apply(this,arguments)}function EC(){return EC=Ba(Ga().mark((function e(t,n,r,i){var a,o,u;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ek(t)).ou){e.next=5;break}yk("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,PS(a.localStore);case 11:return o=e.sent,u=xx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,aC(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,CS(a.localStore,n,!0);case 18:return eC(a,n,i),e.abrupt("break",21);case 20:wk();case 21:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function IC(e,t,n){return SC.apply(this,arguments)}function SC(){return SC=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=_C(t)).ou){e.next=45;break}a=ja(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return yk("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,RS(i.localStore,u);case 12:return s=e.sent,e.next=15,TS(i.localStore,s);case 15:return c=e.sent,e.next=18,MT(i,bC(s),c.targetId,!1);case 18:S_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ja(r),e.prev=30,d=Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,CS(i.localStore,t,!1).then((function(){__(i.remoteStore,t),eC(i,t)})).catch(GI);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),SC.apply(this,arguments)}function _C(e){var t=Ek(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WT.bind(null,t),t.Ja.Ko=kT.bind(null,t.eventManager),t.Ja.uu=bT.bind(null,t.eventManager),t}function TC(e){var t=Ek(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$T.bind(null,t),t}function CC(e,t,n){var r=Ek(e);(function(){var e=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ek(e),r=Fx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(_T(i)),a=new ST(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,aC(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=Ek(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),kk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var AC=function(){function e(){qa(this,e),this.synchronizeTabs=!1}return Ka(e,[{key:"initialize",value:function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=h_(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return kS(this.persistence,new yS,e.initialUser,this.M)}},{key:"lu",value:function(e){return new GS(QS.Wi,this.M)}},{key:"hu",value:function(e){return new a_}},{key:"terminate",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NC=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ka(n,[{key:"initialize",value:function(){var e=Ba(Ga().mark((function e(t){var r=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(Pa(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,OS(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,TC(this._u.syncEngine);case 8:return e.next=10,B_(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return kS(this.persistence,new yS,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new XI(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=hS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?DI.withCacheSize(this.cacheSizeBytes):DI.DEFAULT;return new lS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,f_(),d_(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new a_}}]),n}(AC),RC=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ka(n,[{key:"initialize",value:function(){var e=Ba(Ga().mark((function e(t){var r,i=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(Pa(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof i_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:pC.bind(null,r),kr:xC.bind(null,r),Mr:IC.bind(null,r),Ms:wC.bind(null,r),Cr:dC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mC(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=f_();if(!i_.vt(t))throw new Sk(Ik.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new i_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(NC),PC=function(){function e(){qa(this,e)}return Ka(e,[{key:"initialize",value:function(){var e=Ba(Ga().mark((function e(t,n){var r=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),e.next=12,iT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new pT}},{key:"createDatastore",value:function(e){var t,n=h_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new l_(t));return function(e,t,n,r){return new g_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qT(o.syncEngine,e,0)},a=u_.vt()?new u_:new o_,new b_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new PT(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ek(t),yk("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,E_(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function OC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ba(Ga().mark((function r(){var i;return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var DC=function(){function e(t){qa(this,e),this.observer=t,this.muted=!1}return Ka(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),MC=function(){function e(t,n){var r=this;qa(this,e),this.gu=t,this.M=n,this.metadata=new _k,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ka(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=Ba(Ga().mark((function e(){var t,n,r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new ET(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=Ba(Ga().mark((function e(){var t,n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=Ba(Ga().mark((function e(){var t,n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),LC=function(){function e(t){qa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ka(e,[{key:"lookup",value:function(){var e=Ba(Ga().mark((function e(t){var n,r=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Sk(Ik.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),i=Wx(r.M)+"/documents",a={documents:n.map((function(e){return jx(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=$x(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());xk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ex(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ba(Ga().mark((function e(){var t,n=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=lb.fromPath(t);n.mutations.push(new tx(r,n.precondition(r)))})),e.next=7,function(){var e=Ba(Ga().mark((function e(t,n){var r,i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ek(t),i=Wx(r.M)+"/documents",a={writes:n.map((function(e){return Qx(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wk();t=Bk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Sk(Ik.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Uw.updateTime(t):Uw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bk.min()))throw new Sk(Ik.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uw.updateTime(t)}return Uw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),FC=function(){function e(t,n,r,i){qa(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new p_(this.asyncQueue,"transaction_retry")}return Ka(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(Ba(Ga().mark((function t(){var n,r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new LC(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!ub(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!rx(t)}return!1}}]),e}(),VC=function(){function e(t,n,r,i){var a=this;qa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hk.UNAUTHENTICATED,this.clientId=Fk.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return yk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ka(e,[{key:"getConfiguration",value:function(){var e=Ba(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Sk(Ik.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _k;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ba(Ga().mark((function n(){var r;return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=cT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function UC(e,t){return jC.apply(this,arguments)}function jC(){return jC=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),yk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,bS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function zC(e,t){return BC.apply(this,arguments)}function BC(){return BC=Ba(Ga().mark((function e(t,n){var r,i;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qC(t);case 3:return r=e.sent,yk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return nT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return nT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),BC.apply(this,arguments)}function qC(e){return WC.apply(this,arguments)}function WC(){return WC=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return yk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,UC(t,new AC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function KC(e){return HC.apply(this,arguments)}function HC(){return HC=Ba(Ga().mark((function e(t){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return yk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,zC(t,new PC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function GC(e){return qC(e).then((function(e){return e.persistence}))}function $C(e){return qC(e).then((function(e){return e.localStore}))}function QC(e){return KC(e).then((function(e){return e.remoteStore}))}function YC(e){return KC(e).then((function(e){return e.syncEngine}))}function XC(e){return JC.apply(this,arguments)}function JC(){return JC=Ba(Ga().mark((function e(t){var n,r;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=OT.bind(null,n.syncEngine),r.onUnlisten=FT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function ZC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function i(){return Ga().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new DC({next:function(a){t.enqueueAndForget((function(){return yT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Sk(Ik.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Sk(Ik.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new xT(uw(n.path),a,{includeMetadataChanges:!0,Sa:!0});return vT(e,o)},i.next=3,XC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function i(){return Ga().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new DC({next:function(n){t.enqueueAndForget((function(){return yT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Sk(Ik.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new xT(n,a,{includeMetadataChanges:!0,Sa:!0});return vT(e,o)},i.next=3,XC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tA=new Map;function nA(e,t,n){if(!n)throw new Sk(Ik.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rA(e,t,n,r){if(!0===t&&!0===r)throw new Sk(Ik.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iA(e){if(!lb.isDocumentKey(e))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aA(e){if(lb.isDocumentKey(e))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":wk()}function uA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sk(Ik.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oA(e);throw new Sk(Ik.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function sA(e,t){if(t<=0)throw new Sk(Ik.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cA=function(){function e(t){var n;if(qa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Sk(Ik.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sk(Ik.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ka(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lA=function(){function e(t,n,r){qa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cA({}),this._settingsFrozen=!1,t instanceof ob?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sk(Ik.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ob(e.options.projectId)}(t))}return Ka(e,[{key:"app",get:function(){if(!this._app)throw new Sk(Ik.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Sk(Ik.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ck;switch(e.type){case"gapi":var t=e.client;return xk(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Pk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Sk(Ik.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tA.get(e);t&&(yk("ComponentProvider","Removing Datastore"),tA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=uA(e,lA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&kk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=hk.MOCK_USER;else{o=no(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Sk(Ik.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new hk(s)}e._authCredentials=new Ak(new Tk(o,u))}}var dA=function(){function e(t,n,r){qa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ka(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hA=function(){function e(t,n,r){qa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ka(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pA=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this,e,r,uw(i)))._path=i,a.type="collection",a}return Ka(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dA(this.firestore,null,new lb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hA);function vA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Io(e),nA("collection","path",t),e instanceof lA){var a=Gk.fromString.apply(Gk,[t].concat(r));return aA(a),new pA(e,null,a)}if(!(e instanceof dA||e instanceof pA))throw new Sk(Ik.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gk.fromString.apply(Gk,[t].concat(r)));return aA(o),new pA(e.firestore,null,o)}function mA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Io(e),1===arguments.length&&(t=Fk.R()),nA("doc","path",t),e instanceof lA){var a=Gk.fromString.apply(Gk,[t].concat(r));return iA(a),new dA(e,null,new lb(a))}if(!(e instanceof dA||e instanceof pA))throw new Sk(Ik.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gk.fromString.apply(Gk,[t].concat(r)));return iA(o),new dA(e.firestore,e instanceof pA?e.converter:null,new lb(o))}function yA(e,t){return e=Io(e),t=Io(t),(e instanceof dA||e instanceof pA)&&(t instanceof dA||t instanceof pA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gA(e,t){return e=Io(e),t=Io(t),e instanceof hA&&t instanceof hA&&e.firestore===t.firestore&&mw(e._query,t._query)&&e.converter===t.converter}var kA=function(){function e(){var t=this;qa(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new p_(this,"async_queue_retry"),this.Fu=function(){var e=d_();e&&yk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=d_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return Ka(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=d_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new _k;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=Ba(Ga().mark((function e(){var t=this;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),UE(e.t0)){e.next=12;break}throw e.t0;case 12:yk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=sT.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&wk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=Ba(Ga().mark((function e(){var t;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=ja(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ja(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function bA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ja(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var wA=function(){function e(){qa(this,e),this._progressObserver={},this._taskCompletionResolver=new _k,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ka(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xA=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new kA,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ka(n,[{key:"_terminate",value:function(){return this._firestoreClient||IA(this),this._firestoreClient.terminate()}}]),n}(lA);function EA(e){return e._firestoreClient||IA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function IA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ab(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new VC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function SA(e,t,n){var r=new _k;return e.asyncQueue.enqueue(Ba(Ga().mark((function i(){return Ga().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,UC(e,n);case 3:return i.next=5,zC(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ik.FAILED_PRECONDITION||e.code===Ik.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function _A(e){return function(e){return e.asyncQueue.enqueue(Ba(Ga().mark((function t(){var n,r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GC(e);case 2:return n=t.sent,t.next=5,QC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ek(e);return t.ha.delete(0),w_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(EA(e=uA(e,xA)))}function TA(e){return function(e){return e.asyncQueue.enqueue(Ba(Ga().mark((function t(){var n,r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GC(e);case 2:return n=t.sent,t.next=5,QC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ek(t)).ha.add(0),e.next=4,E_(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(EA(e=uA(e,xA)))}function CA(e,t){var n=EA(e=uA(e,xA)),r=new wA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new MC(e,t)}(function(e,t){if(e instanceof Uint8Array)return OC(e,t);if(e instanceof ArrayBuffer)return OC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,h_(t));e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CC,t.next=3,YC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function AA(e,t){return function(e,t){return e.asyncQueue.enqueue(Ba(Ga().mark((function n(){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ek(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,$C(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(EA(e=uA(e,xA)),t).then((function(t){return t?new hA(e,null,t.query):null}))}function NA(e){if(e._initialized||e._terminated)throw new Sk(Ik.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var RA=function(){function e(){qa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qk(n)}return Ka(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var PA=function(){function e(t){qa(this,e),this._byteString=t}return Ka(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Xk.fromBase64String(t))}catch(t){throw new Sk(Ik.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Xk.fromUint8Array(t))}}]),e}(),OA=Ka((function e(t){qa(this,e),this._methodName=t})),DA=function(){function e(t,n){if(qa(this,e),!isFinite(t)||t<-90||t>90)throw new Sk(Ik.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Sk(Ik.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ka(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Vk(this._lat,e._lat)||Vk(this._long,e._long)}}]),e}(),MA=/^__.*__$/,LA=function(){function e(t,n,r){qa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ka(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $w(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gw(e,this.data,t,this.fieldTransforms)}}]),e}(),FA=function(){function e(t,n,r){qa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ka(e,[{key:"toMutation",value:function(e,t){return new $w(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function VA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wk()}}var UA=function(){function e(t,n,r,i,a,o){qa(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ka(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return aN(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(VA(this.zu)&&MA.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),jA=function(){function e(t,n,r){qa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||h_(t)}return Ka(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new UA({zu:e,methodName:t,sc:n,path:Qk.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function zA(e){var t=e._freezeSettings(),n=h_(e._databaseId);return new jA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function BA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);tN("Data must be an object, but it was:",o,r);var u,s,c=ZA(r,o);if(a.merge)u=new Yk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=ja(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=nN(t,h,n);if(!o.contains(p))throw new Sk(Ik.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));oN(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new Yk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new LA(new Nb(c),u,s)}var qA=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OA);function WA(e,t,n){return new UA({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var KA=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"_toFieldTransform",value:function(e){return new Fw(e.path,new Aw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OA),HA=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e)).rc=r,i}return Ka(n,[{key:"_toFieldTransform",value:function(e){var t=WA(this,e,!0),n=this.rc.map((function(e){return JA(e,t)})),r=new Nw(n);return new Fw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OA),GA=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e)).rc=r,i}return Ka(n,[{key:"_toFieldTransform",value:function(e){var t=WA(this,e,!0),n=this.rc.map((function(e){return JA(e,t)})),r=new Pw(n);return new Fw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OA),$A=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e)).oc=r,i}return Ka(n,[{key:"_toFieldTransform",value:function(e){var t=new Dw(e.M,Iw(e.M,this.oc));return new Fw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OA);function QA(e,t,n,r){var i=e.ic(1,t,n);tN("Data must be an object, but it was:",i,r);var a=[],o=Nb.empty();Wk(r,(function(e,r){var u=iN(t,e,n);r=Io(r);var s=i.Zu(u);if(r instanceof qA)a.push(u);else{var c=JA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Yk(a);return new FA(o,u,i.fieldTransforms)}function YA(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[nN(t,r,n)],s=[i];if(a.length%2!=0)throw new Sk(Ik.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(nN(t,a[c])),s.push(a[c+1]);for(var l=[],f=Nb.empty(),d=u.length-1;d>=0;--d)if(!oN(l,u[d])){var h=u[d],p=s[d];p=Io(p);var v=o.Zu(h);if(p instanceof qA)l.push(h);else{var m=JA(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Yk(l);return new FA(f,y,o.fieldTransforms)}function XA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return JA(n,e.ic(r?4:3,t))}function JA(e,t){if(eN(e=Io(e)))return tN("Unsupported field value:",t,e),ZA(e,t);if(e instanceof OA)return function(e,t){if(!VA(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ja(e);try{for(a.s();!(n=a.n()).done;){var o=JA(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Io(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Iw(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zk.fromDate(e);return{timestampValue:Dx(t.M,n)}}if(e instanceof zk){var r=new zk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Dx(t.M,r)}}if(e instanceof DA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof PA)return{bytesValue:Mx(t.M,e._byteString)};if(e instanceof dA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(oA(e)))}(e,t)}function ZA(e,t){var n={};return Kk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wk(e,(function(e,r){var i=JA(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zk||e instanceof DA||e instanceof PA||e instanceof dA||e instanceof OA)}function tN(e,t,n){if(!eN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=oA(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function nN(e,t,n){if((t=Io(t))instanceof RA)return t._internalPath;if("string"==typeof t)return iN(e,t);throw aN("Field path arguments must be of type string or ",e,!1,void 0,n)}var rN=new RegExp("[~\\*/\\[\\]]");function iN(e,t,n){if(t.search(rN)>=0)throw aN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return $a(RA,se(t.split(".")))._internalPath}catch(r){throw aN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function aN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Sk(Ik.INVALID_ARGUMENT,u+e+s)}function oN(e,t){return e.some((function(e){return e.isEqual(t)}))}var uN=function(){function e(t,n,r,i,a){qa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ka(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sN=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"data",value:function(){return Da(Pa(n.prototype),"data",this).call(this)}}]),n}(uN);function cN(e,t){return"string"==typeof t?iN(e,t):t instanceof RA?t._internalPath:t._delegate._internalPath}var lN=function(){function e(t,n){qa(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ka(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),fN=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i,a,o,u){var s;return qa(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ka(n,[{key:"exists",value:function(){return Da(Pa(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(uN),dN=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Da(Pa(n.prototype),"data",this).call(this,e)}}]),n}(fN),hN=function(){function e(t,n,r,i){qa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lN(i.hasPendingWrites,i.fromCache),this.query=r}return Ka(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dN(n._firestore,n._userDataWriter,r.key,r,new lN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sk(Ik.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new dN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:pN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function pN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wk()}}function vN(e,t){return e instanceof fN&&t instanceof fN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hN&&t instanceof hN&&e._firestore===t._firestore&&gA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function mN(e){if(cw(e)&&0===e.explicitOrderBy.length)throw new Sk(Ik.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yN=Ka((function e(){qa(this,e)}));function gN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var kN=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return Ka(n,[{key:"_apply",value:function(e){var t=zA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NN(o,a);var s,c=[],l=ja(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(AN(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=AN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NN(o,a),u=XA(n,"where",o,"in"===a||"not-in"===a);var d=Kb.create(i,a,u);return function(e,t){if(t.S()){var n=fw(e);if(null!==n&&!n.isEqual(t.field))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=lw(e);null!==r&&RN(e,t.field,r)}var i=function(e,t){var n,r=ja(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Sk(Ik.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Sk(Ik.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new hA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(yN);var bN=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return Ka(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new tw(t,n);return function(e,t){if(null===lw(e)){var n=fw(e);null!==n&&RN(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new hA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new aw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(yN);var wN=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return Ka(n,[{key:"_apply",value:function(e){return new hA(e.firestore,e.converter,vw(e._query,this.lc,this.fc))}}]),n}(yN);var xN=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return Ka(n,[{key:"_apply",value:function(e){var t=CN(e,this.type,this.dc,this._c);return new hA(e.firestore,e.converter,function(e,t){return new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(yN);function EN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xN("startAt",t,!0)}function IN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xN("startAfter",t,!1)}var SN=function(e){Ma(n,e);var t=Ua(n);function n(e,r,i){var a;return qa(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return Ka(n,[{key:"_apply",value:function(e){var t=CN(e,this.type,this.dc,this._c);return new hA(e.firestore,e.converter,function(e,t){return new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(yN);function _N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SN("endBefore",t,!1)}function TN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SN("endAt",t,!0)}function CN(e,t,n,r){if(n[0]=Io(n[0]),n[0]instanceof uN)return function(e,t,n,r,i){if(!r)throw new Sk(Ik.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ja(hw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(bb(t,r.key));else{var c=r.data.field(s.field);if(nb(c))throw new Sk(Ik.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ew(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Sk(Ik.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dw(e)&&-1!==c.indexOf("/"))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Gk.fromString(c));if(!lb.isDocumentKey(l))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new lb(l);u.push(bb(t,f))}else{var d=XA(n,r,c);u.push(d)}}return new ew(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function AN(e,t,n){if("string"==typeof(n=Io(n))){if(""===n)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(t)&&-1!==n.indexOf("/"))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gk.fromString(n));if(!lb.isDocumentKey(r))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bb(e,new lb(r))}if(n instanceof dA)return bb(e,n._key);throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oA(n),"."))}function NN(e,t){if(!Array.isArray(e)||0===e.length)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function RN(e,t,n){if(!n.isEqual(t))throw new Sk(Ik.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PN=function(){function e(){qa(this,e)}return Ka(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Wk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new DA(eb(e.latitude),eb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=rb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ib(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Zk(e);return new zk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gk.fromString(e);xk(sE(n));var r=new ob(n.get(1),n.get(3)),i=new lb(n.popFirst(5));return r.isEqual(t)||gk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ON(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var DN=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).firestore=e,r}return Ka(n,[{key:"convertBytes",value:function(e){return new PA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dA(this.firestore,null,t)}}]),n}(PN),MN=function(){function e(t,n){qa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zA(t)}return Ka(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=LN(e,this._firestore),i=ON(r.converter,t,n),a=BA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Uw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=LN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Io(t))||t instanceof RA?YA(this._dataReader,"WriteBatch.update",i._key,t,n,o):QA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Uw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=LN(e,this._firestore);return this._mutations=this._mutations.concat(new ex(t._key,Uw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Sk(Ik.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function LN(e,t){if((e=Io(e)).firestore!==t)throw new Sk(Ik.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var FN=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).firestore=e,r}return Ka(n,[{key:"convertBytes",value:function(e){return new PA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dA(this.firestore,null,t)}}]),n}(PN);function VN(e){e=uA(e,dA);var t=uA(e.firestore,xA),n=EA(t),r=new FN(t);return function(e,t){var n=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function r(){return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ba(Ga().mark((function e(t,n,r){var i,a;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ek(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Sk(Ik.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=cT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$C(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new fN(t,r,e._key,n,new lN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function UN(e){e=uA(e,hA);var t=uA(e.firestore,xA),n=EA(t),r=new FN(t);return function(e,t){var n=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function r(){return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ba(Ga().mark((function e(t,n,r){var i,a,o,u,s;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NS(t,n,!0);case 3:i=e.sent,a=new AT(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=cT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$C(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new hN(t,r,e,n)}))}function jN(e,t,n){e=uA(e,dA);var r=uA(e.firestore,xA),i=ON(e.converter,t,n);return WN(r,[BA(zA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Uw.none())])}function zN(e,t,n){e=uA(e,dA);for(var r=uA(e.firestore,xA),i=zA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return WN(r,[("string"==typeof(t=Io(t))||t instanceof RA?YA(i,"updateDoc",e._key,t,n,o):QA(i,"updateDoc",e._key,t)).toMutation(e._key,Uw.exists(!0))])}function BN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Io(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||bA(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(bA(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof dA)l=uA(e.firestore,xA),f=uw(e._key.path),c={next:function(t){n[s]&&n[s](KN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=uA(e,hA);l=uA(p.firestore,xA),f=p._query;var v=new FN(l);c={next:function(e){n[s]&&n[s](new hN(l,v,p,e))},error:n[s+1],complete:n[s+2]},mN(e._query)}return function(e,t,n,r){var i=new DC(r),a=new xT(t,i,n);return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vT,t.next=3,XC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yT,t.next=3,XC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(EA(l),f,d,c)}function qN(e,t){return function(e,t){var n=new DC(t);return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ek(e).Ia.add(t),t.next()},t.next=3,XC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ek(e).Ia.delete(t)},t.next=3,XC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(EA(e=uA(e,xA)),bA(t)?t:{next:t})}function WN(e,t){return function(e,t){var n=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function r(){return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=UT,r.next=3,YC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(EA(e),t)}function KN(e,t,n){var r=n.docs.get(t._key),i=new FN(e);return new fN(e,i,t._key,r,new lN(n.hasPendingWrites,n.fromCache),t.converter)}var HN=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ka(n,[{key:"get",value:function(e){var t=this,r=LN(e,this._firestore),i=new FN(this._firestore);return Da(Pa(n.prototype),"get",this).call(this,e).then((function(e){return new fN(t._firestore,i,r._key,e._document,new lN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){qa(this,e),this._firestore=t,this._transaction=n,this._dataReader=zA(t)}return Ka(e,[{key:"get",value:function(e){var t=this,n=LN(e,this._firestore),r=new DN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wk();var i=e[0];if(i.isFoundDocument())return new uN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new uN(t._firestore,r,n._key,null,n.converter);throw wk()}))}},{key:"set",value:function(e,t,n){var r=LN(e,this._firestore),i=ON(r.converter,t,n),a=BA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=LN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Io(t))||t instanceof RA?YA(this._dataReader,"Transaction.update",i._key,t,n,o):QA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=LN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function GN(e,t){return function(e,t){var n=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function r(){var i;return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return KC(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new FC(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(EA(e=uA(e,xA)),(function(n){return t(new HN(e,n))}))}function $N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HA("arrayUnion",t)}function QN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pk=e}(su),tu(new No("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new xA(i,new Nk(e.getProvider("auth-internal")),new Dk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),pu(dk,"3.4.6",e),pu(dk,"3.4.6","esm2017")}();function YN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Sk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function XN(){if("undefined"===typeof Uint8Array)throw new Sk("unimplemented","Uint8Arrays are not available in this environment.")}function JN(){if("undefined"==typeof atob)throw new Sk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ZN=function(){function e(t){qa(this,e),this._delegate=t}return Ka(e,[{key:"toBase64",value:function(){return JN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return XN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return JN(),new e(PA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return XN(),new e(PA.fromUint8Array(t))}}]),e}();function eR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ja(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var tR=function(){function e(){qa(this,e)}return Ka(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){NA(e=uA(e,xA));var n=EA(e),r=e._freezeSettings(),i=new PC;return SA(n,i,new NC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){NA(e=uA(e,xA));var t=EA(e),n=e._freezeSettings(),r=new PC;return SA(t,r,new RC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Sk(Ik.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new _k;return e._queue.enqueueAndForgetEvenWhileRestricted(Ba(Ga().mark((function n(){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ba(Ga().mark((function e(t){var n;return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LE.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,LE.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(hS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),nR=function(){function e(t,n,r){var i=this;qa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ob||(this._appCompat=t)}return Ka(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return _A(this._delegate)}},{key:"disableNetwork",value:function(){return TA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new _k;return e.asyncQueue.enqueueAndForget(Ba(Ga().mark((function n(){return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=YT,n.next=3,YC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(EA(e=uA(e,xA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Sk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new mR(this,vA(this._delegate,e))}catch(t){throw sR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new uR(this,mA(this._delegate,e))}catch(t){throw sR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new hR(this,function(e,t){if(e=uA(e,lA),nA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Sk(Ik.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hA(e,null,function(e){return new aw(Gk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return GN(this._delegate,(function(n){return e(new iR(t,n))}))}},{key:"batch",value:function(){var e=this;return EA(this._delegate),new aR(new MN(this._delegate,(function(t){return WN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return CA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return AA(this._delegate,e).then((function(e){return e?new hR(t,e):null}))}}]),e}(),rR=function(e){Ma(n,e);var t=Ua(n);function n(e){var r;return qa(this,n),(r=t.call(this)).firestore=e,r}return Ka(n,[{key:"convertBytes",value:function(e){return new ZN(new PA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return uR.forKey(t,this.firestore,null)}}]),n}(PN);var iR=function(){function e(t,n){qa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new rR(t)}return Ka(e,[{key:"get",value:function(e){var t=this,n=yR(e);return this._delegate.get(n).then((function(e){return new fR(t._firestore,new fN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=yR(e);return n?(YN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=yR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=yR(e);return this._delegate.delete(t),this}}]),e}(),aR=function(){function e(t){qa(this,e),this._delegate=t}return Ka(e,[{key:"set",value:function(e,t,n){var r=yR(e);return n?(YN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=yR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=yR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),oR=function(){function e(t,n,r){qa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ka(e,[{key:"fromFirestore",value:function(e,t){var n=new dN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new rR(t),n),i.set(n,a)),a}}]),e}();oR.INSTANCES=new WeakMap;var uR=function(){function e(t,n){qa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rR(t)}return Ka(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new mR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new mR(this.firestore,vA(this._delegate,e))}catch(t){throw sR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Io(e))instanceof dA&&yA(this._delegate,e)}},{key:"set",value:function(e,t){t=YN("DocumentReference.set",t);try{return t?jN(this._delegate,e,t):jN(this._delegate,e)}catch(n){throw sR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?zN(this._delegate,e):zN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return WN(uA(e.firestore,xA),[new ex(e._key,Uw.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cR(n),a=lR(n,(function(t){return new fR(e.firestore,new fN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return BN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?VN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uA(e,dA);var t=uA(e.firestore,xA);return ZC(EA(t),e._key,{source:"server"}).then((function(n){return KN(t,e,n)}))}(this._delegate):function(e){e=uA(e,dA);var t=uA(e.firestore,xA);return ZC(EA(t),e._key).then((function(n){return KN(t,e,n)}))}(this._delegate),t.then((function(e){return new fR(n.firestore,new fN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Sk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new dA(n._delegate,r,new lb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new dA(n._delegate,r,t))}}]),e}();function sR(e,t,n){return e.message=e.message.replace(t,n),e}function cR(e){var t,n=ja(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!eR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function lR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=eR(e[0])?e[0]:eR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fR=function(){function e(t,n){qa(this,e),this._firestore=t,this._delegate=n}return Ka(e,[{key:"ref",get:function(){return new uR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return vN(this._delegate,e._delegate)}}]),e}(),dR=function(e){Ma(n,e);var t=Ua(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ka(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||wk()}(void 0!==t),t}}]),n}(fR),hR=function(){function e(t,n){qa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rR(t)}return Ka(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,gN(this._delegate,function(e,t,n){var r=t,i=cN("where",e);return new kN(i,r,n)}(t,n,r)))}catch(i){throw sR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,gN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cN("orderBy",e);return new bN(n,t)}(t,n)))}catch(r){throw sR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,gN(this._delegate,function(e){return sA("limit",e),new wN("limit",e,"F")}(t)))}catch(n){throw sR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,gN(this._delegate,function(e){return sA("limitToLast",e),new wN("limitToLast",e,"L")}(t)))}catch(n){throw sR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,gN(this._delegate,EN.apply(void 0,arguments)))}catch(t){throw sR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,gN(this._delegate,IN.apply(void 0,arguments)))}catch(t){throw sR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,gN(this._delegate,_N.apply(void 0,arguments)))}catch(t){throw sR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,gN(this._delegate,TN.apply(void 0,arguments)))}catch(t){throw sR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return gA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?UN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uA(e,hA);var t=uA(e.firestore,xA),n=EA(t),r=new FN(t);return eA(n,e._query,{source:"server"}).then((function(n){return new hN(t,r,e,n)}))}(this._delegate):function(e){e=uA(e,hA);var t=uA(e.firestore,xA),n=EA(t),r=new FN(t);return mN(e._query),eA(n,e._query).then((function(n){return new hN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new vR(n.firestore,new hN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cR(n),a=lR(n,(function(t){return new vR(e.firestore,new hN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return BN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),pR=function(){function e(t,n){qa(this,e),this._firestore=t,this._delegate=n}return Ka(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new dR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),vR=function(){function e(t,n){qa(this,e),this._firestore=t,this._delegate=n}return Ka(e,[{key:"query",get:function(){return new hR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new dR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new dR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return vN(this._delegate,e._delegate)}}]),e}(),mR=function(e){Ma(n,e);var t=Ua(n);function n(e,r){var i;return qa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ka(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new uR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new uR(this.firestore,void 0===e?mA(this._delegate):mA(this._delegate,e))}catch(t){throw sR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uA(e.firestore,xA),r=mA(e),i=ON(e.converter,t);return WN(n,[BA(zA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Uw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new uR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(oR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(hR);function yR(e){return uA(e,dA)}var gR=function(){function e(){qa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=$a(RA,n)}return Ka(e,[{key:"isEqual",value:function(e){return(e=Io(e))instanceof RA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Qk.keyField().canonicalString())}}]),e}(),kR=function(){function e(t){qa(this,e),this._delegate=t}return Ka(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new KA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$N.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $A("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),bR={Firestore:nR,GeoPoint:DA,Timestamp:zk,Blob:ZN,Transaction:iR,WriteBatch:aR,DocumentReference:uR,DocumentSnapshot:fR,Query:hR,QueryDocumentSnapshot:dR,QuerySnapshot:vR,CollectionReference:mR,FieldPath:gR,FieldValue:kR,setLogLevel:function(e){!function(e){vk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new No("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},bR)))}(e,(function(e,t){return new nR(e,t,new tR)})),e.registerVersion("@firebase/firestore-compat","0.1.15")}(Gh);Gh.initializeApp({apiKey:"AIzaSyCDTazF6gwXForicdkEjDLB91mOnZndTSA",authDomain:"intern-project-8ae08.firebaseapp.com",projectId:"intern-project-8ae08",storageBucket:"intern-project-8ae08.appspot.com",messagingSenderId:"124932501820",appId:"1:124932501820:web:45201e99173fdd665e2e39"}).firestore();var wR=Gh.auth(),xR=function(){var e=A();return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"logged-in",children:"Zalogowano!"}),(0,K.jsx)("div",{className:"logout-button",children:(0,K.jsx)(Ra,{onClick:function(){(function(e){return Io(e).signOut()})(wR).then((function(){e("/")})).catch((function(e){console.log(e)}))},sx:{margin:.8},variant:"contained",size:"large",children:"Wyloguj"})})]})},ER=0;var IR=i.useId;function SR(e){if(void 0!==IR){var t=IR();return null!=e?e:t}return function(e){var t=l(r.useState(e),2),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(ER+=1))}),[n]),a}(e)}function _R(e){return e&&e.ownerDocument||document}function TR(e){return _R(e).defaultView||window}function CR(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}var AR=["onChange","maxRows","minRows","style","value"];function NR(e,t){return parseInt(e[t],10)||0}var RR={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},PR=r.forwardRef((function(e,t){var n=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=$(e,AR),d=r.useRef(null!=s).current,h=r.useRef(null),p=mi(t,h),v=r.useRef(null),m=r.useRef(0),y=l(r.useState({}),2),g=y[0],k=y[1],b=r.useCallback((function(){var t=h.current,n=TR(t).getComputedStyle(t);if("0px"!==n.width){var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=NR(n,"padding-bottom")+NR(n,"padding-top"),s=NR(n,"border-bottom-width")+NR(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var d=(f=Math.max(f,l))+("border-box"===a?u+s:0),p=Math.abs(f-c)<=1;k((function(e){return m.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==p)?(m.current+=1,{overflow:p,outerHeightStyle:d}):e}))}}),[i,o,e.placeholder]);r.useEffect((function(){var e,t=CR((function(){m.current=0,b()})),n=TR(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[b]),gi((function(){b()})),r.useEffect((function(){m.current=0}),[s]);return(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)("textarea",f({value:s,onChange:function(e){m.current=0,d||b(),n&&n(e)},ref:p,rows:o,style:f({height:g.outerHeightStyle,overflow:g.overflow?"hidden":null},u)},c)),(0,K.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:f({},RR,u,{padding:0})})]})})),OR=PR;var DR=function(e){return"string"===typeof e};function MR(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var LR=r.createContext();function FR(){return r.useContext(LR)}var VR=gi;function UR(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,K.jsx)(Bi,{styles:i})}var jR=function(e){return(0,K.jsx)(UR,f({},e,{defaultTheme:ni}))};function zR(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function BR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(zR(e.value)&&""!==e.value||t&&zR(e.defaultValue)&&""!==e.defaultValue)}function qR(e){return Qi("MuiInputBase",e)}var WR=Yi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),KR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],HR=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(wa(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},GR=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},$R=oi("div",{name:"MuiInputBase",slot:"Root",overridesResolver:HR})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body1,G({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(WR.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&f({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),QR=oi("input",{name:"MuiInputBase",slot:"Input",overridesResolver:GR})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return f((G(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(WR.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),G(t,"&.".concat(WR.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),G(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),YR=(0,K.jsx)(jR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),XR=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiInputBase"}),i=n["aria-describedby"],a=n.autoComplete,o=n.autoFocus,u=n.className,s=n.components,c=void 0===s?{}:s,d=n.componentsProps,h=void 0===d?{}:d,p=n.defaultValue,v=n.disabled,m=n.disableInjectingGlobalStyles,y=n.endAdornment,g=n.fullWidth,k=void 0!==g&&g,b=n.id,w=n.inputComponent,x=void 0===w?"input":w,E=n.inputProps,I=void 0===E?{}:E,S=n.inputRef,_=n.maxRows,T=n.minRows,C=n.multiline,A=void 0!==C&&C,N=n.name,R=n.onBlur,P=n.onChange,O=n.onClick,D=n.onFocus,M=n.onKeyDown,L=n.onKeyUp,F=n.placeholder,V=n.readOnly,U=n.renderSuffix,j=n.rows,z=n.startAdornment,B=n.type,q=void 0===B?"text":B,W=n.value,H=$(n,KR),G=null!=I.value?I.value:W,Q=r.useRef(null!=G).current,X=r.useRef(),ee=r.useCallback((function(e){0}),[]),te=yi(I.ref,ee),ne=yi(S,te),re=yi(X,ne),ie=l(r.useState(!1),2),ae=ie[0],oe=ie[1],ue=FR();var se=MR({props:n,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});se.focused=ue?ue.focused:ae,r.useEffect((function(){!ue&&v&&ae&&(oe(!1),R&&R())}),[ue,v,ae,R]);var ce=ue&&ue.onFilled,le=ue&&ue.onEmpty,fe=r.useCallback((function(e){BR(e)?ce&&ce():le&&le()}),[ce,le]);VR((function(){Q&&fe({value:G})}),[G,fe,Q]);r.useEffect((function(){fe(X.current)}),[]);var de=x,he=I;A&&"input"===de&&(he=f(j?{type:void 0,minRows:j,maxRows:j}:{type:void 0,maxRows:_,minRows:T},he),de=OR);r.useEffect((function(){ue&&ue.setAdornedStart(Boolean(z))}),[ue,z]);var pe=f({},n,{color:se.color||"primary",disabled:se.disabled,endAdornment:y,error:se.error,focused:se.focused,formControl:ue,fullWidth:k,hiddenLabel:se.hiddenLabel,multiline:A,size:se.size,startAdornment:z,type:q}),ve=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,d=e.startAdornment,h=e.type;return J({root:["root","color".concat(wa(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",d&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd"]},qR,t)}(pe),me=c.Root||$R,ye=h.root||{},ge=c.Input||QR;return he=f({},he,h.input),(0,K.jsxs)(r.Fragment,{children:[!m&&YR,(0,K.jsxs)(me,f({},ye,!DR(me)&&{ownerState:f({},pe,ye.ownerState)},{ref:t,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),O&&O(e)}},H,{className:Y(ve.root,ye.className,u),children:[z,(0,K.jsx)(LR.Provider,{value:null,children:(0,K.jsx)(ge,f({ownerState:pe,"aria-invalid":se.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:p,disabled:se.disabled,id:b,onAnimationStart:function(e){fe("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:N,placeholder:F,readOnly:V,required:se.required,rows:j,value:G,onKeyDown:M,onKeyUp:L,type:q},he,!DR(ge)&&{as:de,ownerState:f({},pe,he.ownerState)},{ref:re,className:Y(ve.input,he.className),onBlur:function(e){R&&R(e),I.onBlur&&I.onBlur(e),ue&&ue.onBlur?ue.onBlur(e):oe(!1)},onChange:function(e){if(!Q){var t=e.target||X.current;if(null==t)throw new Error(Z(1));fe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];I.onChange&&I.onChange.apply(I,[e].concat(r)),P&&P.apply(void 0,[e].concat(r))},onFocus:function(e){se.disabled?e.stopPropagation():(D&&D(e),I.onFocus&&I.onFocus(e),ue&&ue.onFocus?ue.onFocus(e):oe(!0))}}))}),y,U?U(f({},se,{startAdornment:z})):null]}))]})})),JR=XR;function ZR(e){return Qi("MuiInput",e)}var eP=f({},WR,Yi("MuiInput",["root","underline","input"])),tP=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],nP=oi($R,{shouldForwardProp:function(e){return ri(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(se(HR(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return f({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(G(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(eP.focused,":after"),{transform:"scaleX(1)"}),G(t,"&.".concat(eP.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),G(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),G(t,"&:hover:not(.".concat(eP.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),G(t,"&.".concat(eP.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),rP=oi(QR,{name:"MuiInput",slot:"Input",overridesResolver:GR})({}),iP=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,d=n.multiline,h=void 0!==d&&d,p=n.type,v=void 0===p?"text":p,m=$(n,tP),y=function(e){var t=e.classes;return f({},t,J({root:["root",!e.disableUnderline&&"underline"],input:["input"]},ZR,t))}(n),g={root:{ownerState:{disableUnderline:r}}},k=o?qt(o,g):g;return(0,K.jsx)(JR,f({components:f({Root:nP,Input:rP},a),componentsProps:k,fullWidth:s,inputComponent:l,multiline:h,ref:t,type:v},m,{classes:y}))}));iP.muiName="Input";var aP=iP;function oP(e){return Qi("MuiFilledInput",e)}var uP=f({},WR,Yi("MuiFilledInput",["root","underline","input"])),sP=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],cP=oi($R,{shouldForwardProp:function(e){return ri(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(se(HR(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,a="light"===r.palette.mode,o=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return f((G(t={position:"relative",backgroundColor:u,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:u}}},"&.".concat(uP.focused),{backgroundColor:u}),G(t,"&.".concat(uP.disabled),{backgroundColor:a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(G(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(uP.focused,":after"),{transform:"scaleX(1)"}),G(n,"&.".concat(uP.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),G(n,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),G(n,"&:hover:not(.".concat(uP.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),G(n,"&.".concat(uP.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&f({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),lP=oi(QR,{name:"MuiFilledInput",slot:"Input",overridesResolver:GR})((function(e){var t=e.theme,n=e.ownerState;return f({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),fP=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,u=void 0!==o&&o,s=n.inputComponent,c=void 0===s?"input":s,l=n.multiline,d=void 0!==l&&l,h=n.type,p=void 0===h?"text":h,v=$(n,sP),m=f({},n,{fullWidth:u,inputComponent:c,multiline:d,type:p}),y=function(e){var t=e.classes;return f({},t,J({root:["root",!e.disableUnderline&&"underline"],input:["input"]},oP,t))}(n),g={root:{ownerState:m},input:{ownerState:m}},k=a?qt(a,g):g;return(0,K.jsx)(JR,f({components:f({Root:cP,Input:lP},i),componentsProps:k,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:p},v,{classes:y}))}));fP.muiName="Input";var dP,hP=fP,pP=["children","classes","className","label","notched"],vP=oi("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mP=oi("legend")((function(e){var t=e.ownerState,n=e.theme;return f({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&f({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function yP(e){return Qi("MuiOutlinedInput",e)}var gP=f({},WR,Yi("MuiOutlinedInput",["root","notchedOutline","input"])),kP=["components","fullWidth","inputComponent","label","multiline","notched","type"],bP=oi($R,{shouldForwardProp:function(e){return ri(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:HR})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return f((G(t={position:"relative",borderRadius:n.shape.borderRadius},"&:hover .".concat(gP.notchedOutline),{borderColor:n.palette.text.primary}),G(t,"@media (hover: none)",G({},"&:hover .".concat(gP.notchedOutline),{borderColor:i})),G(t,"&.".concat(gP.focused," .").concat(gP.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),G(t,"&.".concat(gP.error," .").concat(gP.notchedOutline),{borderColor:n.palette.error.main}),G(t,"&.".concat(gP.disabled," .").concat(gP.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&f({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),wP=oi((function(e){var t=e.className,n=e.label,r=e.notched,i=$(e,pP),a=null!=n&&""!==n,o=f({},e,{notched:r,withLabel:a});return(0,K.jsx)(vP,f({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,K.jsx)(mP,{ownerState:o,children:a?(0,K.jsx)("span",{children:n}):dP||(dP=(0,K.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),xP=oi(QR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:GR})((function(e){var t=e.theme,n=e.ownerState;return f({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),EP=r.forwardRef((function(e,t){var n,i=pi({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,u=i.fullWidth,s=void 0!==u&&u,c=i.inputComponent,l=void 0===c?"input":c,d=i.label,h=i.multiline,p=void 0!==h&&h,v=i.notched,m=i.type,y=void 0===m?"text":m,g=$(i,kP),k=function(e){var t=e.classes;return f({},t,J({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},yP,t))}(i),b=MR({props:i,muiFormControl:FR(),states:["required"]});return(0,K.jsx)(JR,f({components:f({Root:bP,Input:xP},o),renderSuffix:function(e){return(0,K.jsx)(wP,{className:k.notchedOutline,label:null!=d&&""!==d&&b.required?n||(n=(0,K.jsxs)(r.Fragment,{children:[d,"\xa0","*"]})):d,notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:s,inputComponent:l,multiline:p,ref:t,type:y},g,{classes:f({},k,{notchedOutline:null})}))}));EP.muiName="Input";var IP=EP;function SP(e){return Qi("MuiFormLabel",e)}var _P=Yi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),TP=["children","className","color","component","disabled","error","filled","focused","required"],CP=oi("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return f({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return f({color:n.palette.text.secondary},n.typography.body1,(G(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(_P.focused),{color:n.palette[r.color].main}),G(t,"&.".concat(_P.disabled),{color:n.palette.text.disabled}),G(t,"&.".concat(_P.error),{color:n.palette.error.main}),t))})),AP=oi("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return G({},"&.".concat(_P.error),{color:t.palette.error.main})})),NP=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=$(n,TP),s=MR({props:n,muiFormControl:FR(),states:["color","required","focused","disabled","error","filled"]}),c=f({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return J({root:["root","color".concat(wa(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},SP,t)}(c);return(0,K.jsxs)(CP,f({as:o,ownerState:c,className:Y(l.root,i),ref:t},u,{children:[r,s.required&&(0,K.jsxs)(AP,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),RP=NP;function PP(e){return Qi("MuiInputLabel",e)}Yi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var OP=["disableAnimation","margin","shrink","variant"],DP=oi(RP,{shouldForwardProp:function(e){return ri(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[G({},"& .".concat(_P.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return f({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&f({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&f({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&f({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),MP=r.forwardRef((function(e,t){var n=pi({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=$(n,OP),u=FR(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=MR({props:n,muiFormControl:u,states:["size","variant","required"]}),l=f({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return f({},t,J({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},PP,t))}(l);return(0,K.jsx)(DP,f({"data-shrink":s,ownerState:l,ref:t},o,{classes:d}))}));var LP=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function FP(e){return Qi("MuiFormControl",e)}Yi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var VP=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],UP=oi("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return f({},t.root,t["margin".concat(wa(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return f({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),jP=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiFormControl"}),i=n.children,a=n.className,o=n.color,u=void 0===o?"primary":o,s=n.component,c=void 0===s?"div":s,d=n.disabled,h=void 0!==d&&d,p=n.error,v=void 0!==p&&p,m=n.focused,y=n.fullWidth,g=void 0!==y&&y,k=n.hiddenLabel,b=void 0!==k&&k,w=n.margin,x=void 0===w?"none":w,E=n.required,I=void 0!==E&&E,S=n.size,_=void 0===S?"medium":S,T=n.variant,C=void 0===T?"outlined":T,A=$(n,VP),N=f({},n,{color:u,component:c,disabled:h,error:v,fullWidth:g,hiddenLabel:b,margin:x,required:I,size:_,variant:C}),R=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return J({root:["root","none"!==n&&"margin".concat(wa(n)),r&&"fullWidth"]},FP,t)}(N),P=l(r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){if(LP(t,["Input","Select"])){var n=LP(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),O=P[0],D=P[1],M=l(r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){LP(t,["Input","Select"])&&BR(t.props,!0)&&(e=!0)})),e})),2),L=M[0],F=M[1],V=l(r.useState(!1),2),U=V[0],j=V[1];h&&U&&j(!1);var z=void 0===m||h?U:m,B=r.useCallback((function(){F(!0)}),[]),q={adornedStart:O,setAdornedStart:D,color:u,disabled:h,error:v,filled:L,focused:z,fullWidth:g,hiddenLabel:b,size:_,onBlur:function(){j(!1)},onEmpty:r.useCallback((function(){F(!1)}),[]),onFilled:B,onFocus:function(){j(!0)},registerEffect:undefined,required:I,variant:C};return(0,K.jsx)(LR.Provider,{value:q,children:(0,K.jsx)(UP,f({as:c,ownerState:N,className:Y(R.root,a),ref:t},A,{children:i}))})})),zP=jP;function BP(e){return Qi("MuiFormHelperText",e)}var qP,WP=Yi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),KP=["children","className","component","disabled","error","filled","focused","margin","required","variant"],HP=oi("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(wa(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return f({color:n.palette.text.secondary},n.typography.caption,(G(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(WP.disabled),{color:n.palette.text.disabled}),G(t,"&.".concat(WP.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),GP=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=$(n,KP),s=MR({props:n,muiFormControl:FR(),states:["variant","size","disabled","error","filled","focused","required"]}),c=f({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return J({root:["root",i&&"disabled",a&&"error",r&&"size".concat(wa(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},BP,t)}(c);return(0,K.jsx)(HP,f({as:o,ownerState:c,className:Y(l.root,i),ref:t},u,{children:" "===r?qP||(qP=(0,K.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),$P=(n(441),_R);var QP=r.createContext({});function YP(e){return Qi("MuiList",e)}Yi("MuiList",["root","padding","dense","subheader"]);var XP=["children","className","component","dense","disablePadding","subheader"],JP=oi("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return f({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),ZP=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiList"}),i=n.children,a=n.className,o=n.component,u=void 0===o?"ul":o,s=n.dense,c=void 0!==s&&s,l=n.disablePadding,d=void 0!==l&&l,h=n.subheader,p=$(n,XP),v=r.useMemo((function(){return{dense:c}}),[c]),m=f({},n,{component:u,dense:c,disablePadding:d}),y=function(e){var t=e.classes;return J({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},YP,t)}(m);return(0,K.jsx)(QP.Provider,{value:v,children:(0,K.jsxs)(JP,f({as:u,className:Y(y.root,a),ref:t,ownerState:m},p,{children:[h,i]}))})}));function eO(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var tO=eO,nO=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function rO(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function iO(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function aO(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function oO(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&aO(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var uO=r.forwardRef((function(e,t){var n=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,d=void 0!==l&&l,h=e.disableListWrap,p=void 0!==h&&h,v=e.onKeyDown,m=e.variant,y=void 0===m?"selectedMenu":m,g=$(e,nO),k=r.useRef(null),b=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});VR((function(){a&&k.current.focus()}),[a]),r.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(tO($P(e)),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var w=yi(k,t),x=-1;r.Children.forEach(s,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===x)&&(x=t))}));var E=r.Children.map(s,(function(e,t){if(t===x){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(n.tabIndex=0),r.cloneElement(e,n)}return e}));return(0,K.jsx)(ZP,f({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=k.current,n=e.key,r=$P(t).activeElement;if("ArrowDown"===n)e.preventDefault(),oO(t,r,p,d,rO);else if("ArrowUp"===n)e.preventDefault(),oO(t,r,p,d,iO);else if("Home"===n)e.preventDefault(),oO(t,null,p,d,rO);else if("End"===n)e.preventDefault(),oO(t,null,p,d,iO);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&aO(r,i);i.previousKeyMatched&&(u||oO(t,r,!1,d,rO,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:a?0:-1},g,{children:E}))})),sO=uO;function cO(e){return Qi("MuiPaper",e)}Yi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var lO=["className","component","elevation","square","variant"],fO=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},dO=oi("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return f({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&f({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(ie("#fff",fO(n.elevation)),", ").concat(ie("#fff",fO(n.elevation)),")")}))})),hO=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,d=void 0===l?"elevation":l,h=$(n,lO),p=f({},n,{component:a,elevation:u,square:c,variant:d}),v=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return J({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},cO,i)}(p);return(0,K.jsx)(dO,f({as:a,ownerState:p,className:Y(v.root,r),ref:t},h))})),pO=hO,vO=CR,mO=TR,yO=!1,gO="unmounted",kO="exited",bO="entering",wO="entered",xO="exiting",EO=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=kO,r.appearStatus=bO):i=wO:i=t.unmountOnExit||t.mountOnEnter?gO:kO,r.state={status:i},r.nextCallback=null,r}Oi(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===gO?{status:kO}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==bO&&n!==wO&&(t=bO):n!==bO&&n!==wO||(t=xO)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===bO?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===kO&&this.setState({status:gO})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],u=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||yO?this.safeSetState({status:wO},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:bO},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:wO},(function(){t.props.onEntered(o,u)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!yO?(this.props.onExit(r),this.safeSetState({status:xO},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:kO},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:kO},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],u=i[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===gO)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,$(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Di.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function IO(){}EO.contextType=Di,EO.propTypes={},EO.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:IO,onEntering:IO,onEntered:IO,onExit:IO,onExiting:IO,onExited:IO},EO.UNMOUNTED=gO,EO.EXITED=kO,EO.ENTERING=bO,EO.ENTERED=wO,EO.EXITING=xO;var SO=EO;function _O(){return di(ni)}var TO=function(e){return e.scrollTop};function CO(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var AO=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function NO(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var RO={entering:{opacity:1,transform:NO(1)},entered:{opacity:1,transform:"none"}},PO=r.forwardRef((function(e,t){var n=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,m=e.style,y=e.timeout,g=void 0===y?"auto":y,k=e.TransitionComponent,b=void 0===k?SO:k,w=$(e,AO),x=r.useRef(),E=r.useRef(),I=_O(),S=r.useRef(null),_=yi(o.ref,t),T=yi(S,_),C=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},A=C(d),N=C((function(e,t){TO(e);var n,r=CO({style:m,timeout:g,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===g?(n=I.transitions.getAutoHeightDuration(e.clientHeight),E.current=n):n=i,e.style.transition=[I.transitions.create("opacity",{duration:n,delay:a}),I.transitions.create("transform",{duration:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),R=C(l),P=C(v),O=C((function(e){var t,n=CO({style:m,timeout:g,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===g?(t=I.transitions.getAutoHeightDuration(e.clientHeight),E.current=t):t=r,e.style.transition=[I.transitions.create("opacity",{duration:t,delay:i}),I.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:a})].join(","),e.style.opacity="0",e.style.transform=NO(.75),h&&h(e)})),D=C(p);return r.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,K.jsx)(b,f({appear:a,in:s,nodeRef:S,onEnter:N,onEntered:R,onEntering:A,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){"auto"===g&&(x.current=setTimeout(e,E.current||0)),n&&n(S.current,e)},timeout:"auto"===g?null:g},w,{children:function(e,t){return r.cloneElement(o,f({style:f({opacity:0,transform:NO(.75),visibility:"exited"!==e||s?void 0:"hidden"},RO[e],m,o.props.style),ref:T},t))}}))}));PO.muiSupportAuto=!0;var OO=PO;function DO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var MO=r.forwardRef((function(e,t){var n=e.children,i=e.container,o=e.disablePortal,u=void 0!==o&&o,s=l(r.useState(null),2),c=s[0],f=s[1],d=mi(r.isValidElement(n)?n.ref:null,t);return gi((function(){u||f(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,u]),gi((function(){if(c&&!u)return vi(t,c),function(){vi(t,null)}}),[t,c,u]),u?r.isValidElement(n)?r.cloneElement(n,{ref:d}):n:c?a.createPortal(n,c):c}));function LO(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function FO(e){return parseInt(TR(e).getComputedStyle(e).paddingRight,10)||0}function VO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(se(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&LO(e,i)}))}function UO(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function jO(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=_R(e);return t.body===e?TR(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=eO(_R(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(FO(r)+i,"px");var a=_R(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(FO(e)+i,"px")}))}var o=r.parentElement,u=TR(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var zO=function(){function e(){qa(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Ka(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&LO(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);VO(t,e.mount,e.modalRef,r,!0);var i=UO(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=UO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=jO(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=UO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&LO(e.modalRef,!0),VO(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&LO(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),BO=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qO(e){var t=[],n=[];return Array.from(e.querySelectorAll(BO)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function WO(){return!0}var KO=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?qO:c,f=e.isEnabled,d=void 0===f?WO:f,h=e.open,p=r.useRef(),v=r.useRef(null),m=r.useRef(null),y=r.useRef(null),g=r.useRef(null),k=r.useRef(!1),b=r.useRef(null),w=mi(t.ref,b),x=r.useRef(null);r.useEffect((function(){h&&b.current&&(k.current=!i)}),[i,h]),r.useEffect((function(){if(h&&b.current){var e=_R(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),k.current&&b.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),r.useEffect((function(){if(h&&b.current){var e=_R(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!k.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(b.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var E=function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0};return(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)("div",{tabIndex:0,onFocus:E,ref:v,"data-test":"sentinelStart"}),r.cloneElement(t,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,K.jsx)("div",{tabIndex:0,onFocus:E,ref:m,"data-test":"sentinelEnd"})]})};function HO(e){return Qi("MuiModal",e)}Yi("MuiModal",["root","hidden"]);var GO=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var $O=new zO,QO=r.forwardRef((function(e,t){var n=e.BackdropComponent,i=e.BackdropProps,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,c=void 0!==s&&s,d=e.component,h=void 0===d?"div":d,p=e.components,v=void 0===p?{}:p,m=e.componentsProps,y=void 0===m?{}:m,g=e.container,k=e.disableAutoFocus,b=void 0!==k&&k,w=e.disableEnforceFocus,x=void 0!==w&&w,E=e.disableEscapeKeyDown,I=void 0!==E&&E,S=e.disablePortal,_=void 0!==S&&S,T=e.disableRestoreFocus,C=void 0!==T&&T,A=e.disableScrollLock,N=void 0!==A&&A,R=e.hideBackdrop,P=void 0!==R&&R,O=e.keepMounted,D=void 0!==O&&O,M=e.manager,L=void 0===M?$O:M,F=e.onBackdropClick,V=e.onClose,U=e.onKeyDown,j=e.open,z=e.theme,B=e.onTransitionEnter,q=e.onTransitionExited,W=$(e,GO),H=l(r.useState(!0),2),G=H[0],Q=H[1],X=r.useRef({}),Z=r.useRef(null),ee=r.useRef(null),te=mi(ee,t),ne=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),re=function(){return X.current.modalRef=ee.current,X.current.mountNode=Z.current,X.current},ie=function(){L.mount(re(),{disableScrollLock:N}),ee.current.scrollTop=0},ae=ki((function(){var e=function(e){return"function"===typeof e?e():e}(g)||_R(Z.current).body;L.add(re(),e),ee.current&&ie()})),oe=r.useCallback((function(){return L.isTopModal(re())}),[L]),ue=ki((function(e){Z.current=e,e&&(j&&oe()?ie():LO(ee.current,!0))})),se=r.useCallback((function(){L.remove(re())}),[L]);r.useEffect((function(){return function(){se()}}),[se]),r.useEffect((function(){j?ae():ne&&c||se()}),[j,se,ne,c,ae]);var ce=f({},e,{classes:o,closeAfterTransition:c,disableAutoFocus:b,disableEnforceFocus:x,disableEscapeKeyDown:I,disablePortal:_,disableRestoreFocus:C,disableScrollLock:N,exited:G,hideBackdrop:P,keepMounted:D}),le=function(e){var t=e.open,n=e.exited;return J({root:["root",!t&&n&&"hidden"]},HO,e.classes)}(ce);if(!D&&!j&&(!ne||G))return null;var fe={};void 0===a.props.tabIndex&&(fe.tabIndex="-1"),ne&&(fe.onEnter=DO((function(){Q(!1),B&&B()}),a.props.onEnter),fe.onExited=DO((function(){Q(!0),q&&q(),c&&se()}),a.props.onExited));var de=v.Root||h,he=y.root||{};return(0,K.jsx)(MO,{ref:ue,container:g,disablePortal:_,children:(0,K.jsxs)(de,f({role:"presentation"},he,!DR(de)&&{as:h,ownerState:f({},ce,he.ownerState),theme:z},W,{ref:te,onKeyDown:function(e){U&&U(e),"Escape"===e.key&&oe()&&(I||(e.stopPropagation(),V&&V(e,"escapeKeyDown")))},className:Y(le.root,he.className,u),children:[!P&&n?(0,K.jsx)(n,f({open:j,onClick:function(e){e.target===e.currentTarget&&(F&&F(e),V&&V(e,"backdropClick"))}},i)):null,(0,K.jsx)(KO,{disableEnforceFocus:x,disableAutoFocus:b,disableRestoreFocus:C,isEnabled:oe,open:j,children:r.cloneElement(a,fe)})]}))})})),YO=QO;function XO(e){return Qi("MuiBackdrop",e)}Yi("MuiBackdrop",["root","invisible"]);var JO=["classes","className","invisible","component","components","componentsProps","theme"],ZO=r.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.invisible,a=void 0!==i&&i,o=e.component,u=void 0===o?"div":o,s=e.components,c=void 0===s?{}:s,l=e.componentsProps,d=void 0===l?{}:l,h=e.theme,p=$(e,JO),v=f({},e,{classes:n,invisible:a}),m=function(e){var t=e.classes;return J({root:["root",e.invisible&&"invisible"]},XO,t)}(v),y=c.Root||u,g=d.root||{};return(0,K.jsx)(y,f({"aria-hidden":!0},g,!DR(y)&&{as:u,ownerState:f({},v,g.ownerState),theme:h},{ref:t},p,{className:Y(m.root,g.className,r)}))})),eD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],tD={entering:{opacity:1},entered:{opacity:1}},nD=r.forwardRef((function(e,t){var n=_O(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,d=e.onEnter,h=e.onEntered,p=e.onEntering,v=e.onExit,m=e.onExited,y=e.onExiting,g=e.style,k=e.timeout,b=void 0===k?i:k,w=e.TransitionComponent,x=void 0===w?SO:w,E=$(e,eD),I=r.useRef(null),S=yi(s.ref,t),_=yi(I,S),T=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},C=T(p),A=T((function(e,t){TO(e);var r=CO({style:g,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),d&&d(e,t)})),N=T(h),R=T(y),P=T((function(e){var t=CO({style:g,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),v&&v(e)})),O=T(m);return(0,K.jsx)(x,f({appear:u,in:l,nodeRef:I,onEnter:A,onEntered:N,onEntering:C,onExit:P,onExited:O,onExiting:R,addEndListener:function(e){a&&a(I.current,e)},timeout:b},E,{children:function(e,t){return r.cloneElement(s,f({style:f({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},tD[e],g,s.props.style),ref:_},t))}}))})),rD=nD,iD=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],aD=oi("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return f({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),oD=r.forwardRef((function(e,t){var n,r=pi({props:e,name:"MuiBackdrop"}),i=r.children,a=r.components,o=void 0===a?{}:a,u=r.componentsProps,s=void 0===u?{}:u,c=r.className,l=r.invisible,d=void 0!==l&&l,h=r.open,p=r.transitionDuration,v=r.TransitionComponent,m=void 0===v?rD:v,y=$(r,iD),g=function(e){return e.classes}(f({},r,{invisible:d}));return(0,K.jsx)(m,f({in:h,timeout:p},y,{children:(0,K.jsx)(ZO,{className:c,invisible:d,components:f({Root:aD},o),componentsProps:{root:f({},s.root,(!o.Root||!DR(o.Root))&&{ownerState:f({},null==(n=s.root)?void 0:n.ownerState)})},classes:g,ref:t,children:i})}))})),uD=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],sD=oi("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),cD=oi(oD,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),lD=r.forwardRef((function(e,t){var n,i=pi({name:"MuiModal",props:e}),a=i.BackdropComponent,o=void 0===a?cD:a,u=i.closeAfterTransition,s=void 0!==u&&u,c=i.children,d=i.components,h=void 0===d?{}:d,p=i.componentsProps,v=void 0===p?{}:p,m=i.disableAutoFocus,y=void 0!==m&&m,g=i.disableEnforceFocus,k=void 0!==g&&g,b=i.disableEscapeKeyDown,w=void 0!==b&&b,x=i.disablePortal,E=void 0!==x&&x,I=i.disableRestoreFocus,S=void 0!==I&&I,_=i.disableScrollLock,T=void 0!==_&&_,C=i.hideBackdrop,A=void 0!==C&&C,N=i.keepMounted,R=void 0!==N&&N,P=$(i,uD),O=l(r.useState(!0),2),D=O[0],M=O[1],L={closeAfterTransition:s,disableAutoFocus:y,disableEnforceFocus:k,disableEscapeKeyDown:w,disablePortal:E,disableRestoreFocus:S,disableScrollLock:T,hideBackdrop:A,keepMounted:R},F=function(e){return e.classes}(f({},i,L,{exited:D}));return(0,K.jsx)(YO,f({components:f({Root:sD},h),componentsProps:{root:f({},v.root,(!h.Root||!DR(h.Root))&&{ownerState:f({},null==(n=v.root)?void 0:n.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return M(!1)},onTransitionExited:function(){return M(!0)},ref:t},P,{classes:F},L,{children:c}))}));function fD(e){return Qi("MuiPopover",e)}Yi("MuiPopover",["root","paper"]);var dD=["onEntering"],hD=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function pD(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function vD(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function mD(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function yD(e){return"function"===typeof e?e():e}var gD=oi(lD,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),kD=oi(pO,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),bD=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiPopover"}),i=n.action,a=n.anchorEl,o=n.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=n.anchorPosition,c=n.anchorReference,l=void 0===c?"anchorEl":c,d=n.children,h=n.className,p=n.container,v=n.elevation,m=void 0===v?8:v,y=n.marginThreshold,g=void 0===y?16:y,k=n.open,b=n.PaperProps,w=void 0===b?{}:b,x=n.transformOrigin,E=void 0===x?{vertical:"top",horizontal:"left"}:x,I=n.TransitionComponent,S=void 0===I?OO:I,_=n.transitionDuration,T=void 0===_?"auto":_,C=n.TransitionProps,A=(C=void 0===C?{}:C).onEntering,N=$(n.TransitionProps,dD),R=$(n,hD),P=r.useRef(),O=yi(P,w.ref),D=f({},n,{anchorOrigin:u,anchorReference:l,elevation:m,marginThreshold:g,PaperProps:w,transformOrigin:E,TransitionComponent:S,transitionDuration:T,TransitionProps:N}),M=function(e){return J({root:["root"],paper:["paper"]},fD,e.classes)}(D),L=r.useCallback((function(){if("anchorPosition"===l)return s;var e=yD(a),t=(e&&1===e.nodeType?e:$P(P.current).body).getBoundingClientRect();return{top:t.top+pD(t,u.vertical),left:t.left+vD(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),F=r.useCallback((function(e){return{vertical:pD(e,E.vertical),horizontal:vD(e,E.horizontal)}}),[E.horizontal,E.vertical]),V=r.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=F(t);if("none"===l)return{top:null,left:null,transformOrigin:mD(n)};var r=L(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=mO(yD(a)),f=c.innerHeight-g,d=c.innerWidth-g;if(i<g){var h=i-g;i-=h,n.vertical+=h}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<g){var v=o-g;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:mD(n)}}),[a,l,L,F,g]),U=r.useCallback((function(){var e=P.current;if(e){var t=V(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[V]);r.useEffect((function(){k&&U()})),r.useImperativeHandle(i,(function(){return k?{updatePosition:function(){U()}}:null}),[k,U]),r.useEffect((function(){if(k){var e=vO((function(){U()})),t=mO(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,k,U]);var j=T;"auto"!==T||S.muiSupportAuto||(j=void 0);var z=p||(a?$P(yD(a)).body:void 0);return(0,K.jsx)(gD,f({BackdropProps:{invisible:!0},className:Y(M.root,h),container:z,open:k,ref:t,ownerState:D},R,{children:(0,K.jsx)(S,f({appear:!0,in:k,onEntering:function(e,t){A&&A(e,t),U()},timeout:j},N,{children:(0,K.jsx)(kD,f({elevation:m},w,{ref:O,className:Y(M.paper,w.className),children:d}))}))}))})),wD=bD;function xD(e){return Qi("MuiMenu",e)}Yi("MuiMenu",["root","paper","list"]);var ED=["onEntering"],ID=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],SD={vertical:"top",horizontal:"right"},_D={vertical:"top",horizontal:"left"},TD=oi(wD,{shouldForwardProp:function(e){return ri(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),CD=oi(pO,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),AD=oi(sO,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),ND=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiMenu"}),i=n.autoFocus,a=void 0===i||i,o=n.children,u=n.disableAutoFocusItem,s=void 0!==u&&u,c=n.MenuListProps,l=void 0===c?{}:c,d=n.onClose,h=n.open,p=n.PaperProps,v=void 0===p?{}:p,m=n.PopoverClasses,y=n.transitionDuration,g=void 0===y?"auto":y,k=n.TransitionProps,b=(k=void 0===k?{}:k).onEntering,w=n.variant,x=void 0===w?"selectedMenu":w,E=$(n.TransitionProps,ED),I=$(n,ID),S=_O(),_="rtl"===S.direction,T=f({},n,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:b,PaperProps:v,transitionDuration:g,TransitionProps:E,variant:x}),C=function(e){return J({root:["root"],paper:["paper"],list:["list"]},xD,e.classes)}(T),A=a&&!s&&h,N=r.useRef(null),R=-1;return r.Children.map(o,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===x&&e.props.selected||-1===R)&&(R=t))})),(0,K.jsx)(TD,f({classes:m,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?SD:_D,PaperProps:f({component:CD},v,{classes:f({},v.classes,{root:C.paper})}),className:C.root,open:h,ref:t,transitionDuration:g,TransitionProps:f({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,S),b&&b(e,t)}},E),ownerState:T},I,{children:(0,K.jsx)(AD,f({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:N,autoFocus:a&&(-1===R||s),autoFocusItem:A,variant:x},l,{className:Y(C.list,l.className),children:o}))}))})),RD=ND;function PD(e){return Qi("MuiNativeSelect",e)}var OD=Yi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),DD=["className","disabled","IconComponent","inputRef","variant"],MD=function(e){var t,n=e.ownerState,r=e.theme;return f((G(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(OD.disabled),{cursor:"default"}),G(t,"&[multiple]",{height:"auto"}),G(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),G(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},LD=oi("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ri,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],G({},"&.".concat(OD.multiple),t.multiple)]}})(MD),FD=function(e){var t=e.ownerState,n=e.theme;return f(G({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(OD.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},VD=oi("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(wa(n.variant))],n.open&&t.iconOpen]}})(FD),UD=r.forwardRef((function(e,t){var n=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=$(e,DD),l=f({},e,{disabled:i,variant:s}),d=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return J({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(wa(n)),a&&"iconOpen",r&&"disabled"]},PD,t)}(l);return(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(LD,f({ownerState:l,className:Y(d.select,n),disabled:i,ref:o||t},c)),e.multiple?null:(0,K.jsx)(VD,{as:a,ownerState:l,className:d.icon})]})})),jD=UD;var zD=function(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=l(r.useState(n),2),o=a[0],u=a[1];return[i?t:o,r.useCallback((function(e){i||u(e)}),[])]};function BD(e){return Qi("MuiSelect",e)}var qD,WD=Yi("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),KD=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],HD=oi("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[G({},"&.".concat(WD.select),t.select),G({},"&.".concat(WD.select),t[n.variant]),G({},"&.".concat(WD.multiple),t.multiple)]}})(MD,G({},"&.".concat(WD.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),GD=oi("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(wa(n.variant))],n.open&&t.iconOpen]}})(FD),$D=oi("input",{shouldForwardProp:function(e){return ii(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function QD(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function YD(e){return null==e||"string"===typeof e&&!e.trim()}var XD=r.forwardRef((function(e,t){var n=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,c=e.defaultOpen,d=e.defaultValue,h=e.disabled,p=e.displayEmpty,v=e.IconComponent,m=e.inputRef,y=e.labelId,g=e.MenuProps,k=void 0===g?{}:g,b=e.multiple,w=e.name,x=e.onBlur,E=e.onChange,I=e.onClose,S=e.onFocus,_=e.onOpen,T=e.open,C=e.readOnly,A=e.renderValue,N=e.SelectDisplayProps,R=void 0===N?{}:N,P=e.tabIndex,O=e.value,D=e.variant,M=void 0===D?"standard":D,L=$(e,KD),F=l(zD({controlled:O,default:d,name:"Select"}),2),V=F[0],U=F[1],j=l(zD({controlled:T,default:c,name:"Select"}),2),z=j[0],B=j[1],q=r.useRef(null),W=r.useRef(null),H=l(r.useState(null),2),G=H[0],Q=H[1],X=r.useRef(null!=T).current,ee=l(r.useState(),2),te=ee[0],ne=ee[1],re=yi(t,m),ie=r.useCallback((function(e){W.current=e,e&&Q(e)}),[]);r.useImperativeHandle(re,(function(){return{focus:function(){W.current.focus()},node:q.current,value:V}}),[V]),r.useEffect((function(){c&&z&&G&&!X&&(ne(o?null:G.clientWidth),W.current.focus())}),[G,o]),r.useEffect((function(){a&&W.current.focus()}),[a]),r.useEffect((function(){if(y){var e=$P(W.current).getElementById(y);if(e){var t=function(){getSelection().isCollapsed&&W.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[y]);var ae,oe,ue=function(e,t){e?_&&_(t):I&&I(t),X||(ne(o?null:G.clientWidth),B(e))},se=r.Children.toArray(u),ce=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),V!==n&&(U(n),E)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:w}}),E(a,e)}b||ue(!1,t)}}},le=null!==G&&z;delete L["aria-invalid"];var fe=[],de=!1;(BR({value:V})||p)&&(A?ae=A(V):de=!0);var he=se.map((function(e){if(!r.isValidElement(e))return null;var t;if(b){if(!Array.isArray(V))throw new Error(Z(2));t=V.some((function(t){return QD(t,e.props.value)})),t&&de&&fe.push(e.props.children)}else(t=QD(V,e.props.value))&&de&&(oe=e.props.children);return t&&!0,r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ce(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));de&&(ae=b?0===fe.length?null:fe.reduce((function(e,t,n){return e.push(t),n<fe.length-1&&e.push(", "),e}),[]):oe);var pe,ve=te;!o&&X&&G&&(ve=G.clientWidth),pe="undefined"!==typeof P?P:h?null:0;var me=R.id||(w?"mui-component-select-".concat(w):void 0),ye=f({},e,{variant:M,value:V,open:le}),ge=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return J({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(wa(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},BD,t)}(ye);return(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(HD,f({ref:ie,tabIndex:pe,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":le?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[y,me].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!C){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ue(!0,e))}},onMouseDown:h||C?null:function(e){0===e.button&&(e.preventDefault(),W.current.focus(),ue(!0,e))},onBlur:function(e){!le&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:w}}),x(e))},onFocus:S},R,{ownerState:ye,className:Y(ge.select,s,R.className),id:me,children:YD(ae)?qD||(qD=(0,K.jsx)("span",{className:"notranslate",children:"\u200b"})):ae})),(0,K.jsx)($D,f({value:Array.isArray(V)?V.join(","):V,name:w,ref:q,"aria-hidden":!0,onChange:function(e){var t=se.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=se[t];U(n.props.value),E&&E(e,n)}},tabIndex:-1,disabled:h,className:ge.nativeInput,autoFocus:a,ownerState:ye},L)),(0,K.jsx)(GD,{as:v,className:ge.icon,ownerState:ye}),(0,K.jsx)(RD,f({id:"menu-".concat(w||""),anchorEl:G,open:le,onClose:function(e){ue(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:f({"aria-labelledby":y,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:f({},k.PaperProps,{style:f({minWidth:ve},null!=k.PaperProps?k.PaperProps.style:null)}),children:he}))]})})),JD=XD;function ZD(e){return Qi("MuiSvgIcon",e)}Yi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var eM=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],tM=oi("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(wa(n.color))],t["fontSize".concat(wa(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(d=g.palette)||null==(h=d[k.color])?void 0:h.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),nM=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,d=n.htmlColor,h=n.inheritViewBox,p=void 0!==h&&h,v=n.titleAccess,m=n.viewBox,y=void 0===m?"0 0 24 24":m,g=$(n,eM),k=f({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:y}),b={};p||(b.viewBox=y);var w=function(e){var t=e.color,n=e.fontSize,r=e.classes;return J({root:["root","inherit"!==t&&"color".concat(wa(t)),"fontSize".concat(wa(n))]},ZD,r)}(k);return(0,K.jsxs)(tM,f({as:s,className:Y(w.root,i),ownerState:k,focusable:"false",color:d,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},b,g,{children:[r,v?(0,K.jsx)("title",{children:v}):null]}))}));nM.muiName="SvgIcon";var rM=nM;var iM,aM,oM=function(e,t){var n=function(n,r){return(0,K.jsx)(rM,f({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=rM.muiName,r.memo(r.forwardRef(n))}((0,K.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),uM=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],sM={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return ri(e)&&"variant"!==e},slot:"Root"},cM=oi(aP,sM)(""),lM=oi(IP,sM)(""),fM=oi(hP,sM)(""),dM=r.forwardRef((function(e,t){var n=pi({name:"MuiSelect",props:e}),i=n.autoWidth,a=void 0!==i&&i,o=n.children,u=n.classes,s=void 0===u?{}:u,c=n.className,l=n.defaultOpen,d=void 0!==l&&l,h=n.displayEmpty,p=void 0!==h&&h,v=n.IconComponent,m=void 0===v?oM:v,y=n.id,g=n.input,k=n.inputProps,b=n.label,w=n.labelId,x=n.MenuProps,E=n.multiple,I=void 0!==E&&E,S=n.native,_=void 0!==S&&S,T=n.onClose,C=n.onOpen,A=n.open,N=n.renderValue,R=n.SelectDisplayProps,P=n.variant,O=void 0===P?"outlined":P,D=$(n,uM),M=_?jD:JD,L=MR({props:n,muiFormControl:FR(),states:["variant"]}).variant||O,F=g||{standard:iM||(iM=(0,K.jsx)(cM,{})),outlined:(0,K.jsx)(lM,{label:b}),filled:aM||(aM=(0,K.jsx)(fM,{}))}[L],V=function(e){return e.classes}(f({},n,{variant:L,classes:s})),U=yi(t,F.ref);return r.cloneElement(F,f({inputComponent:M,inputProps:f({children:o,IconComponent:m,variant:L,type:void 0,multiple:I},_?{id:y}:{autoWidth:a,defaultOpen:d,displayEmpty:p,labelId:w,MenuProps:x,onClose:T,onOpen:C,open:A,renderValue:N,SelectDisplayProps:f({id:y},R)},k,{classes:k?qt(V,k.classes):V},g?g.props.inputProps:{})},I&&_&&"outlined"===L?{notched:!0}:{},{ref:U,className:Y(F.props.className,c),variant:L},D))}));dM.muiName="Select";var hM=dM;function pM(e){return Qi("MuiTextField",e)}Yi("MuiTextField",["root"]);var vM=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],mM={standard:aP,filled:hP,outlined:IP},yM=oi(zP,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),gM=r.forwardRef((function(e,t){var n=pi({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,d=n.disabled,h=void 0!==d&&d,p=n.error,v=void 0!==p&&p,m=n.FormHelperTextProps,y=n.fullWidth,g=void 0!==y&&y,k=n.helperText,b=n.id,w=n.InputLabelProps,x=n.inputProps,E=n.InputProps,I=n.inputRef,S=n.label,_=n.maxRows,T=n.minRows,C=n.multiline,A=void 0!==C&&C,N=n.name,R=n.onBlur,P=n.onChange,O=n.onFocus,D=n.placeholder,M=n.required,L=void 0!==M&&M,F=n.rows,V=n.select,U=void 0!==V&&V,j=n.SelectProps,z=n.type,B=n.value,q=n.variant,W=void 0===q?"outlined":q,H=$(n,vM),G=f({},n,{autoFocus:a,color:c,disabled:h,error:v,fullWidth:g,multiline:A,required:L,select:U,variant:W}),Q=function(e){return J({root:["root"]},pM,e.classes)}(G);var X={};"outlined"===W&&(w&&"undefined"!==typeof w.shrink&&(X.notched=w.shrink),X.label=S),U&&(j&&j.native||(X.id=void 0),X["aria-describedby"]=void 0);var Z=SR(b),ee=k&&Z?"".concat(Z,"-helper-text"):void 0,te=S&&Z?"".concat(Z,"-label"):void 0,ne=mM[W],re=(0,K.jsx)(ne,f({"aria-describedby":ee,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:g,multiline:A,name:N,rows:F,maxRows:_,minRows:T,type:z,value:B,id:Z,inputRef:I,onBlur:R,onChange:P,onFocus:O,placeholder:D,inputProps:x},X,E));return(0,K.jsxs)(yM,f({className:Y(Q.root,u),disabled:h,error:v,fullWidth:g,ref:t,required:L,color:c,variant:W,ownerState:G},H,{children:[null!=S&&""!==S&&(0,K.jsx)(MP,f({htmlFor:Z,id:te},w,{children:S})),U?(0,K.jsx)(hM,f({"aria-describedby":ee,id:Z,labelId:te,value:B,input:re},j,{children:o})):re,k&&(0,K.jsx)(GP,f({id:ee},m,{children:k}))]}))})),kM=gM,bM=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],u=A();return(0,K.jsxs)("div",{className:"container App",children:[(0,K.jsx)("h1",{className:"title",children:"Logowanie"}),(0,K.jsx)(kM,{onChange:function(e){e.preventDefault();var t=e.target.value;n(t)},sx:{margin:.8},className:"input",type:"email",id:"outlined-basic",label:"E-mail",spacing:"",variant:"outlined",autoFocus:!0}),(0,K.jsx)(kM,{onChange:function(e){e.preventDefault();var t=e.target.value;o(t)},sx:{margin:.8},className:"input",type:"password",id:"outlined-basic",label:"Has\u0142o",variant:"outlined"}),(0,K.jsx)(Ra,{onClick:function(e){e.preventDefault(),Gl(wR,t,a).then((function(e){var t=e.user;console.log(t.uid),u("/profile")})).catch((function(e){alert("B\u0142\u0119dne logowanie!")}))},sx:{margin:.8},className:"login-button",variant:"contained",size:"large",children:"Zaloguj"})]})};var wM=function(){return(0,K.jsx)(W,{basename:"/Intern-project1.0",children:(0,K.jsxs)(_,{children:[(0,K.jsx)(I,{path:"/",element:(0,K.jsx)(bM,{})}),(0,K.jsx)(I,{path:"/profile",element:(0,K.jsx)(xR,{})}),(0,K.jsx)(I,{path:"*",element:(0,K.jsx)(H,{})})]})})};a.render((0,K.jsx)(r.StrictMode,{children:(0,K.jsx)(wM,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.4bc0979a.js.map